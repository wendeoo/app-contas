"use strict";(self.webpackChunkapp_contas=self.webpackChunkapp_contas||[]).push([[179],{2011:(ct,Ee,k)=>{k.d(Ee,{Dh:()=>he,GT:()=>ne,cc:()=>Ie,hO:()=>Le,on:()=>B,pX:()=>ae,xv:()=>de});var u=k(4650),X=k(9260),N=k(2122);ct=k.hmd(ct);const se=["ngOnDestroy"],ae=(De,we,Fe,Se={})=>new Proxy(De,{get:(Ce,Te)=>Fe.runOutsideAngular(()=>{var je;if(De[Te])return!(null===(je=Se?.spy)||void 0===je)&&je.get&&Se.spy.get(Te,De[Te]),De[Te];if(se.indexOf(Te)>-1)return()=>{};const Ne=we.toPromise().then(U=>{const ve=U&&U[Te];return"function"==typeof ve?ve.bind(U):ve&&ve.then?ve.then(q=>Fe.run(()=>q)):Fe.run(()=>ve)});return new Proxy(()=>{},{get:(U,ve)=>Ne[ve],apply:(U,ve,q)=>Ne.then(Q=>{var oe;const re=Q&&Q(...q);return!(null===(oe=Se?.spy)||void 0===oe)&&oe.apply&&Se.spy.apply(Te,q,re),re})})})}),ne=(De,we)=>{we.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(Se=>{Object.defineProperty(De.prototype,Se,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,Se))})})};class me{constructor(we){return we}}const he=new u.OlP("angularfire2.app.options"),de=new u.OlP("angularfire2.app.name");function B(De,we,Fe){const Ce="object"==typeof Fe&&Fe||{};Ce.name=Ce.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const je=X.Z.apps.filter(Ne=>Ne&&Ne.name===Ce.name)[0]||we.runOutsideAngular(()=>X.Z.initializeApp(De,Ce));try{JSON.stringify(De)!==JSON.stringify(je.options)&&j("error",`${je.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(je)}const j=(De,...we)=>{(0,u.X6Q)()&&typeof console<"u"&&console[De](...we)},K={provide:me,useFactory:B,deps:[he,u.R0b,[new u.FiY,de]]};let Le=(()=>{class De{constructor(Fe){X.Z.registerVersion("angularfire",N.q4.full,"core"),X.Z.registerVersion("angularfire",N.q4.full,"app-compat"),X.Z.registerVersion("angular",u.q4F.full,Fe.toString())}static initializeApp(Fe,Se){return{ngModule:De,providers:[{provide:he,useValue:Fe},{provide:de,useValue:Se}]}}}return De.\u0275fac=function(Fe){return new(Fe||De)(u.LFG(u.Lbi))},De.\u0275mod=u.oAB({type:De}),De.\u0275inj=u.cJS({providers:[K]}),De})();function Ie(De,we,Fe,Se,Ce){const[,Te,je]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===De)||[];if(Te)return function ze(De,we){try{return De.toString()===we.toString()}catch{return De===we}}(Ce,je)||(ge("error",`${we} was already initialized on the ${Fe} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Ce,was:je})),Te;{const Ne=Se();return globalThis.\u0275AngularfireInstanceCache.push([De,Ne,Ce]),Ne}}const rt=!!ct.hot,ge=(De,...we)=>{(0,u.X6Q)()&&typeof console<"u"&&console[De](...we)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ct,Ee,k)=>{k.d(Ee,{q4:()=>ap,iC:()=>Ca,HU:()=>Qo,vb:()=>va,JM:()=>Ts,u3:()=>Au});var u=k(4650),X=k(259),N=k(5861),se=k(9681),ae=k(2090),ne=k(4859),me=k(1877),he=k(8766);const de="@firebase/installations",B="0.6.0",K=`w:${B}`,Le="FIS_v2",we=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fe(w){return w instanceof ae.ZR&&w.code.includes("request-failed")}function Se({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function Ce(w){return{token:w.token,requestStatus:2,expiresIn:Q(w.expiresIn),creationTime:Date.now()}}function Te(w,D){return je.apply(this,arguments)}function je(){return(je=(0,N.Z)(function*(w,D){const L=(yield D.json()).error;return we.create("request-failed",{requestName:w,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ne({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function U(w,{refreshToken:D}){const x=Ne(w);return x.append("Authorization",function oe(w){return`${Le} ${w}`}(D)),x}function ve(w){return q.apply(this,arguments)}function q(){return(q=(0,N.Z)(function*(w){const D=yield w();return D.status>=500&&D.status<600?w():D})).apply(this,arguments)}function Q(w){return Number(w.replace("s","000"))}function re(w,D){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:D},{fid:x}){const L=Se(w),Y=Ne(w),ie=D.getImmediate({optional:!0});if(ie){const ot=yield ie.getHeartbeatsHeader();ot&&Y.append("x-firebase-client",ot)}const Xe={method:"POST",headers:Y,body:JSON.stringify({fid:x,authVersion:Le,appId:w.appId,sdkVersion:K})},et=yield ve(()=>fetch(L,Xe));if(et.ok){const ot=yield et.json();return{fid:ot.fid||x,registrationStatus:2,refreshToken:ot.refreshToken,authToken:Ce(ot.authToken)}}throw yield Te("Create Installation",et)})).apply(this,arguments)}function ke(w){return new Promise(D=>{setTimeout(D,w)})}const en=/^[cdef][\w-]{21}$/;function Ot(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const x=function Ft(w){return function lt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return en.test(x)?x:""}catch{return""}}function dt(w){return`${w.appName}!${w.appId}`}const Qt=new Map;function fr(w,D){const x=dt(w);yn(x,D),function Yr(w,D){const x=function Mr(){return!Fr&&"BroadcastChannel"in self&&(Fr=new BroadcastChannel("[Firebase] FID Change"),Fr.onmessage=w=>{yn(w.data.key,w.data.fid)}),Fr}();x&&x.postMessage({key:w,fid:D}),function Tr(){0===Qt.size&&Fr&&(Fr.close(),Fr=null)}()}(x,D)}function yn(w,D){const x=Qt.get(w);if(x)for(const L of x)L(D)}let Fr=null;const hi="firebase-installations-store";let Ar=null;function Vo(){return Ar||(Ar=(0,he.X3)("firebase-installations-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(hi)}})),Ar}function ln(w,D){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,N.Z)(function*(w,D){const x=dt(w),Y=(yield Vo()).transaction(hi,"readwrite"),ie=Y.objectStore(hi),Pe=yield ie.get(x);return yield ie.put(D,x),yield Y.done,(!Pe||Pe.fid!==D.fid)&&fr(w,D.fid),D})).apply(this,arguments)}function ht(w){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,N.Z)(function*(w){const D=dt(w),L=(yield Vo()).transaction(hi,"readwrite");yield L.objectStore(hi).delete(D),yield L.done})).apply(this,arguments)}function fi(w,D){return In.apply(this,arguments)}function In(){return(In=(0,N.Z)(function*(w,D){const x=dt(w),Y=(yield Vo()).transaction(hi,"readwrite"),ie=Y.objectStore(hi),Pe=yield ie.get(x),Xe=D(Pe);return void 0===Xe?yield ie.delete(x):yield ie.put(Xe,x),yield Y.done,Xe&&(!Pe||Pe.fid!==Xe.fid)&&fr(w,Xe.fid),Xe})).apply(this,arguments)}function Sr(w){return Co.apply(this,arguments)}function Co(){return(Co=(0,N.Z)(function*(w){let D;const x=yield fi(w.appConfig,L=>{const Y=wt(L),ie=pt(w,Y);return D=ie.registrationPromise,ie.installationEntry});return""===x.fid?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}})).apply(this,arguments)}function wt(w){return pr(w||{fid:Ot(),registrationStatus:0})}function pt(w,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(we.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function _t(w,D){return Zi.apply(this,arguments)}(w,x);return{installationEntry:x,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:xn(w)}:{installationEntry:D}}function Zi(){return(Zi=(0,N.Z)(function*(w,D){try{const x=yield re(w,D);return ln(w.appConfig,x)}catch(x){throw Fe(x)&&409===x.customData.serverCode?yield ht(w.appConfig):yield ln(w.appConfig,{fid:D.fid,registrationStatus:0}),x}})).apply(this,arguments)}function xn(w){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,N.Z)(function*(w){let D=yield pi(w.appConfig);for(;1===D.registrationStatus;)yield ke(100),D=yield pi(w.appConfig);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield Sr(w);return L||x}return D})).apply(this,arguments)}function pi(w){return fi(w,D=>{if(!D)throw we.create("installation-not-found");return pr(D)})}function pr(w){return function Ks(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function rn(w,D){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:D},x){const L=qt(w,x),Y=U(w,x),ie=D.getImmediate({optional:!0});if(ie){const ot=yield ie.getHeartbeatsHeader();ot&&Y.append("x-firebase-client",ot)}const Xe={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:K,appId:w.appId}})},et=yield ve(()=>fetch(L,Xe));if(et.ok)return Ce(yield et.json());throw yield Te("Generate Auth Token",et)})).apply(this,arguments)}function qt(w,{fid:D}){return`${Se(w)}/${D}/authTokens:generate`}function gr(w){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,N.Z)(function*(w,D=!1){let x;const L=yield fi(w.appConfig,ie=>{if(!Rt(ie))throw we.create("not-registered");const Pe=ie.authToken;if(!D&&H(Pe))return ie;if(1===Pe.requestStatus)return x=$e(w,D),ie;{if(!navigator.onLine)throw we.create("app-offline");const Xe=W(ie);return x=Ct(w,Xe),Xe}});return x?yield x:L.authToken})).apply(this,arguments)}function $e(w,D){return be.apply(this,arguments)}function be(){return(be=(0,N.Z)(function*(w,D){let x=yield Je(w.appConfig);for(;1===x.authToken.requestStatus;)yield ke(100),x=yield Je(w.appConfig);const L=x.authToken;return 0===L.requestStatus?gr(w,D):L})).apply(this,arguments)}function Je(w){return fi(w,D=>{if(!Rt(D))throw we.create("not-registered");return function _e(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ct(w,D){return Et.apply(this,arguments)}function Et(){return(Et=(0,N.Z)(function*(w,D){try{const x=yield rn(w,D),L=Object.assign(Object.assign({},D),{authToken:x});return yield ln(w.appConfig,L),x}catch(x){if(!Fe(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield ln(w.appConfig,L)}else yield ht(w.appConfig);throw x}})).apply(this,arguments)}function Rt(w){return void 0!==w&&2===w.registrationStatus}function H(w){return 2===w.requestStatus&&!function V(w){const D=Date.now();return D<w.creationTime||w.creationTime+w.expiresIn<D+36e5}(w)}function W(w){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:D})}function nt(){return(nt=(0,N.Z)(function*(w){const D=w,{installationEntry:x,registrationPromise:L}=yield Sr(D);return L?L.catch(console.error):gr(D).catch(console.error),x.fid})).apply(this,arguments)}function Gt(){return(Gt=(0,N.Z)(function*(w,D=!1){const x=w;return yield Mn(x),(yield gr(x,D)).token})).apply(this,arguments)}function Mn(w){return mt.apply(this,arguments)}function mt(){return(mt=(0,N.Z)(function*(w){const{registrationPromise:D}=yield Sr(w);D&&(yield D)})).apply(this,arguments)}function ja(w){return we.create("missing-app-config-values",{valueName:w})}const Kc="installations",Tn=w=>{const D=w.getProvider("app").getImmediate(),x=function Qs(w){if(!w||!w.options)throw ja("App Configuration");if(!w.name)throw ja("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!w.options[x])throw ja(x);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(D);return{app:D,appConfig:x,heartbeatServiceProvider:(0,se._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},vl=w=>{const D=w.getProvider("app").getImmediate(),x=(0,se._getProvider)(D,Kc).getImmediate();return{getId:()=>function te(w){return nt.apply(this,arguments)}(x),getToken:Y=>function Nt(w){return Gt.apply(this,arguments)}(x,Y)}};(function Yc(){(0,se._registerComponent)(new ne.wA(Kc,Tn,"PUBLIC")),(0,se._registerComponent)(new ne.wA("installations-internal",vl,"PRIVATE"))})(),(0,se.registerVersion)(de,B),(0,se.registerVersion)(de,B,"esm2017");const Js="@firebase/remote-config",Un=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ls{constructor(D,x,L,Y){this.client=D,this.storage=x,this.storageCache=L,this.logger=Y}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,Y=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var x=this;return(0,N.Z)(function*(){const[L,Y]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Y&&x.isCachedDataFresh(D.cacheMaxAgeMillis,L))return Y;D.eTag=Y&&Y.eTag;const ie=yield x.client.fetch(D),Pe=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Pe.push(x.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Pe),ie})()}}function Qr(w=navigator){return w.languages&&w.languages[0]||w.language}class bo{constructor(D,x,L,Y,ie,Pe){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=L,this.projectId=Y,this.apiKey=ie,this.appId=Pe}fetch(D){var x=this;return(0,N.Z)(function*(){const[L,Y]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},et={sdk_version:x.sdkVersion,app_instance_id:L,app_instance_id_token:Y,app_id:x.appId,language_code:Qr()},ot={method:"POST",headers:Xe,body:JSON.stringify(et)},$t=fetch(Pe,ot),Dt=new Promise((bi,oi)=>{D.signal.addEventListener(()=>{const Wl=new Error("The operation was aborted.");Wl.name="AbortError",oi(Wl)})});let ii;try{yield Promise.race([$t,Dt]),ii=yield $t}catch(bi){let oi="fetch-client-network";throw"AbortError"===bi?.name&&(oi="fetch-timeout"),Un.create(oi,{originalErrorMessage:bi?.message})}let Xn=ii.status;const Su=ii.headers.get("ETag")||void 0;let xu,mc;if(200===ii.status){let bi;try{bi=yield ii.json()}catch(oi){throw Un.create("fetch-client-parse",{originalErrorMessage:oi?.message})}xu=bi.entries,mc=bi.state}if("INSTANCE_STATE_UNSPECIFIED"===mc?Xn=500:"NO_CHANGE"===mc?Xn=304:("NO_TEMPLATE"===mc||"EMPTY_CONFIG"===mc)&&(xu={}),304!==Xn&&200!==Xn)throw Un.create("fetch-status",{httpStatus:Xn});return{status:Xn,eTag:Su,config:xu}})()}}class np{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,N.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:L}){var Y=this;return(0,N.Z)(function*(){yield function Fn(w,D){return new Promise((x,L)=>{const Y=Math.max(D-Date.now(),0),ie=setTimeout(x,Y);w.addEventListener(()=>{clearTimeout(ie),L(Un.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const ie=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function sn(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ie))throw ie;const Pe={throttleEndTimeMillis:Date.now()+(0,ae.$s)(L),backoffCount:L+1};return yield Y.storage.setThrottleMetadata(Pe),Y.attemptFetch(D,Pe)}})()}}class ds{constructor(D,x,L,Y,ie){this.app=D,this._client=x,this._storageCache=L,this._storage=Y,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function jo(w,D){const x=w.target.error||void 0;return Un.create(D,{originalErrorMessage:x&&x?.message})}const xr="app_namespace_store";class gi{constructor(D,x,L,Y=function Ur(){return new Promise((w,D)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=L=>{D(jo(L,"storage-open"))},x.onsuccess=L=>{w(L.target.result)},x.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(xr,{keyPath:"compositeKey"})}}catch(x){D(Un.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=D,this.appName=x,this.namespace=L,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,N.Z)(function*(){const L=yield x.openDbPromise;return new Promise((Y,ie)=>{const Xe=L.transaction([xr],"readonly").objectStore(xr),et=x.createCompositeKey(D);try{const ot=Xe.get(et);ot.onerror=$t=>{ie(jo($t,"storage-get"))},ot.onsuccess=$t=>{const Dt=$t.target.result;Y(Dt?Dt.value:void 0)}}catch(ot){ie(Un.create("storage-get",{originalErrorMessage:ot?.message}))}})})()}set(D,x){var L=this;return(0,N.Z)(function*(){const Y=yield L.openDbPromise;return new Promise((ie,Pe)=>{const et=Y.transaction([xr],"readwrite").objectStore(xr),ot=L.createCompositeKey(D);try{const $t=et.put({compositeKey:ot,value:x});$t.onerror=Dt=>{Pe(jo(Dt,"storage-set"))},$t.onsuccess=()=>{ie()}}catch($t){Pe(Un.create("storage-set",{originalErrorMessage:$t?.message}))}})})()}delete(D){var x=this;return(0,N.Z)(function*(){const L=yield x.openDbPromise;return new Promise((Y,ie)=>{const Xe=L.transaction([xr],"readwrite").objectStore(xr),et=x.createCompositeKey(D);try{const ot=Xe.delete(et);ot.onerror=$t=>{ie(jo($t,"storage-delete"))},ot.onsuccess=()=>{Y()}}catch(ot){ie(Un.create("storage-delete",{originalErrorMessage:ot?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class ea{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,N.Z)(function*(){const x=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),ie=yield x;ie&&(D.lastFetchStatus=ie);const Pe=yield L;Pe&&(D.lastSuccessfulFetchTimestampMillis=Pe);const Xe=yield Y;Xe&&(D.activeConfig=Xe)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function ta(){return eh.apply(this,arguments)}function eh(){return(eh=(0,N.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function mi(){(0,se._registerComponent)(new ne.wA("remote-config",function w(D,{instanceIdentifier:x}){const L=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Un.create("registration-window");if(!(0,ae.hl)())throw Un.create("indexed-db-unavailable");const{projectId:ie,apiKey:Pe,appId:Xe}=L.options;if(!ie)throw Un.create("registration-project-id");if(!Pe)throw Un.create("registration-api-key");if(!Xe)throw Un.create("registration-app-id");const et=new gi(Xe,L.name,x=x||"firebase"),ot=new ea(et),$t=new me.Yd(Js);$t.logLevel=me.in.ERROR;const Dt=new bo(Y,se.SDK_VERSION,x,ie,Pe,Xe),ii=new np(Dt,et),Xn=new ls(ii,et,ot,$t),Su=new ds(L,Xn,ot,et,$t);return function hn(w){const D=(0,ae.m9)(w);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Su),Su},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Js,"0.4.0"),(0,se.registerVersion)(Js,"0.4.0","esm2017")}();const Jc="/firebase-messaging-sw.js",Qi="/firebase-cloud-messaging-push-scope",Ho="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",El="google.c.a.c_id",th="google.c.a.c_l",Xc="google.c.a.ts",wl="google.c.a.e";var Ga=(()=>{return(w=Ga||(Ga={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Ga;var w})();function _i(w){const D=new Uint8Array(w);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Il(w){const x=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),Y=new Uint8Array(L.length);for(let ie=0;ie<L.length;++ie)Y[ie]=L.charCodeAt(ie);return Y}const eu="fcm_token_details_db",Or="fcm_token_object_Store";function tu(w){return nu.apply(this,arguments)}function nu(){return nu=(0,N.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(eu))return null;let D=null;return(yield(0,he.X3)(eu,5,{upgrade:(L=(0,N.Z)(function*(Y,ie,Pe,Xe){var et;if(ie<2||!Y.objectStoreNames.contains(Or))return;const ot=Xe.objectStore(Or),$t=yield ot.index("fcmSenderId").get(w);if(yield ot.clear(),$t)if(2===ie){const Dt=$t;if(!Dt.auth||!Dt.p256dh||!Dt.endpoint)return;D={token:Dt.fcmToken,createTime:null!==(et=Dt.createTime)&&void 0!==et?et:Date.now(),subscriptionOptions:{auth:Dt.auth,p256dh:Dt.p256dh,endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:"string"==typeof Dt.vapidKey?Dt.vapidKey:_i(Dt.vapidKey)}}}else if(3===ie){const Dt=$t;D={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:_i(Dt.auth),p256dh:_i(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:_i(Dt.vapidKey)}}}else if(4===ie){const Dt=$t;D={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:_i(Dt.auth),p256dh:_i(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:_i(Dt.vapidKey)}}}}),function(ie,Pe,Xe,et){return L.apply(this,arguments)})})).close(),yield(0,he.Lj)(eu),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),nh(D)?D:null;var L}),nu.apply(this,arguments)}function nh(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:D}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Eo="firebase-messaging-store";let ra=null;function Go(){return ra||(ra=(0,he.X3)("firebase-messaging-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(Eo)}})),ra}function za(w){return qa.apply(this,arguments)}function qa(){return(qa=(0,N.Z)(function*(w){const D=Za(w),L=yield(yield Go()).transaction(Eo).objectStore(Eo).get(D);if(L)return L;{const Y=yield tu(w.appConfig.senderId);if(Y)return yield zo(w,Y),Y}})).apply(this,arguments)}function zo(w,D){return ia.apply(this,arguments)}function ia(){return(ia=(0,N.Z)(function*(w,D){const x=Za(w),Y=(yield Go()).transaction(Eo,"readwrite");return yield Y.objectStore(Eo).put(D,x),yield Y.done,D})).apply(this,arguments)}function Wa(w){return hs.apply(this,arguments)}function hs(){return(hs=(0,N.Z)(function*(w){const D=Za(w),L=(yield Go()).transaction(Eo,"readwrite");yield L.objectStore(Eo).delete(D),yield L.done})).apply(this,arguments)}function Za({appConfig:w}){return w.appId}const On=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function oa(w,D){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,N.Z)(function*(w,D){const x=yield wo(w),L=sa(D),Y={method:"POST",headers:x,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(ps(w.appConfig),Y)).json()}catch(Pe){throw On.create("token-subscribe-failed",{errorInfo:Pe?.toString()})}if(ie.error)throw On.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw On.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function fs(w,D){return qo.apply(this,arguments)}function qo(){return(qo=(0,N.Z)(function*(w,D){const x=yield wo(w),L=sa(D.subscriptionOptions),Y={method:"PATCH",headers:x,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(`${ps(w.appConfig)}/${D.token}`,Y)).json()}catch(Pe){throw On.create("token-update-failed",{errorInfo:Pe?.toString()})}if(ie.error)throw On.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw On.create("token-update-no-token");return ie.token})).apply(this,arguments)}function ar(w,D){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,N.Z)(function*(w,D){const L={method:"DELETE",headers:yield wo(w)};try{const ie=yield(yield fetch(`${ps(w.appConfig)}/${D}`,L)).json();if(ie.error)throw On.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(Y){throw On.create("token-unsubscribe-failed",{errorInfo:Y?.toString()})}})).apply(this,arguments)}function ps({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function wo(w){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,N.Z)(function*({appConfig:w,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function sa({p256dh:w,auth:D,endpoint:x,vapidKey:L}){const Y={web:{endpoint:x,auth:D,p256dh:w}};return L!==Ho&&(Y.web.applicationPubKey=L),Y}const aa=6048e5;function Ka(w){return ki.apply(this,arguments)}function ki(){return(ki=(0,N.Z)(function*(w){const D=yield iu(w.swRegistration,w.vapidKey),x={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:D.endpoint,auth:_i(D.getKey("auth")),p256dh:_i(D.getKey("p256dh"))},L=yield za(w.firebaseDependencies);if(L){if(Ja(L.subscriptionOptions,x))return Date.now()>=L.createTime+aa?It(w,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield ar(w.firebaseDependencies,L.token)}catch(Y){console.warn(Y)}return ru(w.firebaseDependencies,x)}return ru(w.firebaseDependencies,x)})).apply(this,arguments)}function ca(w){return ua.apply(this,arguments)}function ua(){return(ua=(0,N.Z)(function*(w){const D=yield za(w.firebaseDependencies);D&&(yield ar(w.firebaseDependencies,D.token),yield Wa(w.firebaseDependencies));const x=yield w.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function It(w,D){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,N.Z)(function*(w,D){try{const x=yield fs(w.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield zo(w.firebaseDependencies,L),x}catch(x){throw yield ca(w),x}})).apply(this,arguments)}function ru(w,D){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,N.Z)(function*(w,D){const L={token:yield oa(w,D),createTime:Date.now(),subscriptionOptions:D};return yield zo(w,L),L.token})).apply(this,arguments)}function iu(w,D){return Al.apply(this,arguments)}function Al(){return(Al=(0,N.Z)(function*(w,D){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Il(D)})})).apply(this,arguments)}function Ja(w,D){return D.vapidKey===w.vapidKey&&D.endpoint===w.endpoint&&D.auth===w.auth&&D.p256dh===w.p256dh}function Vn(w){const D={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Sl(w,D){if(!D.notification)return;w.notification={};const x=D.notification.title;x&&(w.notification.title=x);const L=D.notification.body;L&&(w.notification.body=L);const Y=D.notification.image;Y&&(w.notification.image=Y);const ie=D.notification.icon;ie&&(w.notification.icon=ie)}(D,w),function Me(w,D){!D.data||(w.data=D.data)}(D,w),function Zt(w,D){var x,L,Y,ie,Pe;if(!(D.fcmOptions||null!==(x=D.notification)&&void 0!==x&&x.click_action))return;w.fcmOptions={};const Xe=null!==(Y=null===(L=D.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==Y?Y:null===(ie=D.notification)||void 0===ie?void 0:ie.click_action;Xe&&(w.fcmOptions.link=Xe);const et=null===(Pe=D.fcmOptions)||void 0===Pe?void 0:Pe.analytics_label;et&&(w.fcmOptions.analyticsLabel=et)}(D,w),D}function ou(w){return"object"==typeof w&&!!w&&El in w}function xl(w,D){const x=[];for(let L=0;L<w.length;L++)x.push(w.charAt(L)),L<D.length&&x.push(D.charAt(L));return x.join("")}function gs(w){return On.create("missing-app-config-values",{valueName:w})}xl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),xl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xa{constructor(D,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function cr(w){if(!w||!w.options)throw gs("App Configuration Object");if(!w.name)throw gs("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=w;for(const L of D)if(!x[L])throw gs(L);return{appName:w.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Xr(w){return ec.apply(this,arguments)}function ec(){return(ec=(0,N.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Jc,{scope:Qi}),w.swRegistration.update().catch(()=>{})}catch(D){throw On.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function ms(w,D){return su.apply(this,arguments)}function su(){return(su=(0,N.Z)(function*(w,D){if(!D&&!w.swRegistration&&(yield Xr(w)),D||!w.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw On.create("invalid-sw-registration");w.swRegistration=D}})).apply(this,arguments)}function Ol(w,D){return _s.apply(this,arguments)}function _s(){return(_s=(0,N.Z)(function*(w,D){D?w.vapidKey=D:w.vapidKey||(w.vapidKey=Ho)})).apply(this,arguments)}function Fi(){return(Fi=(0,N.Z)(function*(w,D){if(!navigator)throw On.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw On.create("permission-blocked");return yield Ol(w,D?.vapidKey),yield ms(w,D?.serviceWorkerRegistration),Ka(w)})).apply(this,arguments)}function au(w,D,x){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,N.Z)(function*(w,D,x){const L=ei(D);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[El],message_name:x[th],message_time:x[Xc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ei(w){switch(w){case Ga.NOTIFICATION_CLICKED:return"notification_open";case Ga.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function cu(){return(cu=(0,N.Z)(function*(w,D){const x=D.data;if(!x.isFirebaseMessaging)return;w.onMessageHandler&&x.messageType===Ga.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Vn(x)):w.onMessageHandler.next(Vn(x)));const L=x.data;ou(L)&&"1"===L[wl]&&(yield au(w,x.messageType,L))})).apply(this,arguments)}const uu="@firebase/messaging",Pl=w=>{const D=new Xa(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function rp(w,D){return cu.apply(this,arguments)}(D,x)),D},Wo=w=>{const D=w.getProvider("messaging").getImmediate();return{getToken:L=>function An(w,D){return Fi.apply(this,arguments)}(D,L)}};function lu(){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,N.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rl(){(0,se._registerComponent)(new ne.wA("messaging",Pl,"PUBLIC")),(0,se._registerComponent)(new ne.wA("messaging-internal",Wo,"PRIVATE")),(0,se.registerVersion)(uu,"0.12.0"),(0,se.registerVersion)(uu,"0.12.0","esm2017")}();const du="analytics",jr="firebase_id",ys="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hu="https://www.googletagmanager.com/gtag/js",ur=new me.Yd("@firebase/analytics");function oh(w){return Promise.all(w.map(D=>D.catch(x=>x)))}function sp(w,D){const x=document.createElement("script");x.src=`${hu}?l=${w}&id=${D}`,x.async=!0,document.head.appendChild(x)}function Io(w,D,x,L,Y,ie){return ti.apply(this,arguments)}function ti(){return(ti=(0,N.Z)(function*(w,D,x,L,Y,ie){const Pe=L[Y];try{if(Pe)yield D[Pe];else{const et=(yield oh(x)).find(ot=>ot.measurementId===Y);et&&(yield D[et.appId])}}catch(Xe){ur.error(Xe)}w("config",Y,ie)})).apply(this,arguments)}function rc(w,D,x,L,Y){return yi.apply(this,arguments)}function yi(){return(yi=(0,N.Z)(function*(w,D,x,L,Y){try{let ie=[];if(Y&&Y.send_to){let Pe=Y.send_to;Array.isArray(Pe)||(Pe=[Pe]);const Xe=yield oh(x);for(const et of Pe){const ot=Xe.find(Dt=>Dt.measurementId===et),$t=ot&&D[ot.appId];if(!$t){ie=[];break}ie.push($t)}}0===ie.length&&(ie=Object.values(D)),yield Promise.all(ie),w("event",L,Y||{})}catch(ie){ur.error(ie)}})).apply(this,arguments)}function vs(w){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(hu)&&x.src.includes(w))return x;return null}const ni=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),gu=new class Li{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Fl(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Do(w){return mu.apply(this,arguments)}function mu(){return(mu=(0,N.Z)(function*(w){var D;const{appId:x,apiKey:L}=w,Y={method:"GET",headers:Fl(L)},ie=ys.replace("{app-id}",x),Pe=yield fetch(ie,Y);if(200!==Pe.status&&304!==Pe.status){let Xe="";try{const et=yield Pe.json();null!==(D=et.error)&&void 0!==D&&D.message&&(Xe=et.error.message)}catch{}throw ni.create("config-fetch-failed",{httpStatus:Pe.status,responseMessage:Xe})}return Pe.json()})).apply(this,arguments)}function vn(w){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,N.Z)(function*(w,D=gu,x){const{appId:L,apiKey:Y,measurementId:ie}=w.options;if(!L)throw ni.create("no-app-id");if(!Y){if(ie)return{measurementId:ie,appId:L};throw ni.create("no-api-key")}const Pe=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new oc;return setTimeout((0,N.Z)(function*(){Xe.abort()}),void 0!==x?x:6e4),bs({appId:L,apiKey:Y,measurementId:ie},Pe,Xe,D)})).apply(this,arguments)}function bs(w,D,x){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,N.Z)(function*(w,{throttleEndTimeMillis:D,backoffCount:x},L,Y=gu){var ie;const{appId:Pe,measurementId:Xe}=w;try{yield ic(L,D)}catch(et){if(Xe)return ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${et?.message}]`),{appId:Pe,measurementId:Xe};throw et}try{const et=yield Do(w);return Y.deleteThrottleMetadata(Pe),et}catch(et){const ot=et;if(!Ll(ot)){if(Y.deleteThrottleMetadata(Pe),Xe)return ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${ot?.message}]`),{appId:Pe,measurementId:Xe};throw et}const $t=503===Number(null===(ie=ot?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,ae.$s)(x,Y.intervalMillis,30):(0,ae.$s)(x,Y.intervalMillis),Dt={throttleEndTimeMillis:Date.now()+$t,backoffCount:x+1};return Y.setThrottleMetadata(Pe,Dt),ur.debug(`Calling attemptFetch again in ${$t} millis`),bs(w,Dt,L,Y)}})).apply(this,arguments)}function ic(w,D){return new Promise((x,L)=>{const Y=Math.max(D-Date.now(),0),ie=setTimeout(x,Y);w.addEventListener(()=>{clearTimeout(ie),L(ni.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Ll(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}class oc{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let sc,Ko;function Xi(){return(Xi=(0,N.Z)(function*(w,D,x,L,Y){if(Y&&Y.global)w("event",x,L);else{const ie=yield D;w("event",x,Object.assign(Object.assign({},L),{send_to:ie}))}})).apply(this,arguments)}function pa(w){Ko=w}function lc(w){sc=w}function yu(){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,N.Z)(function*(){if(!(0,ae.hl)())return ur.warn(ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(w){return ur.warn(ni.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function vu(){return(vu=(0,N.Z)(function*(w,D,x,L,Y,ie,Pe){var Xe;const et=vn(w);et.then(Xn=>{x[Xn.measurementId]=Xn.appId,w.options.measurementId&&Xn.measurementId!==w.options.measurementId&&ur.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xn=>ur.error(Xn)),D.push(et);const ot=yu().then(Xn=>{if(Xn)return L.getId()}),[$t,Dt]=yield Promise.all([et,ot]);vs(ie)||sp(ie,$t.measurementId),Ko&&(Y("consent","default",Ko),pa(void 0)),Y("js",new Date);const ii=null!==(Xe=Pe?.config)&&void 0!==Xe?Xe:{};return ii.origin="firebase",ii.update=!0,null!=Dt&&(ii[jr]=Dt),Y("config",$t.measurementId,ii),sc&&(Y("set",sc),lc(void 0)),$t.measurementId})).apply(this,arguments)}class ah{constructor(D){this.app=D}_delete(){return delete vi[this.app.options.appId],Promise.resolve()}}let vi={},Cu=[];const ga={};let dc,Vi,Ci="dataLayer",ri=!1;function wu(w,D,x){!function Eu(){const w=[];if((0,ae.ru)()&&w.push("This is a browser extension environment."),(0,ae.zI)()||w.push("Cookies are not available."),w.length>0){const D=w.map((L,Y)=>`(${Y+1}) ${L}`).join(" "),x=ni.create("invalid-analytics-context",{errorInfo:D});ur.warn(x.message)}}();const L=w.options.appId;if(!L)throw ni.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw ni.create("no-api-key");ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vi[L])throw ni.create("already-exists",{id:L});if(!ri){!function sh(w){let D=[];Array.isArray(window[w])?D=window[w]:window[w]=D}(Ci);const{wrappedGtag:ie,gtagCore:Pe}=function kl(w,D,x,L,Y){let ie=function(...Pe){window[L].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ie=window[Y]),window[Y]=function fu(w,D,x,L){function ie(){return(ie=(0,N.Z)(function*(Pe,Xe,et){try{"event"===Pe?yield rc(w,D,x,Xe,et):"config"===Pe?yield Io(w,D,x,L,Xe,et):"consent"===Pe?w("consent","update",et):w("set",Xe)}catch(ot){ur.error(ot)}})).apply(this,arguments)}return function Y(Pe,Xe,et){return ie.apply(this,arguments)}}(ie,w,D,x),{gtagCore:ie,wrappedGtag:window[Y]}}(vi,Cu,ga,Ci,"gtag");Vi=ie,dc=Pe,ri=!0}return vi[L]=function eo(w,D,x,L,Y,ie,Pe){return vu.apply(this,arguments)}(w,Cu,ga,D,dc,Ci,x),new ah(w)}function Bl(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,N.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const an="@firebase/analytics";!function Hl(){(0,se._registerComponent)(new ne.wA(du,(D,{options:x})=>wu(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,se._registerComponent)(new ne.wA("analytics-internal",function w(D){try{const x=D.getProvider(du).getImmediate();return{logEvent:(L,Y,ie)=>function dh(w,D,x,L){w=(0,ae.m9)(w),function Es(w,D,x,L,Y){return Xi.apply(this,arguments)}(Vi,vi[w.app.options.appId],D,x,L).catch(Y=>ur.error(Y))}(x,L,Y,ie)}}catch(x){throw ni.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,se.registerVersion)(an,"0.9.0"),(0,se.registerVersion)(an,"0.9.0","esm2017")}();var Du=k(4408),hh=k(7565);const Gl=new class $l extends hh.v{}(class bm extends Du.o{constructor(D,x){super(D,x),this.scheduler=D,this.work=x}schedule(D,x=0){return x>0?super.schedule(D,x):(this.delay=x,this.state=D,this.scheduler.flush(this),this)}execute(D,x){return x>0||this.closed?super.execute(D,x):this._execute(D,x)}requestAsyncId(D,x,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,x,L):(D.flush(this),0)}});var fh=k(4986),fc=k(9751),gn=k(8505),_a=k(9468),Ds=k(5363);const ap=new u.GfV("7.5.0"),Hr="__angularfire_symbol__analyticsIsSupportedValue",Ui="__angularfire_symbol__analyticsIsSupported",pc="__angularfire_symbol__remoteConfigIsSupportedValue",ya="__angularfire_symbol__remoteConfigIsSupported",Ms="__angularfire_symbol__messagingIsSupportedValue",Yo="__angularfire_symbol__messagingIsSupported";function Ts(w,D,x){if(D){if(1===D.length)return D[0];const ie=D.filter(Pe=>Pe.app===x);if(1===ie.length)return ie[0]}return x.container.getProvider(w).getImmediate({optional:!0})}globalThis[Ui]||(globalThis[Ui]=Bl().then(w=>globalThis[Hr]=w).catch(()=>globalThis[Hr]=!1)),globalThis[Yo]||(globalThis[Yo]=lu().then(w=>globalThis[Ms]=w).catch(()=>globalThis[Ms]=!1)),globalThis[ya]||(globalThis[ya]=ta().then(w=>globalThis[pc]=w).catch(()=>globalThis[pc]=!1));const va=(w,D)=>{const x=D?[D]:(0,X.C6)(),L=[];return x.forEach(Y=>{Y.container.getProvider(w).instances.forEach(Pe=>{L.includes(Pe)||L.push(Pe)})}),L};function Nr(){}class gc{constructor(D,x=Gl){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,L){const Y=this.zone;return this.delegate.schedule(function(Pe){Y.runGuarded(()=>{D.apply(this,[Pe])})},x,L)}}class cp{constructor(D){this.zone=D,this.task=null}call(D,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nr,{},Nr,Nr)),x.pipe((0,gn.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qo=(()=>{class w{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new gc(Zone.current)),this.insideAngular=x.run(()=>new gc(Zone.current,fh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(x){return new(x||w)(u.LFG(u.R0b))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function no(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function As(w){return no().ngZone.runOutsideAngular(()=>w())}function Bi(w){return no().ngZone.run(()=>w())}function Ca(w){return no(),function ba(w){return function(x){return(x=x.lift(new cp(w.ngZone))).pipe((0,_a.R)(w.outsideAngular),(0,Ds.Q)(w.insideAngular))}}(no())(w)}const Ea=(w,D)=>function(){const L=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Bi(()=>w.apply(void 0,L))},Au=(w,D)=>function(){let x;const L=arguments;for(let ie=0;ie<arguments.length;ie++)"function"==typeof L[ie]&&(D&&(x||(x=Bi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nr,{},Nr,Nr)))),L[ie]=Ea(L[ie],x));const Y=As(()=>w.apply(this,L));if(!D){if(Y instanceof fc.y){const ie=no();return Y.pipe((0,_a.R)(ie.outsideAngular),(0,Ds.Q)(ie.insideAngular))}return Bi(()=>Y)}return Y instanceof fc.y?Y.pipe(Ca):Y instanceof Promise?Bi(()=>new Promise((ie,Pe)=>Y.then(Xe=>Bi(()=>ie(Xe)),Xe=>Bi(()=>Pe(Xe))))):"function"==typeof Y&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),Y.apply(this,arguments)}:Bi(()=>Y)}},2090:(ct,Ee,k)=>{k.d(Ee,{$s:()=>Je,BH:()=>un,G6:()=>Te,L:()=>he,LL:()=>Qt,Pz:()=>en,Sg:()=>Ot,UG:()=>ze,US:()=>ne,ZB:()=>j,ZR:()=>dt,aH:()=>lt,b$:()=>De,eu:()=>Ne,hl:()=>je,jU:()=>rt,m9:()=>Rt,ne:()=>Co,pd:()=>In,r3:()=>vo,ru:()=>ge,tV:()=>de,uI:()=>Ie,vZ:()=>ln,w1:()=>Fe,xO:()=>Wi,xb:()=>Ar,z$:()=>Le,zI:()=>U,zd:()=>fi});const se=function(H){const V=[];let W=0;for(let _e=0;_e<H.length;_e++){let te=H.charCodeAt(_e);te<128?V[W++]=te:te<2048?(V[W++]=te>>6|192,V[W++]=63&te|128):55296==(64512&te)&&_e+1<H.length&&56320==(64512&H.charCodeAt(_e+1))?(te=65536+((1023&te)<<10)+(1023&H.charCodeAt(++_e)),V[W++]=te>>18|240,V[W++]=te>>12&63|128,V[W++]=te>>6&63|128,V[W++]=63&te|128):(V[W++]=te>>12|224,V[W++]=te>>6&63|128,V[W++]=63&te|128)}return V},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,V){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let te=0;te<H.length;te+=3){const nt=H[te],Nt=te+1<H.length,Gt=Nt?H[te+1]:0,Mn=te+2<H.length,mt=Mn?H[te+2]:0;let zn=(15&Gt)<<2|mt>>6,as=63&mt;Mn||(as=64,Nt||(zn=64)),_e.push(W[nt>>2],W[(3&nt)<<4|Gt>>4],W[zn],W[as])}return _e.join("")},encodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(H):this.encodeByteArray(se(H),V)},decodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(H):function(H){const V=[];let W=0,_e=0;for(;W<H.length;){const te=H[W++];if(te<128)V[_e++]=String.fromCharCode(te);else if(te>191&&te<224){const nt=H[W++];V[_e++]=String.fromCharCode((31&te)<<6|63&nt)}else if(te>239&&te<365){const Mn=((7&te)<<18|(63&H[W++])<<12|(63&H[W++])<<6|63&H[W++])-65536;V[_e++]=String.fromCharCode(55296+(Mn>>10)),V[_e++]=String.fromCharCode(56320+(1023&Mn))}else{const nt=H[W++],Nt=H[W++];V[_e++]=String.fromCharCode((15&te)<<12|(63&nt)<<6|63&Nt)}}return V.join("")}(this.decodeStringToByteArray(H,V))},decodeStringToByteArray(H,V){this.init_();const W=V?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let te=0;te<H.length;){const nt=W[H.charAt(te++)],Gt=te<H.length?W[H.charAt(te)]:0;++te;const mt=te<H.length?W[H.charAt(te)]:64;++te;const Bt=te<H.length?W[H.charAt(te)]:64;if(++te,null==nt||null==Gt||null==mt||null==Bt)throw Error();_e.push(nt<<2|Gt>>4),64!==mt&&(_e.push(Gt<<4&240|mt>>2),64!==Bt&&_e.push(mt<<6&192|Bt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},he=function(H){return function(H){const V=se(H);return ne.encodeByteArray(V,!0)}(H).replace(/\./g,"")},de=function(H){try{return ne.decodeString(H,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function j(H,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return V}for(const W in V)!V.hasOwnProperty(W)||!K(W)||(H[W]=j(H[W],V[W]));return H}function K(H){return"__proto__"!==H}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function ze(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function rt(){return"object"==typeof self&&self.self===self}function ge(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){const H=Le();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Te(){return!ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function je(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((H,V)=>{try{let W=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(_e);te.onsuccess=()=>{te.result.close(),W||self.indexedDB.deleteDatabase(_e),H(!0)},te.onupgradeneeded=()=>{W=!1},te.onerror=()=>{var nt;V((null===(nt=te.error)||void 0===nt?void 0:nt.message)||"")}}catch(W){V(W)}})}function U(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const re=()=>{try{return function ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=H&&de(H[1]);return V&&JSON.parse(V)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},lt=()=>{var H;return null===(H=re())||void 0===H?void 0:H.config},en=H=>{var V;return null===(V=re())||void 0===V?void 0:V[`_${H}`]};class un{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,W)=>{this.resolve=V,this.reject=W})}wrapCallback(V){return(W,_e)=>{W?this.reject(W):this.resolve(_e),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(W):V(W,_e))}}}function Ot(H,V){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=V||"demo-project",te=H.iat||0,nt=H.sub||H.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Nt=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:te,exp:te+3600,auth_time:te,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},H);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Nt)),""].join(".")}class dt extends Error{constructor(V,W,_e){super(W),this.code=V,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qt.prototype.create)}}class Qt{constructor(V,W,_e){this.service=V,this.serviceName=W,this.errors=_e}create(V,...W){const _e=W[0]||{},te=`${this.service}/${V}`,nt=this.errors[V],Nt=nt?function fr(H,V){return H.replace(Dr,(W,_e)=>{const te=V[_e];return null!=te?String(te):`<${_e}?>`})}(nt,_e):"Error";return new dt(te,`${this.serviceName}: ${Nt} (${te}).`,_e)}}const Dr=/\{\$([^}]+)}/g;function vo(H,V){return Object.prototype.hasOwnProperty.call(H,V)}function Ar(H){for(const V in H)if(Object.prototype.hasOwnProperty.call(H,V))return!1;return!0}function ln(H,V){if(H===V)return!0;const W=Object.keys(H),_e=Object.keys(V);for(const te of W){if(!_e.includes(te))return!1;const nt=H[te],Nt=V[te];if(Lr(nt)&&Lr(Nt)){if(!ln(nt,Nt))return!1}else if(nt!==Nt)return!1}for(const te of _e)if(!W.includes(te))return!1;return!0}function Lr(H){return null!==H&&"object"==typeof H}function Wi(H){const V=[];for(const[W,_e]of Object.entries(H))Array.isArray(_e)?_e.forEach(te=>{V.push(encodeURIComponent(W)+"="+encodeURIComponent(te))}):V.push(encodeURIComponent(W)+"="+encodeURIComponent(_e));return V.length?"&"+V.join("&"):""}function fi(H){const V={};return H.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[te,nt]=_e.split("=");V[decodeURIComponent(te)]=decodeURIComponent(nt)}}),V}function In(H){const V=H.indexOf("?");if(!V)return"";const W=H.indexOf("#",V);return H.substring(V,W>0?W:void 0)}function Co(H,V){const W=new wt(H,V);return W.subscribe.bind(W)}class wt{constructor(V,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{V(this)}).catch(_e=>{this.error(_e)})}next(V){this.forEachObserver(W=>{W.next(V)})}error(V){this.forEachObserver(W=>{W.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,W,_e){let te;if(void 0===V&&void 0===W&&void 0===_e)throw new Error("Missing Observer.");te=function _t(H,V){if("object"!=typeof H||null===H)return!1;for(const W of V)if(W in H&&"function"==typeof H[W])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:W,complete:_e},void 0===te.next&&(te.next=Zi),void 0===te.error&&(te.error=Zi),void 0===te.complete&&(te.complete=Zi);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),nt}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,V)}sendOne(V,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{W(this.observers[V])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zi(){}function Je(H,V=1e3,W=2){const _e=V*Math.pow(W,H),te=Math.round(.5*_e*(Math.random()-.5)*2);return Math.min(144e5,_e+te)}function Rt(H){return H&&H._delegate?H._delegate:H}},5847:(ct,Ee,k)=>{var u=k(4650);let X=null;function N(){return X}class ae{}const ne=new u.OlP("DocumentToken");let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function he(){return(0,u.LFG)(B)}()},providedIn:"platform"}),n})();const de=new u.OlP("Location Initialized");let B=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){j()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){j()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function K(){return new B((0,u.LFG)(ne))}()},providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function Le(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ze(n){return n&&"?"!==n[0]?"?"+n:n}let rt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(De)},providedIn:"root"}),n})();const ge=new u.OlP("appBaseHref");let De=(()=>{class n extends rt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Le(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ze(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,c){const d=this.prepareExternalUrl(i+ze(c));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,c){const d=this.prepareExternalUrl(i+ze(c));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(me),u.LFG(ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),we=(()=>{class n extends rt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Le(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,c){let d=this.prepareExternalUrl(i+ze(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,c){let d=this.prepareExternalUrl(i+ze(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(me),u.LFG(ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function je(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ie(Te(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ze(r))}normalize(t){return n.stripTrailingSlash(function Ce(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ze(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ze(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ze,n.joinWithSlash=Le,n.stripTrailingSlash=Ie,n.\u0275fac=function(t){return new(t||n)(u.LFG(rt))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Se(){return new Fe((0,u.LFG)(rt))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}let yr=(()=>{class n{constructor(t,r,i,c){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Vr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yi=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,c,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Vr(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===c?void 0:c);else if(null!==c){const m=r.get(c);r.move(m,d),kn(m,i)}});for(let i=0,c=r.length;i<c;i++){const m=r.get(i).context;m.index=i,m.count=c,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{kn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function kn(n,e){n.context.$implicit=e.item}let hn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new cs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Uo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Uo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class cs{constructor(){this.$implicit=null,this.ngIf=null}}function Uo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let _i=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Il="browser";function nu(n){return"server"===n}let Eo=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new ra((0,u.LFG)(ne),window)}),n})();class ra{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function za(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const c=i.shadowRoot;if(c){const d=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],i-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Go(this.window.history)||Go(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Go(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class sh extends ae{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Io extends sh{static makeCurrent(){!function se(n){X||(X=n)}(new Io)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function rc(){return ti=ti||document.querySelector("base"),ti?ti.getAttribute("href"):null}();return null==t?null:function fu(n){yi=yi||document.createElement("a"),yi.setAttribute("href",n);const e=yi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ti=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function _r(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let yi,ti=null;const kl=new u.OlP("TRANSITION_ID"),ha=[{provide:u.ip1,useFactory:function vs(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<i.length;c++)r.remove(i[c])})}},deps:[kl,ne,u.zs3],multi:!0}];let pu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const fa=new u.OlP("EventManagerPlugins");let Li=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let c=0;c<i.length;c++){const d=i[c];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fa),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class gu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Fl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Do=(()=>{class n extends Fl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(c=>{const d=this._doc.createElement("style");d.textContent=c,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(mu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(mu))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function mu(n){N().remove(n)}const vn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cs=/%COMP%/g;function Es(n,e){return e.flat(100).map(t=>t.replace(Cs,n))}function Xi(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let To=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Zo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new _u(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new ws(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Es(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Li),u.LFG(Do),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Zo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(vn[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Rr(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Rr(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const c=vn[i];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=vn[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Xi(r)):this.eventManager.addEventListener(e,t,Xi(r))}}function Rr(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _u extends Zo{constructor(e,t,r,i){super(e),this.component=r;const c=Es(i+"-"+r.id,r.styles);t.addStyles(c),this.contentAttr=function oc(n){return"_ngcontent-%COMP%".replace(Cs,n)}(i+"-"+r.id),this.hostAttr=function sc(n){return"_nghost-%COMP%".replace(Cs,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ws extends Zo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Es(i.id,i.styles);for(let d=0;d<c.length;d++){const m=document.createElement("style");m.textContent=c[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ko=(()=>{class n extends gu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const pa=["alt","control","meta","shift"],lc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vl=(()=>{class n extends gu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,c.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const c=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),pa.forEach(I=>{const S=r.indexOf(I);S>-1&&(r.splice(S,1),d+=I+".")}),d+=c,0!=r.length||0===c.length)return null;const C={};return C.domEventName=i,C.fullKey=d,C}static matchEventFullKeyCode(t,r){let i=lc[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(i=t.code,c="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),pa.forEach(d=>{d!==i&&(0,yu[d])(t)&&(c+=d+".")}),c+=i,c===r)}static eventCallback(t,r,i){return c=>{n.matchEventFullKeyCode(c,t)&&i.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Vi=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Il},{provide:u.g9A,useValue:function ga(){Io.makeCurrent()},multi:!0},{provide:ne,useFactory:function bu(){return(0,u.RDi)(document),document},deps:[]}]),ri=new u.OlP(""),ch=[{provide:u.rWj,useClass:class ni{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const c=e.findTestabilityInTree(r,i);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let c=i.length,d=!1;const m=function(C){d=d||C,c--,0==c&&r(d)};i.forEach(function(C){C.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Eu=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Ci(){return new u.qLn},deps:[]},{provide:fa,useClass:Ko,multi:!0,deps:[ne,u.R0b,u.Lbi]},{provide:fa,useClass:Vl,multi:!0,deps:[ne]},{provide:To,useClass:To,deps:[Li,Do,u.AFp]},{provide:u.FYo,useExisting:To},{provide:Fl,useExisting:Do},{provide:Do,useClass:Do,deps:[ne]},{provide:Li,useClass:Li,deps:[fa,u.R0b]},{provide:class zo{},useClass:pu,deps:[]},[]];let wu=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:kl,useExisting:u.AFp},ha]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ri,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Eu,...ch],imports:[_i,u.hGG]}),n})(),Is=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ao(){return new Is((0,u.LFG)(ne))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let lr,Yo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(Tu),r},providedIn:"root"}),n})(),Tu=(()=>{class n extends Yo{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${u.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${u.JZr})`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function zl(n){return new Tu(n.get(ne))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();try{lr=typeof Intl<"u"&&Intl.v8BreakIterator}catch{lr=!1}let Qo,Ts=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function tu(n){return n===Il}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lr)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function As(n){return function no(){if(null==Qo&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Qo=!0}))}finally{Qo=Qo||!1}return Qo}()?n:!!n.capture}function xs(n){return Array.isArray(n)?n:[n]}function Gr(n){return n instanceof u.SBq?n.nativeElement:n}var ro=k(7579),ji=k(9751);const{isArray:Jo}=Array,{getPrototypeOf:Cc,prototype:ku,keys:nd}=Object;function wh(n){if(1===n.length){const e=n[0];if(Jo(e))return{args:e,keys:null};if(function rd(n){return n&&"object"==typeof n&&Cc(n)===ku}(e)){const t=nd(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var mn=k(8996),io=k(4671),st=k(4004);const{isArray:Ym}=Array;function f(n){return(0,st.U)(e=>function _(n,e){return Ym(e)?n(...e):n(e)}(n,e))}var g=k(7669);function v(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var T=k(5403),P=k(9672);function z(...n){const e=(0,g.yG)(n),t=(0,g.jO)(n),{args:r,keys:i}=wh(n);if(0===r.length)return(0,mn.D)([],e);const c=new ji.y(function pe(n,e,t=io.y){return r=>{He(e,()=>{const{length:i}=n,c=new Array(i);let d=i,m=i;for(let C=0;C<i;C++)He(e,()=>{const I=(0,mn.D)(n[C],e);let S=!1;I.subscribe((0,T.x)(r,R=>{c[C]=R,S||(S=!0,m--),m||r.next(t(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>v(i,d):io.y));return t?c.pipe(f(t)):c}function He(n,e,t){n?(0,P.f)(t,n,e):e()}var Qe=k(8189);function ut(...n){return function yt(){return(0,Qe.J)(1)}()((0,mn.D)(n,(0,g.yG)(n)))}var Cn=k(515),fn=k(4482);function Oo(n){return n<=0?()=>Cn.E:(0,fn.e)((e,t)=>{let r=0;e.subscribe((0,T.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ai(n,e){return(0,fn.e)((t,r)=>{let i=0;t.subscribe((0,T.x)(r,c=>n.call(e,c,i++)&&r.next(c)))})}var oo=k(4986);function Os(...n){const e=(0,g.yG)(n);return(0,fn.e)((t,r)=>{(e?ut(n,t,e):ut(n,t)).subscribe(r)})}var Ia=k(8421),Ih=k(5032);function Sp(n){return(0,fn.e)((e,t)=>{(0,Ia.Xf)(n).subscribe((0,T.x)(t,()=>t.complete(),Ih.Z)),!t.closed&&e.subscribe(t)})}const Qm=new Set;let Po,Dh=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):lS}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function uS(n){if(!Qm.has(n))try{Po||(Po=document.createElement("style"),Po.setAttribute("type","text/css"),document.head.appendChild(Po)),Po.sheet&&(Po.sheet.insertRule(`@media ${n} {body{ }}`,0),Qm.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ts))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lS(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let TC=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new ro.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return AC(xs(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let c=z(AC(xs(t)).map(d=>this._registerQuery(d).observable));return c=ut(c.pipe(Oo(1)),c.pipe(function bc(n){return ai((e,t)=>n<=t)}(1),function Ec(n,e=oo.z){return(0,fn.e)((t,r)=>{let i=null,c=null,d=null;const m=()=>{if(i){i.unsubscribe(),i=null;const I=c;c=null,r.next(I)}};function C(){const I=d+n,S=e.now();if(S<I)return i=this.schedule(void 0,I-S),void r.add(i);m()}t.subscribe((0,T.x)(r,I=>{c=I,d=e.now(),i||(i=e.schedule(C,n),r.add(i))},()=>{m(),r.complete()},void 0,()=>{c=i=null}))})}(0))),c.pipe((0,st.U)(d=>{const m={matches:!1,breakpoints:{}};return d.forEach(({matches:C,query:I})=>{m.matches=m.matches||C,m.breakpoints[I]=C}),m}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),c={observable:new ji.y(d=>{const m=C=>this._zone.run(()=>d.next(C));return r.addListener(m),()=>{r.removeListener(m)}}).pipe(Os(r),(0,st.U)(({matches:d})=>({query:t,matches:d})),Sp(this._destroySubject)),mql:r};return this._queries.set(t,c),c}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Dh),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AC(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const LC="cdk-high-contrast-black-on-white",o_="cdk-high-contrast-white-on-black",s_="cdk-high-contrast-active";let VC=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,u.f3M)(TC).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,c=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(s_,LC,o_),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(s_,LC):2===r&&t.add(s_,o_)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ts),u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const uI=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function cI(){return!0}});let HC=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function x(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(VC),u.LFG(uI,8),u.LFG(ne))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[a_,a_]}),n})();function Da(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}class mI{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $C=As({passive:!0,capture:!0});class _I{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=function D(n){return n.composedPath?n.composedPath()[0]:n.target}(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(c=>c.handleEvent(e))})}}addHandler(e,t,r,i){const c=this._events.get(t);if(c){const d=c.get(r);d?d.add(i):c.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,$C)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const c=i.get(t);!c||(c.delete(r),0===c.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,$C)))}}const kt={enterDuration:225,exitDuration:150},c_=As({passive:!0,capture:!0}),u_=["mousedown","touchstart"],zC=["mouseup","mouseleave","touchend","touchcancel"];class Rp{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Gr(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...kt,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const d=r.radius||function qC(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),m=e-i.left,C=t-i.top,I=c.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=m-d+"px",S.style.top=C-d+"px",S.style.height=2*d+"px",S.style.width=2*d+"px",null!=r.color&&(S.style.backgroundColor=r.color),S.style.transitionDuration=`${I}ms`,this._containerElement.appendChild(S);const R=window.getComputedStyle(S),ee=R.transitionDuration,ue="none"===R.transitionProperty||"0s"===ee||"0s, 0s"===ee||0===i.width&&0===i.height,Oe=new mI(this,S,r,ue);S.style.transform="scale3d(1, 1, 1)",Oe.state=0,r.persistent||(this._mostRecentTransientRipple=Oe);let Be=null;return!ue&&(I||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Pt=()=>this._finishRippleTransition(Oe),Ht=()=>this._destroyRipple(Oe);S.addEventListener("transitionend",Pt),S.addEventListener("transitioncancel",Ht),Be={onTransitionEnd:Pt,onTransitionCancel:Ht}}),this._activeRipples.set(Oe,Be),(ue||!I)&&this._finishRippleTransition(Oe),Oe}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...kt,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Gr(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,u_.forEach(r=>{Rp._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{zC.forEach(t=>{this._triggerElement.addEventListener(t,this,c_)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=function nI(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function t_(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(u_.forEach(t=>Rp._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&zC.forEach(t=>e.removeEventListener(t,this,c_)))}}function it(...n){const e=(0,g.yG)(n);return(0,mn.D)(n,e)}Rp._eventManager=new _I;var wc=k(576);function ad(n,e){const t=(0,wc.m)(n)?n:()=>n,r=i=>i.error(t());return new ji.y(e?i=>e.schedule(r,0,i):r)}function l_(...n){const e=(0,g.jO)(n),{args:t,keys:r}=wh(n),i=new ji.y(c=>{const{length:d}=t;if(!d)return void c.complete();const m=new Array(d);let C=d,I=d;for(let S=0;S<d;S++){let R=!1;(0,Ia.Xf)(t[S]).subscribe((0,T.x)(c,$=>{R||(R=!0,I--),m[S]=$},()=>C--,void 0,()=>{(!C||!R)&&(I||c.next(r?v(r,m):m),c.complete())}))}});return e?i.pipe(f(e)):i}var cd=k(727),Cr=k(8505);function Rs(n){return(0,fn.e)((e,t)=>{let c,r=null,i=!1;r=e.subscribe((0,T.x)(t,void 0,void 0,d=>{c=(0,Ia.Xf)(n(d,Rs(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,c.subscribe(t))})}function Np(n){return(0,fn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var KC=k(3099),wi=k(5577);function Ic(n,e){return(0,wc.m)(e)?(0,wi.z)(n,e,1):(0,wi.z)(n,1)}class d_{}class Dc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),c=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Dc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Dc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Dc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const c=e.value;if(c){let d=this.headers.get(t);if(!d)return;d=d.filter(m=>-1===c.indexOf(m)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class YC{encodeKey(e){return QC(e)}encodeValue(e){return QC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ex=/%(\d[a-f0-9])/gi,p_={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function QC(n){return encodeURIComponent(n).replace(ex,(e,t)=>p_[t]??e)}function g_(n){return`${n}`}class so{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new YC,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function f_(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const c=i.indexOf("="),[d,m]=-1==c?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,c)),e.decodeValue(i.slice(c+1))],C=t.get(d)||[];C.push(m),t.set(d,C)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(g_):[g_(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new so({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(g_(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(g_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class II{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function XC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function e0(n){return typeof Blob<"u"&&n instanceof Blob}function Rh(n){return typeof FormData<"u"&&n instanceof FormData}class Fu{constructor(e,t,r,i){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function JC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,c=i):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Dc),this.context||(this.context=new II),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+d}}else this.params=new so,this.urlWithParams=t}serializeBody(){return null===this.body?null:XC(this.body)||e0(this.body)||Rh(this.body)||function ud(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof so?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Rh(this.body)?null:e0(this.body)?this.body.type||null:XC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof so?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let C=e.headers||this.headers,I=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(C=Object.keys(e.setHeaders).reduce((R,$)=>R.set($,e.setHeaders[$]),C)),e.setParams&&(I=Object.keys(e.setParams).reduce((R,$)=>R.set($,e.setParams[$]),I)),new Fu(t,r,c,{params:I,headers:C,context:S,reportProgress:m,responseType:i,withCredentials:d})}}var tr=(()=>((tr=tr||{})[tr.Sent=0]="Sent",tr[tr.UploadProgress=1]="UploadProgress",tr[tr.ResponseHeader=2]="ResponseHeader",tr[tr.DownloadProgress=3]="DownloadProgress",tr[tr.Response=4]="Response",tr[tr.User=5]="User",tr))();class m_{constructor(e,t=200,r="OK"){this.headers=e.headers||new Dc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class kp extends m_{constructor(e={}){super(e),this.type=tr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new kp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function kh(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Fh=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let c;if(t instanceof Fu)c=t;else{let C,I;C=i.headers instanceof Dc?i.headers:new Dc(i.headers),i.params&&(I=i.params instanceof so?i.params:new so({fromObject:i.params})),c=new Fu(t,r,void 0!==i.body?i.body:null,{headers:C,context:i.context,params:I,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=it(c).pipe(Ic(C=>this.handler.handle(C)));if(t instanceof Fu||"events"===i.observe)return d;const m=d.pipe(ai(C=>C instanceof kp));switch(i.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return m.pipe((0,st.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return m.pipe((0,st.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return m.pipe((0,st.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));default:return m.pipe((0,st.U)(C=>C.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new so).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,kh(i,r))}post(t,r,i={}){return this.request("POST",t,kh(i,r))}put(t,r,i={}){return this.request("PUT",t,kh(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(d_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const hx=["*"];let Vh;function hd(n){return function h0(){if(void 0===Vh&&(Vh=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Vh=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Vh}()?.createHTML(n)||n}function D_(n){return Error(`Unable to find icon with the name "${n}"`)}function ks(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Uh(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Fs{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let Mc=(()=>{class n{constructor(t,r,i,c){this._httpClient=t,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,c){return this._addSvgIconConfig(t,r,new Fs(i,null,c))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,c){const d=this._sanitizer.sanitize(u.q3G.HTML,i);if(!d)throw Uh(i);const m=hd(d);return this._addSvgIconConfig(t,r,new Fs("",m,c))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Fs(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const c=this._sanitizer.sanitize(u.q3G.HTML,r);if(!c)throw Uh(r);const d=hd(c);return this._addSvgIconSetConfig(t,new Fs("",d,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!r)throw ks(t);const i=this._cachedIconsByUrl.get(r);return i?it(Bh(i)):this._loadSvgIconFromConfig(new Fs(t,null)).pipe((0,Cr.b)(c=>this._cachedIconsByUrl.set(r,c)),(0,st.U)(c=>Bh(c)))}getNamedSvgIcon(t,r=""){const i=f0(r,t);let c=this._svgIconConfigs.get(i);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,t),c)return this._svgIconConfigs.set(i,c),this._getSvgFromConfig(c);const d=this._iconSetConfigs.get(r);return d?this._getSvgFromIconSetConfigs(t,d):ad(D_(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?it(Bh(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,st.U)(r=>Bh(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?it(i):l_(r.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Rs(m=>{const I=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,d.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(I)),it(null)})))).pipe((0,st.U)(()=>{const d=this._extractIconWithNameFromAnySet(t,r);if(!d)throw D_(t);return d}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const c=r[i];if(c.svgText&&c.svgText.toString().indexOf(t)>-1){const d=this._svgElementFromConfig(c),m=this._extractSvgIconFromSet(d,t,c.options);if(m)return m}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Cr.b)(r=>t.svgText=r),(0,st.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?it(null):this._fetchIcon(t).pipe((0,Cr.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const c=t.querySelector(`[id="${r}"]`);if(!c)return null;const d=c.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,i);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),i);const m=this._svgElementFromString(hd("<svg></svg>"));return m.appendChild(d),this._setSvgAttributes(m,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(hd("<svg></svg>")),i=t.attributes;for(let c=0;c<i.length;c++){const{name:d,value:m}=i[c];"id"!==d&&r.setAttribute(d,m)}for(let c=0;c<t.childNodes.length;c++)t.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,c=i?.withCredentials??!1;if(!this._httpClient)throw function M_(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,r);if(!d)throw ks(r);const m=this._inProgressUrlFetches.get(d);if(m)return m;const C=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,st.U)(I=>hd(I)),Np(()=>this._inProgressUrlFetches.delete(d)),(0,KC.B)());return this._inProgressUrlFetches.set(d,C),C}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(f0(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const c=this._resolvers[i](r,t);if(c)return LI(c)?new Fs(c.url,null,c.options):new Fs(c,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fh,8),u.LFG(Yo),u.LFG(ne,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bh(n){return n.cloneNode(!0)}function f0(n,e){return n+":"+e}function LI(n){return!(!n.url||!n.options)}const jh=Da(class{constructor(n){this._elementRef=n}}),VI=new u.OlP("MAT_ICON_DEFAULT_OPTIONS"),fx=new u.OlP("mat-icon-location",{providedIn:"root",factory:function UI(){const n=(0,u.f3M)(ne),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),p0=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],BI=p0.map(n=>`[${n}]`).join(", "),jI=/^url\(['"]?#(.*?)['"]?\)$/;let Fp=(()=>{class n extends jh{constructor(t,r,i,c,d,m){super(t),this._iconRegistry=r,this._location=c,this._errorHandler=d,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=cd.w0.EMPTY,m&&(m.color&&(this.color=this.defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=function Ch(n){return null!=n&&"false"!=`${n}`}(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,c)=>{i.forEach(d=>{c.setAttribute(d.name,`url('${t}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(BI),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)p0.forEach(d=>{const m=r[c],C=m.getAttribute(d),I=C?C.match(jI):null;if(I){let S=i.get(m);S||(S=[],i.set(m,S)),S.push({name:d,value:I[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Oo(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${c.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Mc),u.$8M("aria-hidden"),u.Y36(fx),u.Y36(u.qLn),u.Y36(VI,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:hx,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),HI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[HC,HC]}),n})();var Xo=k(2011),fe=k(5861),nr=k(2122);k(259);var Ke,Vu=k(9681),Vp=k(4859),Ls=k(1877),on=k(2090),Vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ao={},Ma=Ma||{},Mt=Vs||self;function Ii(){}function pd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Us(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Tc="closure_uid_"+(1e9*Math.random()>>>0),md=0;function _d(n,e,t){return n.call.apply(n.bind,arguments)}function yd(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function rr(n,e,t){return(rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_d:yd).apply(null,arguments)}function Ta(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Wn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,c){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[i].apply(r,d)}}function Aa(){this.s=this.s,this.o=this.o}Aa.prototype.s=!1,Aa.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function gd(n){Object.prototype.hasOwnProperty.call(n,Tc)&&n[Tc]||(n[Tc]=++md)}(this)},Aa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const S_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Up(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function x_(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(pd(r)){const i=n.length||0,c=r.length||0;n.length=i+c;for(let d=0;d<c;d++)n[i+d]=r[d]}else n.push(r)}}function zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}zr.prototype.h=function(){this.defaultPrevented=!0};var y0=function(){if(!Mt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Mt.addEventListener("test",Ii,e),Mt.removeEventListener("test",Ii,e)}catch{}return n}();function Hh(n){return/^[\s\xa0]*$/.test(n)}var O_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function P_(n,e){return n<e?-1:n>e?1:0}function Bp(){var n=Mt.navigator;return n&&(n=n.userAgent)?n:""}function es(n){return-1!=Bp().indexOf(n)}function R_(n){return R_[" "](n),n}R_[" "]=Ii;var Cd,n,N_=es("Opera"),Ac=es("Trident")||es("MSIE"),C0=es("Edge"),vd=C0||Ac,$h=es("Gecko")&&!(-1!=Bp().toLowerCase().indexOf("webkit")&&!es("Edge"))&&!(es("Trident")||es("MSIE"))&&!es("Edge"),k_=-1!=Bp().toLowerCase().indexOf("webkit")&&!es("Edge");function b0(){var n=Mt.document;return n?n.documentMode:void 0}e:{var Gh="",jp=(n=Bp(),$h?/rv:([^\);]+)(\)|;)/.exec(n):C0?/Edge\/([\d\.]+)/.exec(n):Ac?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):k_?/WebKit\/(\S+)/.exec(n):N_?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(jp&&(Gh=jp?jp[1]:""),Ac){var Hp=b0();if(null!=Hp&&Hp>parseFloat(Gh)){Cd=String(Hp);break e}}Cd=Gh}var F_={};var w0=Mt.document&&Ac&&(b0()||parseInt(Cd,10))||void 0;function zh(n,e){if(zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if($h){e:{try{R_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:I0[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&zh.X.h.call(this)}}Wn(zh,zr);var I0={2:"touch",3:"pen",4:"mouse"};zh.prototype.h=function(){zh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bd="closure_listenable_"+(1e6*Math.random()|0),D0=0;function M0(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++D0,this.ba=this.ea=!1}function zp(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function qp(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function L_(n){const e={};for(const t in n)e[t]=n[t];return e}const Wp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zp(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let c=0;c<Wp.length;c++)t=Wp[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function qh(n){this.src=n,this.g={},this.h=0}function Kp(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],i=S_(r,e);(c=0<=i)&&Array.prototype.splice.call(r,i,1),c&&(zp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Yp(n,e,t,r){for(var i=0;i<n.length;++i){var c=n[i];if(!c.ba&&c.listener==e&&c.capture==!!t&&c.ha==r)return i}return-1}qh.prototype.add=function(n,e,t,r,i){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var d=Yp(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new M0(e,this.src,c,!!r,i)).ea=t,n.push(e)),e};var Qp="closure_lm_"+(1e6*Math.random()|0),Jp={};function V_(n,e,t,r,i){if(r&&r.once)return Wh(n,e,t,r,i);if(Array.isArray(e)){for(var c=0;c<e.length;c++)V_(n,e[c],t,r,i);return null}return t=H_(t),n&&n[bd]?n.N(e,t,Us(r)?!!r.capture:!!r,i):U_(n,e,t,!1,r,i)}function U_(n,e,t,r,i,c){if(!e)throw Error("Invalid event type");var d=Us(i)?!!i.capture:!!i,m=xa(n);if(m||(n[Qp]=m=new qh(n)),(t=m.add(e,t,r,d,c)).proxy)return t;if(r=function T0(){const e=j_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)y0||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(A0(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Wh(n,e,t,r,i){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Wh(n,e[c],t,r,i);return null}return t=H_(t),n&&n[bd]?n.O(e,t,Us(r)?!!r.capture:!!r,i):U_(n,e,t,!0,r,i)}function Sa(n,e,t,r,i){if(Array.isArray(e))for(var c=0;c<e.length;c++)Sa(n,e[c],t,r,i);else r=Us(r)?!!r.capture:!!r,t=H_(t),n&&n[bd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Yp(c=n.g[e],t,r,i))&&(zp(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=xa(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Yp(e,t,r,i)),(t=-1<n?e[n]:null)&&B_(t))}function B_(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[bd])Kp(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(A0(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=xa(e))?(Kp(t,n),0==t.h&&(t.src=null,e[Qp]=null)):zp(n)}}}function A0(n){return n in Jp?Jp[n]:Jp[n]="on"+n}function j_(n,e){if(n.ba)n=!0;else{e=new zh(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&B_(n),n=t.call(r,e)}return n}function xa(n){return(n=n[Qp])instanceof qh?n:null}var Zh="__closure_events_fn_"+(1e9*Math.random()>>>0);function H_(n){return"function"==typeof n?n:(n[Zh]||(n[Zh]=function(e){return n.handleEvent(e)}),n[Zh])}function dr(){Aa.call(this),this.i=new qh(this),this.P=this,this.I=null}function ci(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new zr(e,n);else if(e instanceof zr)e.target=e.target||n;else{var i=e;Zp(e=new zr(r,n),i)}if(i=!0,t)for(var c=t.length-1;0<=c;c--){var d=e.g=t[c];i=$_(d,r,!0,e)&&i}if(i=$_(d=e.g=n,r,!0,e)&&i,i=$_(d,r,!1,e)&&i,t)for(c=0;c<t.length;c++)i=$_(d=e.g=t[c],r,!1,e)&&i}function $_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.ba&&d.capture==t){var m=d.listener,C=d.ha||d.src;d.ea&&Kp(n.i,d),i=!1!==m.call(C,r)&&i}}return i&&!r.defaultPrevented}Wn(dr,Aa),dr.prototype[bd]=!0,dr.prototype.removeEventListener=function(n,e,t,r){Sa(this,n,e,t,r)},dr.prototype.M=function(){if(dr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)zp(t[r]);delete n.g[e],n.h--}}this.I=null},dr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},dr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var G_=Mt.JSON.stringify;function ZI(){var n=W_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var z_,x0=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new br,n=>n.reset());class br{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function O0(n){Mt.setTimeout(()=>{throw n},0)}function P0(n,e){z_||function R0(){var n=Mt.Promise.resolve(void 0);z_=function(){n.then(N0)}}(),q_||(z_(),q_=!0),W_.add(n,e)}var q_=!1,W_=new class S0{constructor(){this.h=this.g=null}add(e,t){const r=x0.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function N0(){for(var n;n=ZI();){try{n.h.call(n.g)}catch(t){O0(t)}var e=x0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}q_=!1}function Oa(n,e){dr.call(this),this.h=n||1,this.g=e||Mt,this.j=rr(this.lb,this),this.l=Date.now()}function Z_(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function K_(n,e,t){if("function"==typeof n)t&&(n=rr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Mt.setTimeout(n,e||0)}function Y_(n){n.g=K_(()=>{n.g=null,n.i&&(n.i=!1,Y_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Wn(Oa,dr),(Ke=Oa.prototype).ca=!1,Ke.R=null,Ke.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ci(this,"tick"),this.ca&&(Z_(this),this.start()))}},Ke.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ke.M=function(){Oa.X.M.call(this),Z_(this),delete this.g};class KI extends Aa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Y_(this)}M(){super.M(),this.g&&(Mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ed(n){Aa.call(this),this.h=n,this.g={}}Wn(Ed,Aa);var YI=[];function Q_(n,e,t,r){Array.isArray(t)||(t&&(YI[0]=t.toString()),t=YI);for(var i=0;i<t.length;i++){var c=V_(e,t[i],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function Xp(n){qp(n.g,function(e,t){this.g.hasOwnProperty(t)&&B_(e)},n),n.g={}}function co(){this.g=!0}function Di(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ns(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var c=i[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<i.length;d++)i[d]=""}}}return G_(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ed.prototype.M=function(){Ed.X.M.call(this),Xp(this)},Ed.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},co.prototype.Aa=function(){this.g=!1},co.prototype.info=function(){};var Sc={},J_=null;function eg(){return J_=J_||new dr}function k0(n){zr.call(this,Sc.Pa,n)}function Kh(n){const e=eg();ci(e,new k0(e))}function F0(n,e){zr.call(this,Sc.STAT_EVENT,n),this.stat=e}function qr(n){const e=eg();ci(e,new F0(e,n))}function wd(n,e){zr.call(this,Sc.Qa,n),this.size=e}function Yh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Mt.setTimeout(function(){n()},e)}Sc.Pa="serverreachability",Wn(k0,zr),Sc.STAT_EVENT="statevent",Wn(F0,zr),Sc.Qa="timingevent",Wn(wd,zr);var Qh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},L0={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function tg(){}function Jh(){}tg.prototype.h=null;var ef,Xh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ng(){zr.call(this,"d")}function rg(){zr.call(this,"c")}function Uu(){}function Id(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Ed(this),this.O=V0,this.T=new Oa(n=vd?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ey}function ey(){this.i=null,this.g="",this.h=!1}Wn(ng,zr),Wn(rg,zr),Wn(Uu,tg),Uu.prototype.g=function(){return new XMLHttpRequest},Uu.prototype.i=function(){return{}},ef=new Uu;var V0=45e3,ig={},tf={};function og(n,e,t){n.K=1,n.v=sf(Pa(e)),n.s=t,n.P=!0,ty(n,null)}function ty(n,e){n.F=Date.now(),nf(n),n.A=Pa(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Hu(t.i,"t",r),n.C=0,t=n.l.H,n.h=new ey,n.g=vy(n.l,t?e:null,!n.s),0<n.N&&(n.L=new KI(rr(n.La,n,n.g),n.N)),Q_(n.S,n.g,"readystatechange",n.ib),e=n.H?L_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Kh(),function QI(n,e,t,r,i,c){n.info(function(){if(n.g)if(c)for(var d="",m=c.split("&"),C=0;C<m.length;C++){var I=m[C].split("=");if(1<I.length){var S=I[0];I=I[1];var R=S.split("_");d=2<=R.length&&"type"==R[1]?d+(S+"=")+I+"&":d+(S+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function ny(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function U0(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=XI(n,t),i==tf){4==e&&(n.o=4,qr(14),r=!1),Di(n.j,n.m,null,"[Incomplete Response]");break}if(i==ig){n.o=4,qr(15),Di(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Di(n.j,n.m,i,null),ry(n,i)}ny(n)&&i!=tf&&i!=ig&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,qr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),ab(e),e.K=!0,qr(11))):(Di(n.j,n.m,t,"[Invalid Chunked Response]"),Bu(n),rf(n))}function XI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?tf:(t=Number(e.substring(t,r)),isNaN(t)?ig:(r+=1)+t>e.length?tf:(e=e.substr(r,t),n.C=r+t,e))}function nf(n){n.V=Date.now()+n.O,B0(n,n.O)}function B0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Yh(rr(n.gb,n),e)}function sg(n){n.B&&(Mt.clearTimeout(n.B),n.B=null)}function rf(n){0==n.l.G||n.I||uD(n.l,n)}function Bu(n){sg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Z_(n.T),Xp(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ry(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ay(t.h,n)))if(!n.J&&ay(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;_y(t),ff(t)}sb(t),qr(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Yh(rr(t.cb,t),6e3));if(1>=vt(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else js(t,11)}else if((n.J||t.g==n)&&_y(t),!Hh(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let I=i[e];if(t.T=I[0],I=I[1],2==t.G)if("c"==I[0]){t.I=I[1],t.ka=I[2];const S=I[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const R=I[4];null!=R&&(t.Ca=R,t.j.info("SVER="+t.Ca));const $=I[5];null!=$&&"number"==typeof $&&0<$&&(t.J=r=1.5*$,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const ee=n.g;if(ee){const ue=ee.g?ee.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var c=r.h;c.g||-1==ue.indexOf("spdy")&&-1==ue.indexOf("quic")&&-1==ue.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(cy(c,c.h),c.h=null))}if(r.D){const Oe=ee.g?ee.g.getResponseHeader("X-HTTP-Session-Id"):null;Oe&&(r.za=Oe,Pn(r.F,r.D,Oe))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=ub(r,r.H?r.ka:null,r.V),d.J){J0(r.h,d);var m=d,C=r.J;C&&m.setTimeout(C),m.B&&(sg(m),nf(m)),r.g=d}else aD(r);0<t.i.length&&pf(t)}else"stop"!=I[0]&&"close"!=I[0]||js(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?js(t,7):py(t):"noop"!=I[0]&&t.l&&t.l.wa(I),t.A=0)}Kh()}catch{}}function j0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(pd(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function tD(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(pd(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function eD(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(pd(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,c=0;c<i;c++)e.call(void 0,r[c],t&&t[c],n)}(Ke=Id.prototype).setTimeout=function(n){this.O=n},Ke.ib=function(n){n=n.target;const e=this.L;e&&3==Bs(n)?e.l():this.La(n)},Ke.La=function(n){try{if(n==this.g)e:{const S=Bs(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>S)&&(3!=S||vd||this.g&&(this.h.h||this.g.fa()||rb(this.g)))){this.I||4!=S||7==e||Kh(),sg(this);var t=this.g.aa();this.Y=t;t:if(ny(this)){var r=rb(this.g);n="";var i=r.length,c=4==Bs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Bu(this),rf(this);var d="";break t}this.h.i=new Mt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function JI(n,e,t,r,i,c,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+c+" "+d})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,C=this.g;if((m=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hh(m)){var I=m;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,qr(12),Bu(this),rf(this);break e}Di(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ry(this,t)}this.P?(U0(this,S,d),vd&&this.i&&3==S&&(Q_(this.S,this.T,"tick",this.hb),this.T.start())):(Di(this.j,this.m,d,null),ry(this,d)),4==S&&Bu(this),this.i&&!this.I&&(4==S?uD(this.l,this):(this.i=!1,nf(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,qr(12)):(this.o=0,qr(13)),Bu(this),rf(this)}}}catch{}},Ke.hb=function(){if(this.g){var n=Bs(this.g),e=this.g.fa();this.C<e.length&&(sg(this),U0(this,n,e),this.i&&4!=n&&nf(this))}},Ke.cancel=function(){this.I=!0,Bu(this)},Ke.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function ts(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Kh(),qr(17)),Bu(this),this.o=2,rf(this)):B0(this,this.V-n)};var H0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ju(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ju){this.h=void 0!==e?e:n.h,ag(this,n.j),this.s=n.s,this.g=n.g,cg(this,n.m),this.l=n.l,e=n.i;var t=new Td;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),$0(this,t),this.o=n.o}else n&&(t=String(n).match(H0))?(this.h=!!e,ag(this,t[1]||"",!0),this.s=Dd(t[2]||""),this.g=Dd(t[3]||"",!0),cg(this,t[4]),this.l=Dd(t[5]||"",!0),$0(this,t[6]||"",!0),this.o=Dd(t[7]||"")):(this.h=!!e,this.i=new Td(null,this.h))}function Pa(n){return new ju(n)}function ag(n,e,t){n.j=t?Dd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function cg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $0(n,e,t){e instanceof Td?(n.i=e,function oy(n,e){e&&!n.j&&(Hi(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(K0(this,r),Hu(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Md(e,W0)),n.i=new Td(e,n.h))}function Pn(n,e,t){n.i.set(e,t)}function sf(n){return Pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Dd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Md(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,G0),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function G0(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ju.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Md(e,iy,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Md(e,iy,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Md(t,"/"==t.charAt(0)?q0:z0,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Md(t,Z0)),n.join("")};var iy=/[#\/\?@]/g,z0=/[#\?:]/g,q0=/[#\?]/g,W0=/[#\?@]/g,Z0=/#/g;function Td(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Hi(n){n.g||(n.g=new Map,n.h=0,n.i&&function nD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var c=n[t].substring(0,r);i=n[t].substring(r+1)}else c=n[t];e(c,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function K0(n,e){Hi(n),e=af(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Y0(n,e){return Hi(n),e=af(n,e),n.g.has(e)}function Hu(n,e,t){K0(n,e),0<t.length&&(n.i=null,n.g.set(af(n,e),Up(t)),n.h+=t.length)}function af(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function sy(n){this.l=n||Q0,n=Mt.PerformanceNavigationTiming?0<(n=Mt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Mt.g&&Mt.g.Ga&&Mt.g.Ga()&&Mt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ke=Td.prototype).add=function(n,e){Hi(this),this.i=null,n=af(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ke.forEach=function(n,e){Hi(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ke.oa=function(){Hi(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let c=0;c<i.length;c++)t.push(e[r])}return t},Ke.W=function(n){Hi(this);let e=[];if("string"==typeof n)Y0(this,n)&&(e=e.concat(this.g.get(af(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ke.set=function(n,e){return Hi(this),this.i=null,Y0(this,n=af(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ke.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=c;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var Q0=10;function rD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function vt(n){return n.h?1:n.g?n.g.size:0}function ay(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cy(n,e){n.g?n.g.add(e):n.h=e}function J0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function $u(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Up(n.i)}function uy(){}function ug(){this.g=new uy}function lg(n,e,t){const r=t||"";try{j0(n,function(i,c){let d=i;Us(i)&&(d=G_(i)),e.push(r+c+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ly(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ad(n){this.l=n.ac||null,this.j=n.jb||!1}function cf(n,e){dr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=dy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sy.prototype.cancel=function(){if(this.i=$u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},uy.prototype.stringify=function(n){return Mt.JSON.stringify(n,void 0)},uy.prototype.parse=function(n){return Mt.JSON.parse(n,void 0)},Wn(Ad,tg),Ad.prototype.g=function(){return new cf(this.l,this.j)},Ad.prototype.i=function(n){return function(){return n}}({}),Wn(cf,dr);var dy=0;function hy(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Sd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,xd(n)}function xd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ke=cf.prototype).open=function(n,e){if(this.readyState!=dy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,xd(this)},Ke.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Mt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sd(this)),this.readyState=dy},Ke.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,xd(this)),this.g&&(this.readyState=3,xd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Mt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hy(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Ke.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Sd(this):xd(this),3==this.readyState&&hy(this)}},Ke.Va=function(n){this.g&&(this.response=this.responseText=n,Sd(this))},Ke.Ua=function(n){this.g&&(this.response=n,Sd(this))},Ke.ga=function(){this.g&&Sd(this)},Ke.setRequestHeader=function(n,e){this.v.append(n,e)},Ke.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ke.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(cf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var X0=Mt.JSON.parse;function Kn(n){dr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=eb,this.K=this.L=!1}Wn(Kn,dr);var eb="",iD=/^https?$/i,uf=["POST","PUT"];function tb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,nb(n),df(n)}function nb(n){n.D||(n.D=!0,ci(n,"complete"),ci(n,"error"))}function lf(n){if(n.h&&typeof Ma<"u"&&(!n.C[1]||4!=Bs(n)||2!=n.aa()))if(n.v&&4==Bs(n))K_(n.Ha,0,n);else if(ci(n,"readystatechange"),4==Bs(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(H0)[1]||null;if(!i&&Mt.self&&Mt.self.location){var c=Mt.self.location.protocol;i=c.substr(0,c.length-1)}r=!iD.test(i?i.toLowerCase():"")}t=r}if(t)ci(n,"complete"),ci(n,"success");else{n.m=6;try{var d=2<Bs(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",nb(n)}}finally{df(n)}}}function df(n,e){if(n.g){fy(n);const t=n.g,r=n.C[0]?Ii:null;n.g=null,n.C=null,e||ci(n,"ready");try{t.onreadystatechange=r}catch{}}}function fy(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Mt.clearTimeout(n.A),n.A=null)}function Bs(n){return n.g?n.g.readyState:0}function rb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case eb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Od(n){let e="";return qp(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Gu(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Od(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pn(n,e,t))}function hf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ib(n){this.Ca=0,this.i=[],this.j=new co,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=hf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=hf("baseRetryDelayMs",5e3,n),this.bb=hf("retryDelaySeedMs",1e4,n),this.$a=hf("forwardChannelMaxRetries",2,n),this.ta=hf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new sy(n&&n.concurrentRequestLimit),this.Fa=new ug,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function py(n){if(gy(n),3==n.G){var e=n.U++,t=Pa(n.F);Pn(t,"SID",n.I),Pn(t,"RID",e),Pn(t,"TYPE","terminate"),gf(n,t),(e=new Id(n,n.j,e,void 0)).K=2,e.v=sf(Pa(t)),t=!1,Mt.navigator&&Mt.navigator.sendBeacon&&(t=Mt.navigator.sendBeacon(e.v.toString(),"")),!t&&Mt.Image&&((new Image).src=e.v,t=!0),t||(e.g=vy(e.l,null),e.g.da(e.v)),e.F=Date.now(),nf(e)}cb(n)}function ff(n){n.g&&(ab(n),n.g.cancel(),n.g=null)}function gy(n){ff(n),n.u&&(Mt.clearTimeout(n.u),n.u=null),_y(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Mt.clearTimeout(n.m),n.m=null)}function pf(n){rD(n.h)||n.m||(n.m=!0,P0(n.Ja,n),n.C=0)}function my(n,e){var t;t=e?e.m:n.U++;const r=Pa(n.F);Pn(r,"SID",n.I),Pn(r,"RID",t),Pn(r,"AID",n.T),gf(n,r),n.o&&n.s&&Gu(r,n.o,n.s),t=new Id(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=ob(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),cy(n.h,t),og(t,r,e)}function gf(n,e){n.ia&&qp(n.ia,function(t,r){Pn(e,r,t)}),n.l&&j0({},function(t,r){Pn(e,r,t)})}function ob(n,e,t){t=Math.min(n.i.length,t);var r=n.l?rr(n.l.Ra,n.l,n):null;e:{var i=n.i;let c=-1;for(;;){const d=["count="+t];-1==c?0<t?(c=i[0].h,d.push("ofs="+c)):c=0:d.push("ofs="+c);let m=!0;for(let C=0;C<t;C++){let I=i[C].h;const S=i[C].g;if(I-=c,0>I)c=Math.max(0,i[C].h-100),m=!1;else try{lg(S,d,"req"+I+"_")}catch{r&&r(S)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function aD(n){n.g||n.u||(n.Z=1,P0(n.Ia,n),n.A=0)}function sb(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Yh(rr(n.Ia,n),yy(n,n.A)),n.A++,0))}function ab(n){null!=n.B&&(Mt.clearTimeout(n.B),n.B=null)}function cD(n){n.g=new Id(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Pa(n.sa);Pn(e,"RID","rpc"),Pn(e,"SID",n.I),Pn(e,"CI",n.L?"0":"1"),Pn(e,"AID",n.T),Pn(e,"TYPE","xmlhttp"),gf(n,e),n.o&&n.s&&Gu(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=sf(Pa(e)),t.s=null,t.P=!0,ty(t,n)}function _y(n){null!=n.v&&(Mt.clearTimeout(n.v),n.v=null)}function uD(n,e){var t=null;if(n.g==e){_y(n),ab(n),n.g=null;var r=2}else{if(!ay(n.h,e))return;t=e.D,J0(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ci(r=eg(),new wd(r,t)),pf(n)}else aD(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function sD(n,e){return!(vt(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Yh(rr(n.Ja,n,e),yy(n,n.C)),n.C++,0)))}(n,e)||2==r&&sb(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:js(n,5);break;case 4:js(n,10);break;case 3:js(n,6);break;default:js(n,2)}}function yy(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function js(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=rr(n.kb,n);t||(t=new ju("//www.google.com/images/cleardot.gif"),Mt.location&&"http"==Mt.location.protocol||ag(t,"https"),sf(t)),function Zn(n,e){const t=new co;if(Mt.Image){const r=new Image;r.onload=Ta(ly,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ta(ly,t,r,"TestLoadImage: error",!1,e),r.onabort=Ta(ly,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ta(ly,t,r,"TestLoadImage: timeout",!1,e),Mt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else qr(2);n.G=0,n.l&&n.l.va(e),cb(n),gy(n)}function cb(n){if(n.G=0,n.la=[],n.l){const e=$u(n.h);(0!=e.length||0!=n.i.length)&&(x_(n.la,e),x_(n.la,n.i),n.h.i.length=0,Up(n.i),n.i.length=0),n.l.ua()}}function ub(n,e,t){var r=t instanceof ju?Pa(t):new ju(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),cg(r,r.m);else{var i=Mt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var c=new ju(null,void 0);r&&ag(c,r),e&&(c.g=e),i&&cg(c,i),t&&(c.l=t),r=c}return e=n.za,(t=n.D)&&e&&Pn(r,t,e),Pn(r,"VER",n.ma),gf(n,r),r}function vy(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kn(t&&n.Da&&!n.ra?new Ad({jb:!0}):n.ra)).Ka(n.H),e}function Pd(){}function dg(){if(Ac&&!(10<=Number(w0)))throw Error("Environmental error: no available transport.")}function uo(n,e){dr.call(this),this.g=new ib(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Hh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Rd(this)}function lb(n){ng.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function db(){rg.call(this),this.status=1}function Rd(n){this.g=n}(Ke=Kn.prototype).Ka=function(n){this.L=n},Ke.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ef.g(),this.C=function X_(n){return n.h||(n.h=n.i())}(this.u?this.u:ef),this.g.onreadystatechange=rr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void tb(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),i=Mt.FormData&&n instanceof Mt.FormData,!(0<=S_(uf,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,d]of t)this.g.setRequestHeader(c,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fy(this),0<this.B&&((this.K=function oD(n){return Ac&&function E0(){return function v0(n){var e=F_;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=O_(String(Cd)).split("."),t=O_("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",c=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==i[0].length&&0==c[0].length)break;n=P_(0==i[1].length?0:parseInt(i[1],10),0==c[1].length?0:parseInt(c[1],10))||P_(0==i[2].length,0==c[2].length)||P_(i[2],c[2]),i=i[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rr(this.qa,this)):this.A=K_(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){tb(this,c)}},Ke.qa=function(){typeof Ma<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ci(this,"timeout"),this.abort(8))},Ke.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ci(this,"complete"),ci(this,"abort"),df(this))},Ke.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),df(this,!0)),Kn.X.M.call(this)},Ke.Ha=function(){this.s||(this.F||this.v||this.l?lf(this):this.fb())},Ke.fb=function(){lf(this)},Ke.aa=function(){try{return 2<Bs(this)?this.g.status:-1}catch{return-1}},Ke.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ke.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),X0(e)}},Ke.Ea=function(){return this.m},Ke.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ke=ib.prototype).ma=8,Ke.G=1,Ke.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Id(this,this.j,n,void 0);let c=this.s;if(this.S&&(c?(c=L_(c),Zp(c,this.S)):c=this.S),null!==this.o||this.N||(i.H=c,c=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ob(this,i,e),Pn(t=Pa(this.F),"RID",n),Pn(t,"CVER",22),this.D&&Pn(t,"X-HTTP-Session-Id",this.D),gf(this,t),c&&(this.N?e="headers="+encodeURIComponent(String(Od(c)))+"&"+e:this.o&&Gu(t,this.o,c)),cy(this.h,i),this.Ya&&Pn(t,"TYPE","init"),this.O?(Pn(t,"$req",e),Pn(t,"SID","null"),i.Z=!0,og(i,t,null)):og(i,t,e),this.G=2}}else 3==this.G&&(n?my(this,n):0==this.i.length||rD(this.h)||my(this))},Ke.Ia=function(){if(this.u=null,cD(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Yh(rr(this.eb,this),n)}},Ke.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,qr(10),ff(this),cD(this))},Ke.cb=function(){null!=this.v&&(this.v=null,ff(this),sb(this),qr(19))},Ke.kb=function(n){n?(this.j.info("Successfully pinged google.com"),qr(2)):(this.j.info("Failed to ping google.com"),qr(1))},(Ke=Pd.prototype).xa=function(){},Ke.wa=function(){},Ke.va=function(){},Ke.ua=function(){},Ke.Ra=function(){},dg.prototype.g=function(n,e){return new uo(n,e)},Wn(uo,dr),uo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;qr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=ub(n,null,n.V),pf(n)},uo.prototype.close=function(){py(this.g)},uo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=G_(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&pf(e)},uo.prototype.M=function(){this.g.l=null,delete this.j,py(this.g),delete this.g,uo.X.M.call(this)},Wn(lb,ng),Wn(db,rg),Wn(Rd,Pd),Rd.prototype.xa=function(){ci(this.g,"a")},Rd.prototype.wa=function(n){ci(this.g,new lb(n))},Rd.prototype.va=function(n){ci(this.g,new db)},Rd.prototype.ua=function(){ci(this.g,"b")},dg.prototype.createWebChannel=dg.prototype.g,uo.prototype.send=uo.prototype.u,uo.prototype.open=uo.prototype.m,uo.prototype.close=uo.prototype.close,Qh.NO_ERROR=0,Qh.TIMEOUT=8,Qh.HTTP_ERROR=6,L0.COMPLETE="complete",Jh.EventType=Xh,Xh.OPEN="a",Xh.CLOSE="b",Xh.ERROR="c",Xh.MESSAGE="d",dr.prototype.listen=dr.prototype.N,Kn.prototype.listenOnce=Kn.prototype.O,Kn.prototype.getLastError=Kn.prototype.Oa,Kn.prototype.getLastErrorCode=Kn.prototype.Ea,Kn.prototype.getStatus=Kn.prototype.aa,Kn.prototype.getResponseJson=Kn.prototype.Sa,Kn.prototype.getResponseText=Kn.prototype.fa,Kn.prototype.send=Kn.prototype.da,Kn.prototype.setWithCredentials=Kn.prototype.Ka;var hb=ao.createWebChannelTransport=function(){return new dg},lD=ao.getStatEventTarget=function(){return eg()},Cy=ao.ErrorCode=Qh,mf=ao.EventType=L0,dD=ao.Event=Sc,by=ao.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},hD=ao.FetchXmlHttpFactory=Ad,_f=ao.WebChannel=Jh,fD=ao.XhrIo=Kn;const Ey="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let xc="9.15.0";const Oc=new Ls.Yd("@firebase/firestore");function hg(){return Oc.logLevel}function Re(n,...e){if(Oc.logLevel<=Ls.in.DEBUG){const t=e.map(yf);Oc.debug(`Firestore (${xc}): ${n}`,...t)}}function ir(n,...e){if(Oc.logLevel<=Ls.in.ERROR){const t=e.map(yf);Oc.error(`Firestore (${xc}): ${n}`,...t)}}function zu(n,...e){if(Oc.logLevel<=Ls.in.WARN){const t=e.map(yf);Oc.warn(`Firestore (${xc}): ${n}`,...t)}}function yf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: `+n;throw ir(e),new Error(e)}function at(n,e){n||tt()}function Ze(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends on.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class pb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kr.UNAUTHENTICATED))}shutdown(){}}class mD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gb{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const c=I=>this.i!==i?(i=this.i,t(I)):Promise.resolve();let d=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Er,e.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const I=d;e.enqueueRetryable((0,fe.Z)(function*(){yield I.promise,yield c(r.currentUser)}))},C=I=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(I=>C(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?C(I):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Er)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at("string"==typeof r.accessToken),new pb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return at(null===e||"string"==typeof e),new kr(e)}}class mb{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(at(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class _D{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new mb(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _b{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yb{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=c=>{null!=c.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.A;return this.A=c.token,Re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const i=c=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>i(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?i(c):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at("string"==typeof t.token),this.A=t.token,new _b(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class vb{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yD(40);for(let c=0;c<i.length;++c)r.length<20&&i[c]<t&&(r+=e.charAt(i[c]%e.length))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}function Pc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function wy(n){return n+"\0"}class Sn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sn.fromMillis(Date.now())}static fromDate(e){return Sn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Sn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Sn(0,0))}static max(){return new gt(new Sn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vf{constructor(e,t,r){void 0===t?t=0:t>e.length&&tt(),void 0===r?r=e.length-t:r>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===vf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const c=e.get(i),d=t.get(i);if(c<d)return-1;if(c>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jt extends vf{construct(e,t,r){return new Jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Jt(t)}static emptyPath(){return new Jt([])}}const vD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends vf{construct(e,t,r){return new Bn(e,t,r)}static isValidIdentifier(e){return vD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const c=()=>{if(0===r.length)throw new Ae(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Ae(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const C=e[i+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new Ae(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=C,i+=2}else"`"===m?(d=!d,i++):"."!==m||d?(r+=m,i++):(c(),i++)}if(c(),d)throw new Ae(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(t)}static emptyPath(){return new Bn([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Jt.fromString(e))}static fromName(e){return new Ge(Jt.fromString(e).popFirst(5))}static empty(){return new Ge(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Jt(e.slice()))}}class Cf{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Iy(n){return n.fields.find(e=>2===e.kind)}function Nd(n){return n.fields.filter(e=>2!==e.kind)}Cf.UNKNOWN_ID=-1;class kd{constructor(e,t){this.fieldPath=e,this.kind=t}}class qu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new qu(0,Mi.min())}}function bb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=gt.fromTimestamp(1e9===r?new Sn(t+1,0):new Sn(t,r));return new Mi(i,Ge.empty(),e)}function Dy(n){return new Mi(n.readTime,n.key,-1)}class Mi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Mi(gt.min(),Ge.empty(),-1)}static max(){return new Mi(gt.max(),Ge.empty(),-1)}}function fg(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:xt(n.largestBatchId,e.largestBatchId))}const My="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ty{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ra(n){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,fe.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==My)throw n;Re("LocalStore","Unexpectedly lost primary lease")}),Ay.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,i)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let i=0,c=0,d=!1;e.forEach(m=>{++i,m.next(()=>{++c,d&&c===i&&t()},C=>r(C))}),d=!0,c===i&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(i=>i?ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,c)=>{r.push(t.call(this,i,c))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,i)=>{const c=e.length,d=new Array(c);let m=0;for(let C=0;C<c;C++){const I=C;t(e[I]).next(S=>{d[I]=S,++m,m===c&&r(d)},S=>i(S))}})}static doWhile(e,t){return new ce((r,i)=>{const c=()=>{!0===e()?t().next(()=>{c()},i):r()};c()})}}class pg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Er,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new gg(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Sy(r.target.error);this.P.reject(new gg(e,i))}}static open(e,t,r,i){try{return new pg(t,e.transaction(i,r))}catch(c){throw new gg(t,c)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bD(t)}}class rs{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===rs.D((0,on.z$)())&&ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Re("SimpleDb","Removing database:",e),Wu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,on.hl)())return!1;if(rs.N())return!0;const e=(0,on.z$)(),t=rs.D(e),r=0<t&&t<10,i=rs.k(e),c=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,fe.Z)(function*(){return t.db||(Re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=d=>{r(d.target.result)},c.onblocked=()=>{i(new gg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=d=>{const m=d.target.error;i("VersionError"===m.name?new Ae(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ae(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new gg(e,m))},c.onupgradeneeded=d=>{Re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,c.transaction,d.oldVersion,t.version).next(()=>{Re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var c=this;return(0,fe.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{c.db=yield c.F(e);const C=pg.open(c.db,e,d?"readonly":"readwrite",r),I=i(C).next(S=>(C.V(),S)).catch(S=>(C.abort(S),ce.reject(S))).toPromise();return I.catch(()=>{}),yield C.v,I}catch(C){const I=C,S="FirebaseError"!==I.name&&m<3;if(Re("SimpleDb","Transaction failed with error:",I.message,"Retrying:",S),c.close(),!S)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Eb{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Wu(this.q.delete())}}class gg extends Ae{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Na(n){return"IndexedDbTransactionError"===n.name}class bD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Re("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wu(r)}add(e){return Re("SimpleDb","ADD",this.store.name,e,e),Wu(this.store.add(e))}get(e){return Wu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Re("SimpleDb","DELETE",this.store.name,e),Wu(this.store.delete(e))}count(){return Re("SimpleDb","COUNT",this.store.name),Wu(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),c=[];return this.H(i,(d,m)=>{c.push(m)}).next(()=>c)}{const i=this.store.getAll(r.range);return new ce((c,d)=>{i.onerror=m=>{d(m.target.error)},i.onsuccess=m=>{c(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ce((i,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){Re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(c,d,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ce((r,i)=>{t.onerror=c=>{const d=Sy(c.target.error);i(d)},t.onsuccess=c=>{const d=c.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}H(e,t){const r=[];return new ce((i,c)=>{e.onerror=d=>{c(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void i();const C=new Eb(m),I=t(m.primaryKey,m.value,C);if(I instanceof ce){const S=I.catch(R=>(C.done(),ce.reject(R)));r.push(S)}C.isDone?i():null===C.G?m.continue():m.continue(C.G)}}).next(()=>ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wu(n){return new ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Sy(r.target.error);t(i)}})}let ED=!1;function Sy(n){const e=rs.D((0,on.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ED||(ED=!0,setTimeout(()=>{throw r},0)),r}}return n}class wD{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,fe.Z)(function*(){t.task=null;try{Re("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Na(r)?Re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ra(r)}yield t.nt(6e4)}))}}class ID{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,fe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,c=!0;return ce.doWhile(()=>!0===c&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Re("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(m=>{i-=m,r.add(d)});c=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(c=>{const d=c.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,c)).next(m=>(Re("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,c)=>{const d=Dy(c);fg(d,r)>0&&(r=d)}),new Mi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let lo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class DD{constructor(e,t,r,i,c,d,m,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=C}}class Rc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Rc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}function wb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ib(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bf(n){return null==n}function Ef(n){return 0===n&&1/n==-1/0}function Db(n){return"number"==typeof n&&Number.isInteger(n)&&!Ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class hr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new hr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let c=0;c<r.length;++c)i+=String.fromCharCode(r[c]);return i}(e);return new hr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hr.EMPTY_BYTE_STRING=new hr("");const Mb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(n){if(at(!!n),"string"==typeof n){let e=0;const t=Mb.exec(n);if(at(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jn(n.seconds),nanos:jn(n.nanos)}}function jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Nc(n){return"string"==typeof n?hr.fromBase64String(n):hr.fromUint8Array(n)}function xy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Tb(n){const e=n.mapValue.fields.__previous_value__;return xy(e)?Tb(e):e}function mg(n){const e=ka(n.mapValue.fields.__local_write_time__.timestampValue);return new Sn(e.seconds,e.nanos)}const kc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_g={nullValue:"NULL_VALUE"};function Ku(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xy(n)?4:Mf(n)?9007199254740991:10:tt()}function Hs(n,e){if(n===e)return!0;const t=Ku(n);if(t!==Ku(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mg(n).isEqual(mg(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const c=ka(r.timestampValue),d=ka(i.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Nc(n.bytesValue).isEqual(Nc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return jn(r.geoPointValue.latitude)===jn(i.geoPointValue.latitude)&&jn(r.geoPointValue.longitude)===jn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return jn(r.integerValue)===jn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const c=jn(r.doubleValue),d=jn(i.doubleValue);return c===d?Ef(c)===Ef(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Pc(n.arrayValue.values||[],e.arrayValue.values||[],Hs);case 10:return function(r,i){const c=r.mapValue.fields||{},d=i.mapValue.fields||{};if(wb(c)!==wb(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(void 0===d[m]||!Hs(c[m],d[m])))return!1;return!0}(n,e);default:return tt()}var i}function If(n,e){return void 0!==(n.values||[]).find(t=>Hs(t,e))}function No(n,e){if(n===e)return 0;const t=Ku(n),r=Ku(e);if(t!==r)return xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return function(i,c){const d=jn(i.integerValue||i.doubleValue),m=jn(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return Ab(n.timestampValue,e.timestampValue);case 4:return Ab(mg(n),mg(e));case 5:return xt(n.stringValue,e.stringValue);case 6:return function(i,c){const d=Nc(i),m=Nc(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,c){const d=i.split("/"),m=c.split("/");for(let C=0;C<d.length&&C<m.length;C++){const I=xt(d[C],m[C]);if(0!==I)return I}return xt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,c){const d=xt(jn(i.latitude),jn(c.latitude));return 0!==d?d:xt(jn(i.longitude),jn(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,c){const d=i.values||[],m=c.values||[];for(let C=0;C<d.length&&C<m.length;++C){const I=No(d[C],m[C]);if(I)return I}return xt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,c){if(i===kc.mapValue&&c===kc.mapValue)return 0;if(i===kc.mapValue)return 1;if(c===kc.mapValue)return-1;const d=i.fields||{},m=Object.keys(d),C=c.fields||{},I=Object.keys(C);m.sort(),I.sort();for(let S=0;S<m.length&&S<I.length;++S){const R=xt(m[S],I[S]);if(0!==R)return R;const $=No(d[m[S]],C[I[S]]);if(0!==$)return $}return xt(m.length,I.length)}(n.mapValue,e.mapValue);default:throw tt()}}function Ab(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xt(n,e);const t=ka(n),r=ka(e),i=xt(t.seconds,r.seconds);return 0!==i?i:xt(t.nanos,r.nanos)}function Fc(n){return ko(n)}function ko(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ka(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Nc(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",c=!0;for(const d of r.values||[])c?c=!1:i+=",",i+=ko(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const m of i)d?d=!1:c+=",",c+=`${m}:${ko(r.fields[m])}`;return c+"}"}(n.mapValue):tt();var e}function Yu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Df(n){return!!n&&"integerValue"in n}function Fa(n){return!!n&&"arrayValue"in n}function Sb(n){return!!n&&"nullValue"in n}function xb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yg(n){return!!n&&"mapValue"in n}function Lc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Lc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Mf(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function MD(n){return"nullValue"in n?_g:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Yu(Rc.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:tt()}function TD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Yu(Rc.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?kc:tt()}function Oy(n,e){const t=No(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Py(n,e){const t=No(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class $s{constructor(e,t){this.position=e,this.inclusive=t}}function Ry(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const c=e[i],d=n.position[i];if(r=c.field.isKeyField()?Ge.comparator(Ge.fromName(d.referenceValue),t.key):No(d,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function vg(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hs(n.position[t],e.position[t]))return!1;return!0}class Cg{}class Kt extends Cg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new AD(e,t,r):"array-contains"===t?new Lb(e,r):"in"===t?new Ly(e,r):"not-in"===t?new SD(e,r):"array-contains-any"===t?new Vb(e,r):new Kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Nb(e,r):new kb(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(No(t,this.value)):null!==t&&Ku(this.value)===Ku(t)&&this.matchesComparison(No(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class cn extends Cg{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new cn(e,t)}matches(e){return Vc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Vc(n){return"and"===n.op}function Ny(n){return"or"===n.op}function Ob(n){return Pb(n)&&Vc(n)}function Pb(n){for(const e of n.filters)if(e instanceof cn)return!1;return!0}function Rb(n){if(n instanceof Kt)return n.field.canonicalString()+n.op.toString()+Fc(n.value);{const e=n.filters.map(t=>Rb(t)).join(",");return`${n.op}(${e})`}}function ky(n,e){return n instanceof Kt?(t=n,(r=e)instanceof Kt&&t.op===r.op&&t.field.isEqual(r.field)&&Hs(t.value,r.value)):n instanceof cn?function(t,r){return r instanceof cn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,c,d)=>i&&ky(c,r.filters[d]),!0)}(n,e):void tt();var t,r}function bg(n,e){const t=n.filters.concat(e);return cn.create(t,n.op)}function Fy(n){return n instanceof Kt?`${(e=n).field.canonicalString()} ${e.op} ${Fc(e.value)}`:n instanceof cn?function(e){return e.op.toString()+" {"+e.getFilters().map(Fy).join(" ,")+"}"}(n):"Filter";var e}class AD extends Kt{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nb extends Kt{constructor(e,t){super(e,"in",t),this.keys=Fb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kb extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=Fb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Fb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class Lb extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fa(t)&&If(t.arrayValue,this.value)}}class Ly extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&If(this.value.arrayValue,t)}}class SD extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(If(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!If(this.value.arrayValue,t)}}class Vb extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fa(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>If(this.value.arrayValue,r))}}class Fd{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ti(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class bn{constructor(e,t){this.comparator=e,this.root=t||Wr.EMPTY}insert(e,t){return new bn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wr.BLACK,null,null))}remove(e){return new bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eg(this.root,e,this.comparator,!0)}}class Eg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&i&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wr{constructor(e,t,r,i,c){this.key=e,this.value=t,this.color=r??Wr.RED,this.left=i??Wr.EMPTY,this.right=c??Wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,c){return new Wr(e??this.key,t??this.value,r??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const c=r(e,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===c?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Wr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}Wr.EMPTY=null,Wr.RED=!0,Wr.BLACK=!1,Wr.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Wr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class En{constructor(e){this.comparator=e,this.data=new bn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xD(this.data.getIterator())}getIteratorFrom(e){return new xD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(i,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new En(this.comparator);return t.data=e,t}}class xD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qu(n){return n.hasNext()?n.getNext():void 0}class $i{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new $i([])}unionWith(e){let t=new En(Bn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new $i(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(t)}setAll(e){let t=Bn.emptyPath(),r={},i=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const C=this.getFieldsMap(t);this.applyChanges(C,r,i),r={},i=[],t=m.popLast()}d?r[m.lastSegment()]=Lc(d):i.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,i)}delete(e){const t=this.field(e.popLast());yg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];yg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Zu(t,(i,c)=>e[i]=c);for(const i of r)delete e[i]}clone(){return new or(Lc(this.value))}}function Ub(n){const e=[];return Zu(n.fields,(t,r)=>{const i=new Bn([t]);if(yg(r)){const c=Ub(r.mapValue).fields;if(0===c.length)e.push(i);else for(const d of c)e.push(i.child(d))}else e.push(i)}),new $i(e)}class wn{constructor(e,t,r,i,c,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new wn(e,0,gt.min(),gt.min(),gt.min(),or.empty(),0)}static newFoundDocument(e,t,r,i){return new wn(e,1,t,gt.min(),r,i,0)}static newNoDocument(e,t){return new wn(e,2,t,gt.min(),gt.min(),or.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,gt.min(),gt.min(),or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class OD{constructor(e,t=null,r=[],i=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=c,this.startAt=d,this.endAt=m,this.ft=null}}function wg(n,e=null,t=[],r=[],i=null,c=null,d=null){return new OD(n,e,t,r,i,c,d)}function Ju(n){const e=Ze(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Rb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fc(r)).join(",")),e.ft=t}return e.ft}function Tf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ti(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ky(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vg(n.startAt,e.startAt)&&vg(n.endAt,e.endAt)}function Ig(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ld(n,e){return n.filters.filter(t=>t instanceof Kt&&t.field.isEqual(e))}function Vy(n,e,t){let r=_g,i=!0;for(const c of Ld(n,e)){let d=_g,m=!0;switch(c.op){case"<":case"<=":d=MD(c.value);break;case"==":case"in":case">=":d=c.value;break;case">":d=c.value,m=!1;break;case"!=":case"not-in":d=_g}Oy({value:r,inclusive:i},{value:d,inclusive:m})<0&&(r=d,i=m)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];Oy({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function Uy(n,e,t){let r=kc,i=!0;for(const c of Ld(n,e)){let d=kc,m=!0;switch(c.op){case">=":case">":d=TD(c.value),m=!1;break;case"==":case"in":case"<=":d=c.value;break;case"<":d=c.value,m=!1;break;case"!=":case"not-in":d=kc}Py({value:r,inclusive:i},{value:d,inclusive:m})>0&&(r=d,i=m)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];Py({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Fo{constructor(e,t=null,r=[],i=[],c=null,d="F",m=null,C=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=C,this.dt=null,this._t=null}}function Dg(n,e,t,r,i,c,d,m){return new Fo(n,e,t,r,i,c,d,m)}function Af(n){return new Fo(n)}function By(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jy(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Sf(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Uc(n){return null!==n.collectionGroup}function Xu(n){const e=Ze(n);if(null===e.dt){e.dt=[];const t=Sf(e),r=jy(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Fd(t)),e.dt.push(new Fd(Bn.keyField(),"asc"));else{let i=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(i=!0);if(!i){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Fd(Bn.keyField(),c))}}}return e.dt}function ui(n){const e=Ze(n);if(!e._t)if("F"===e.limitType)e._t=wg(e.path,e.collectionGroup,Xu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Xu(e))t.push(new Fd(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new $s(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new $s(e.startAt.position,e.startAt.inclusive):null;e._t=wg(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function xf(n,e){e.getFirstInequalityField(),Sf(n);const t=n.filters.concat([e]);return new Fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hy(n,e,t){return new Fo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Of(n,e){return Tf(ui(n),ui(e))&&n.limitType===e.limitType}function PD(n){return`${Ju(ui(n))}|lt:${n.limitType}`}function $y(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Fy(r)).join(", ")}]`),bf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fc(r)).join(",")),`Target(${t})`}(ui(n))}; limitType=${n.limitType})`}function Gy(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Xu(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,c,d){const m=Ry(i,c,d);return i.inclusive?m<=0:m<0}(t.startAt,Xu(t),r)||t.endAt&&!function(i,c,d){const m=Ry(i,c,d);return i.inclusive?m>=0:m>0}(t.endAt,Xu(t),r)));var t,r}function Bb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zy(n){return(e,t)=>{let r=!1;for(const i of Xu(n)){const c=jb(i,e,t);if(0!==c)return c;r=r||i.field.isKeyField()}return 0}}function jb(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,c,d){const m=c.data.field(i),C=d.data.field(i);return null!==m&&null!==C?No(m,C):tt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}function Hb(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(e)?"-0":e}}function qy(n){return{integerValue:""+n}}function Wy(n,e){return Db(e)?qy(e):Hb(n,e)}class Mg{constructor(){this._=void 0}}function RD(n,e,t){return n instanceof el?function(r,i){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(c.fields.__previous_value__=i),{mapValue:c}}(t,e):n instanceof Bc?Zy(n,e):n instanceof jc?zb(n,e):function(r,i){const c=Gb(r,i),d=ND(c)+ND(r.gt);return Df(c)&&Df(r.gt)?qy(d):Hb(r.yt,d)}(n,e)}function $b(n,e,t){return n instanceof Bc?Zy(n,e):n instanceof jc?zb(n,e):t}function Gb(n,e){return n instanceof Vd?Df(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class el extends Mg{}class Bc extends Mg{constructor(e){super(),this.elements=e}}function Zy(n,e){const t=Ky(e);for(const r of n.elements)t.some(i=>Hs(i,r))||t.push(r);return{arrayValue:{values:t}}}class jc extends Mg{constructor(e){super(),this.elements=e}}function zb(n,e){let t=Ky(e);for(const r of n.elements)t=t.filter(i=>!Hs(i,r));return{arrayValue:{values:t}}}class Vd extends Mg{constructor(e,t){super(),this.yt=e,this.gt=t}}function ND(n){return jn(n.integerValue||n.doubleValue)}function Ky(n){return Fa(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Tg{constructor(e,t){this.field=e,this.transform=t}}class bx{constructor(e,t){this.version=e,this.transformResults=t}}class Hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Qy{}function kD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new tl(n.key,Hn.none()):new La(n.key,n.data,Hn.none());{const t=n.data,r=or.empty();let i=new En(Bn.comparator);for(let c of e.fields)if(!i.has(c)){let d=t.field(c);null===d&&c.length>1&&(c=c.popLast(),d=t.field(c)),null===d?r.delete(c):r.set(c,d),i=i.add(c)}return new Gs(n.key,r,new $i(i.toArray()),Hn.none())}}function Ex(n,e,t){n instanceof La?function(r,i,c){const d=r.value.clone(),m=FD(r.fieldTransforms,i,c.transformResults);d.setAll(m),i.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Gs?function(r,i,c){if(!Yy(r.precondition,i))return void i.convertToUnknownDocument(c.version);const d=FD(r.fieldTransforms,i,c.transformResults),m=i.data;m.setAll(Xy(r)),m.setAll(d),i.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Hc(n,e,t,r){return n instanceof La?function(i,c,d,m){if(!Yy(i.precondition,c))return d;const C=i.value.clone(),I=Ag(i.fieldTransforms,m,c);return C.setAll(I),c.convertToFoundDocument(c.version,C).setHasLocalMutations(),null}(n,e,t,r):n instanceof Gs?function(i,c,d,m){if(!Yy(i.precondition,c))return d;const C=Ag(i.fieldTransforms,m,c),I=c.data;return I.setAll(Xy(i)),I.setAll(C),c.convertToFoundDocument(c.version,I).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(d=t,Yy(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d);var c,d}function wx(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),c=Gb(r.transform,i||null);null!=c&&(null===t&&(t=or.empty()),t.set(r.field,c))}return t||null}function Jy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Pc(t,r,(i,c)=>function Cx(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Bc&&r instanceof Bc||t instanceof jc&&r instanceof jc?Pc(t.elements,r.elements,Hs):t instanceof Vd&&r instanceof Vd?Hs(t.gt,r.gt):t instanceof el&&r instanceof el);var t,r}(i,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class La extends Qy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gs extends Qy{constructor(e,t,r,i,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Xy(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function FD(n,e,t){const r=new Map;at(n.length===t.length);for(let i=0;i<t.length;i++){const c=n[i],d=c.transform,m=e.data.field(c.field);r.set(c.field,$b(d,m,t[i]))}return r}function Ag(n,e,t){const r=new Map;for(const i of n){const c=i.transform,d=t.data.field(i.field);r.set(i.field,RD(c,d,e))}return r}class tl extends Qy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ev extends Qy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qb{constructor(e){this.count=e}}var wr,nn;function Wb(n){switch(n){default:return tt();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function Zb(n){if(void 0===n)return ir("GRPC error has no .code"),le.UNKNOWN;switch(n){case wr.OK:return le.OK;case wr.CANCELLED:return le.CANCELLED;case wr.UNKNOWN:return le.UNKNOWN;case wr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case wr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case wr.INTERNAL:return le.INTERNAL;case wr.UNAVAILABLE:return le.UNAVAILABLE;case wr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case wr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case wr.NOT_FOUND:return le.NOT_FOUND;case wr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case wr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case wr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case wr.ABORTED:return le.ABORTED;case wr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case wr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case wr.DATA_LOSS:return le.DATA_LOSS;default:return tt()}}(nn=wr||(wr={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";class is{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,c]of r)if(this.equalsFn(i,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return void(i[c]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zu(this.inner,(t,r)=>{for(const[i,c]of r)e(i,c)})}isEmpty(){return Ib(this.inner)}size(){return this.innerSize}}const LD=new bn(Ge.comparator);function ho(){return LD}const VD=new bn(Ge.comparator);function Sg(...n){let e=VD;for(const t of n)e=e.insert(t.key,t);return e}function Kb(n){let e=VD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zs(){return xg()}function Yb(){return xg()}function xg(){return new is(n=>n.toString(),(n,e)=>n.isEqual(e))}const UD=new bn(Ge.comparator),Qb=new En(Ge.comparator);function jt(...n){let e=Qb;for(const t of n)e=e.add(t);return e}const Ix=new En(xt);function Gi(){return Ix}class Pf{constructor(e,t,r,i,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,nl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Pf(gt.min(),i,Gi(),ho(),jt())}}class nl{constructor(e,t,r,i,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new nl(r,t,jt(),jt(),jt())}}class Og{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class BD{constructor(e,t){this.targetId=e,this.Et=t}}class fo{constructor(e,t,r=hr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Jb{constructor(){this.At=0,this.Rt=eE(),this.bt=hr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=jt(),t=jt(),r=jt();return this.Rt.forEach((i,c)=>{switch(c){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:tt()}}),new nl(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=eE()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class tv{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=ho(),this.qt=Xb(),this.Ut=new En(xt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const c=i.target;if(Ig(c))if(0===r){const d=new Ge(c.path);this.Qt(t,d,wn.newNoDocument(d,gt.min()))}else at(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((c,d)=>{const m=this.Yt(d);if(m){if(c.current&&Ig(m.target)){const C=new Ge(m.target.path);null!==this.Lt.get(C)||this.te(d,C)||this.Qt(d,C,wn.newNoDocument(C,e))}c.St&&(t.set(d,c.Ct()),c.xt())}});let r=jt();this.qt.forEach((c,d)=>{let m=!0;d.forEachWhile(C=>{const I=this.Yt(C);return!I||2===I.purpose||(m=!1,!1)}),m&&(r=r.add(c))}),this.Lt.forEach((c,d)=>d.setReadTime(e));const i=new Pf(e,t,this.Ut,this.Lt,r);return this.Lt=ho(),this.qt=Xb(),this.Ut=new En(xt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Jb,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new En(xt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Jb),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Xb(){return new bn(Ge.comparator)}function eE(){return new bn(Ge.comparator)}const nv={asc:"ASCENDING",desc:"DESCENDING"},tE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nE={and:"AND",or:"OR"};class jD{constructor(e,t){this.databaseId=e,this.wt=t}}function rl(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rv(n,e){return n.wt?e.toBase64():e.toUint8Array()}function HD(n,e){return rl(n,e.toTimestamp())}function Yn(n){return at(!!n),gt.fromTimestamp(function(e){const t=ka(e);return new Sn(t.seconds,t.nanos)}(n))}function iv(n,e){return(t=n,new Jt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Pg(n){const e=Jt.fromString(n);return at(hE(e)),e}function Lo(n,e){return iv(n.databaseId,e.path)}function os(n,e){const t=Pg(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge($D(t))}function Rf(n,e){return iv(n.databaseId,e)}function qs(n){const e=Pg(n);return 4===e.length?Jt.emptyPath():$D(e)}function Nf(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $D(n){return at(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function rE(n,e,t){return{name:Lo(n,e),fields:t.value.mapValue.fields}}function iE(n,e,t){const r=os(n,e.name),i=Yn(e.updateTime),c=e.createTime?Yn(e.createTime):gt.min(),d=new or({mapValue:{fields:e.fields}}),m=wn.newFoundDocument(r,i,c,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Ud(n,e){let t;if(e instanceof La)t={update:rE(n,e.key,e.value)};else if(e instanceof tl)t={delete:Lo(n,e.key)};else if(e instanceof Gs)t={update:rE(n,e.key,e.data),updateMask:dE(e.fieldMask)};else{if(!(e instanceof ev))return tt();t={verify:Lo(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,c){const d=c.transform;if(d instanceof el)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Bc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof jc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Vd)return{fieldPath:c.field.canonicalString(),increment:d.gt};throw tt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:HD(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:tt()),t;var i}function oE(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Hn.updateTime(Yn(i.updateTime)):void 0!==i.exists?Hn.exists(i.exists):Hn.none():Hn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(c,d){let m=null;"setToServerValue"in d?(at("REQUEST_TIME"===d.setToServerValue),m=new el):"appendMissingElements"in d?m=new Bc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new jc(d.removeAllFromArray.values||[]):"increment"in d?m=new Vd(c,d.increment):tt();const C=Bn.fromServerFormat(d.fieldPath);return new Tg(C,m)}(n,i)):[];var i;if(e.update){const i=os(n,e.update.name),c=new or({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new $i((e.updateMask.fieldPaths||[]).map(I=>Bn.fromServerFormat(I)));return new Gs(i,c,d,t,r)}return new La(i,c,t,r)}if(e.delete){const i=os(n,e.delete);return new tl(i,t)}if(e.verify){const i=os(n,e.verify);return new ev(i,t)}return tt()}function aE(n,e){return{documents:[Rf(n,e.path)]}}function Rg(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Rf(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Rf(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(C){if(0!==C.length)return kf(cn.create(C,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const c=function(C){if(0!==C.length)return C.map(I=>{return{field:il((S=I).field),direction:cE(S.dir)};var S})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=(I=e.limit,n.wt||bf(I)?I:{value:I});var I,m,C;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(C=e.endAt).inclusive,values:C.position}),t}function qD(n){let e=qs(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){at(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let c=[];t.where&&(c=function(S){const R=sv(S);return R instanceof cn&&Ob(R)?R.getFilters():[R]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new Fd(Va((R=S).field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;t.limit&&(m=function(S){let R;return R="object"==typeof S?S.value:S,bf(R)?null:R}(t.limit));let C=null;var S;t.startAt&&(C=new $s((S=t.startAt).values||[],!!S.before));let I=null;return t.endAt&&(I=function(S){return new $s(S.values||[],!S.before)}(t.endAt)),Dg(e,i,d,c,m,"F",C,I)}function sv(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Va(e.unaryFilter.field);return Kt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Va(e.unaryFilter.field);return Kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Va(e.unaryFilter.field);return Kt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Va(e.unaryFilter.field);return Kt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(n):void 0!==n.fieldFilter?Kt.create(Va((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return cn.create(e.compositeFilter.filters.map(t=>sv(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return tt()}}(e.compositeFilter.op))}(n):tt();var e}function cE(n){return nv[n]}function uE(n){return tE[n]}function lE(n){return nE[n]}function il(n){return{fieldPath:n.canonicalString()}}function Va(n){return Bn.fromServerFormat(n.fieldPath)}function kf(n){return n instanceof Kt?function(e){if("=="===e.op){if(xb(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NAN"}};if(Sb(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xb(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NOT_NAN"}};if(Sb(e.value))return{unaryFilter:{field:il(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(e.field),op:uE(e.op),value:e.value}}}(n):n instanceof cn?function(e){const t=e.getFilters().map(r=>kf(r));return 1===t.length?t[0]:{compositeFilter:{op:lE(e.op),filters:t}}}(n):tt()}function dE(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ai(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=WD(e)),e=Dx(n.get(t),e);return WD(e)}function Dx(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const c=n.charAt(i);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function WD(n){return n+"\x01\x01"}function Ua(n){const e=n.length;if(at(e>=2),2===e)return at("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Jt.emptyPath();const t=e-2,r=[];let i="";for(let c=0;c<e;){const d=n.indexOf("\x01",c);switch((d<0||d>t)&&tt(),n.charAt(d+1)){case"\x01":const m=n.substring(c,d);let C;0===i.length?C=m:(i+=m,C=i,i=""),r.push(C);break;case"\x10":i+=n.substring(c,d),i+="\0";break;case"\x11":i+=n.substring(c,d+1);break;default:tt()}c=d+2}return new Jt(r)}const av=["userId","batchId"];function Ng(n,e){return[n,Ai(e)]}function fE(n,e,t){return[n,Ai(e),t]}const ZD={},Mx=["prefixPath","collectionGroup","readTime","documentId"],Tx=["prefixPath","collectionGroup","documentId"],Ax=["collectionGroup","readTime","prefixPath","documentId"],Sx=["canonicalId","targetId"],xx=["targetId","path"],KD=["path","targetId"],kg=["collectionId","parent"],YD=["indexId","uid"],QD=["uid","sequenceNumber"],pE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ol=["indexId","uid","orderedDocumentKey"],gE=["userId","collectionPath","documentId"],cv=["userId","collectionPath","largestBatchId"],uv=["userId","collectionGroup","largestBatchId"],mE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lv=[...mE,"documentOverlays"],Fg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ff=Fg,Ox=[...Ff,"indexConfiguration","indexState","indexEntries"];class _E extends Ty{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Zr(n,e){const t=Ze(n);return rs.M(t.se,e)}class yE{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(e.key)&&Ex(c,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Yb();return this.mutations.forEach(i=>{const c=e.get(i.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=t.has(i.key)?null:m;const C=kD(d,m);null!==C&&r.set(i.key,C),d.isValidDocument()||d.convertToNoDocument(gt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),jt())}isEqual(e){return this.batchId===e.batchId&&Pc(this.mutations,e.mutations,(t,r)=>Jy(t,r))&&Pc(this.baseMutations,e.baseMutations,(t,r)=>Jy(t,r))}}class Lg{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){at(e.mutations.length===r.length);let i=UD;const c=e.mutations;for(let d=0;d<c.length;d++)i=i.insert(c[d].key,r[d].version);return new Lg(e,t,r,i)}}class dv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $c{constructor(e,t,r,i,c=gt.min(),d=gt.min(),m=hr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new $c(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new $c(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class vE{constructor(e){this.ie=e}}function hv(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Lf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Lo(i=n.ie,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:rl(i,c.version.toTimestamp()),createTime:rl(i,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Gc(e.version)};else{if(!e.isUnknownDocument())return tt();r.unknownDocument={path:t.path.toArray(),version:Gc(e.version)}}var i,c;return r}function Lf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Gc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function sl(n){const e=new Sn(n.seconds,n.nanoseconds);return gt.fromTimestamp(e)}function al(n,e){const t=(e.baseMutations||[]).map(c=>oE(n.ie,c));for(let c=0;c<e.mutations.length-1;++c){const d=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(d.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>oE(n.ie,c)),i=Sn.fromMillis(e.localWriteTimeMs);return new yE(e.batchId,i,t,r)}function Bd(n){const e=sl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?sl(n.lastLimboFreeSnapshotVersion):gt.min();let r;var i;return void 0!==n.query.documents?(at(1===(i=n.query).documents.length),r=ui(Af(qs(i.documents[0])))):r=ui(qD(n.query)),new $c(r,n.targetId,0,n.lastListenSequenceNumber,e,t,hr.fromBase64String(n.resumeToken))}function Vg(n,e){const t=Gc(e.snapshotVersion),r=Gc(e.lastLimboFreeSnapshotVersion);let i;i=Ig(e.target)?aE(n.ie,e.target):Rg(n.ie,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ju(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function CE(n){const e=qD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Hy(e,e.limit,"L"):e}function Ug(n,e){return new dv(e.largestBatchId,oE(n.ie,e.overlayMutation))}function Bg(n,e){const t=e.path.lastSegment();return[n,Ai(e.path.popLast()),t]}function bE(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Gc(r.readTime),documentKey:Ai(r.documentKey.path),largestBatchId:r.largestBatchId}}class XD{getBundleMetadata(e,t){return eM(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:sl(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return eM(e).put({bundleId:(r=t).id,createTime:Gc(Yn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return tM(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:CE(i.bundledQuery),readTime:sl(i.readTime)};var i})}saveNamedQuery(e,t){return tM(e).put({name:(r=t).name,readTime:Gc(Yn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function eM(n){return Zr(n,"bundles")}function tM(n){return Zr(n,"namedQueries")}class jg{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new jg(e,t.uid||"")}getOverlay(e,t){return Vf(e).get(Bg(this.userId,t)).next(r=>r?Ug(this.yt,r):null)}getOverlays(e,t){const r=zs();return ce.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((c,d)=>{const m=new dv(t,d);i.push(this.oe(e,m))}),ce.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Ai(d.getCollectionPath())));const c=[];return i.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);c.push(Vf(e).Y("collectionPathOverlayIndex",m))}),ce.waitFor(c)}getOverlaysForCollection(e,t,r){const i=zs(),c=Ai(t),d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Vf(e).W("collectionPathOverlayIndex",d).next(m=>{for(const C of m){const I=Ug(this.yt,C);i.set(I.getKey(),I)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const c=zs();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vf(e).Z({index:"collectionGroupOverlayIndex",range:m},(C,I,S)=>{const R=Ug(this.yt,I);c.size()<i||R.largestBatchId===d?(c.set(R.getKey(),R),d=R.largestBatchId):S.done()}).next(()=>c)}oe(e,t){return Vf(e).put(function(r,i,c){const[d,m,C]=Bg(i,c.mutation.key);return{userId:i,collectionPath:m,documentId:C,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Ud(r.ie,c.mutation)}}(this.yt,this.userId,t))}}function Vf(n){return Zr(n,"documentOverlays")}class cl{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(jn(e.integerValue));else if("doubleValue"in e){const r=jn(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),Ef(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Nc(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?Mf(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):tt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),Ge.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function Px(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function nM(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const c=Px(255&t[i]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}cl.Ie=new cl;class Rx{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=nM(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=nM(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,i,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Nx{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class kx{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Uf{constructor(){this.$e=new Rx,this.Be=new Nx(this.$e),this.Le=new kx(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class jd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new jd(this.indexId,this.documentKey,this.arrayValue,r)}}function ul(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=rM(n.arrayValue,e.arrayValue),0!==t?t:(t=rM(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function rM(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Fx{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){at(e.collectionGroup===this.collectionId);const t=Iy(e);if(void 0!==t&&!this.We(t))return!1;const r=Nd(e);let i=0,c=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const d=r[i];if(!this.ze(this.Qe,d)||!this.He(this.Ke[c++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(c>=this.Ke.length||!this.He(this.Ke[c++],d))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function iM(n){var e,t;if(at(n instanceof Kt||n instanceof cn),n instanceof Kt){if(n instanceof Ly){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Kt.create(n.field,"==",c)))||[];return cn.create(i,"or")}return n}const r=n.filters.map(i=>iM(i));return cn.create(r,n.op)}function Lx(n){if(0===n.getFilters().length)return[];const e=l(iM(n));return at(a(e)),o(e)||s(e)?[e]:e.getFilters()}function o(n){return n instanceof Kt}function s(n){return n instanceof cn&&Ob(n)}function a(n){return o(n)||s(n)||function(e){if(e instanceof cn&&Ny(e)){for(const t of e.getFilters())if(!o(t)&&!s(t))return!1;return!0}return!1}(n)}function l(n){if(at(n instanceof Kt||n instanceof cn),n instanceof Kt)return n;if(1===n.filters.length)return l(n.filters[0]);const e=n.filters.map(r=>l(r));let t=cn.create(e,n.op);return t=y(t),a(t)?t:(at(t instanceof cn),at(Vc(t)),at(t.filters.length>1),t.filters.reduce((r,i)=>h(r,i)))}function h(n,e){let t;return at(n instanceof Kt||n instanceof cn),at(e instanceof Kt||e instanceof cn),t=n instanceof Kt?e instanceof Kt?cn.create([n,e],"and"):p(n,e):e instanceof Kt?p(e,n):function(r,i){if(at(r.filters.length>0&&i.filters.length>0),Vc(r)&&Vc(i))return bg(r,i.getFilters());const c=Ny(r)?r:i,d=Ny(r)?i:r,m=c.filters.map(C=>h(C,d));return cn.create(m,"or")}(n,e),y(t)}function p(n,e){if(Vc(e))return bg(e,n.getFilters());{const t=e.filters.map(r=>h(n,r));return cn.create(t,"or")}}function y(n){if(at(n instanceof Kt||n instanceof cn),n instanceof Kt)return n;const e=n.getFilters();if(1===e.length)return y(e[0]);if(Pb(n))return n;const t=e.map(i=>y(i)),r=[];return t.forEach(i=>{i instanceof Kt?r.push(i):i instanceof cn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:cn.create(r,n.op)}class b{constructor(){this.Je=new E}addToCollectionParentIndex(e,t){return this.Je.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Mi.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class E{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new En(Jt.comparator),c=!i.has(r);return this.index[t]=i.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new En(Jt.comparator)).toArray()}}const M=new Uint8Array(0);class O{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new E,this.Xe=new is(r=>Ju(r),(r,i)=>Tf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const c={collectionId:r,parent:Ai(i)};return F(e).put(c)}return ce.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[wy(t),""],!1,!0);return F(e).W(i).next(c=>{for(const d of c){if(d.collectionId!==t)break;r.push(Ua(d.parent))}return r})}addFieldIndex(e,t){const r=J(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete i.indexId;const c=r.add(i);if(t.indexState){const d=ye(e);return c.next(m=>{d.put(bE(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=J(e),i=ye(e),c=G(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=G(e);let i=!0;const c=new Map;return ce.forEach(this.Ze(t),d=>this.tn(e,d).next(m=>{i&&(i=!!m),c.set(d,m)})).next(()=>{if(i){let d=jt();const m=[];return ce.forEach(c,(C,I)=>{var S;Re("IndexedDbIndexManager",`Using index ${S=C,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Lt=>`${Lt.fieldPath}:${Lt.kind}`).join(",")}`} to execute ${Ju(t)}`);const R=function(Lt,Vt){const Ut=Iy(Vt);if(void 0===Ut)return null;for(const zt of Ld(Lt,Ut.fieldPath))switch(zt.op){case"array-contains-any":return zt.value.arrayValue.values||[];case"array-contains":return[zt.value]}return null}(I,C),$=function(Lt,Vt){const Ut=new Map;for(const zt of Nd(Vt))for(const Kr of Ld(Lt,zt.fieldPath))switch(Kr.op){case"==":case"in":Ut.set(zt.fieldPath.canonicalString(),Kr.value);break;case"not-in":case"!=":return Ut.set(zt.fieldPath.canonicalString(),Kr.value),Array.from(Ut.values())}return null}(I,C),ee=function(Lt,Vt){const Ut=[];let zt=!0;for(const Kr of Nd(Vt)){const iC=0===Kr.kind?Vy(Lt,Kr.fieldPath,Lt.startAt):Uy(Lt,Kr.fieldPath,Lt.startAt);Ut.push(iC.value),zt&&(zt=iC.inclusive)}return new $s(Ut,zt)}(I,C),ue=function(Lt,Vt){const Ut=[];let zt=!0;for(const Kr of Nd(Vt)){const iC=0===Kr.kind?Uy(Lt,Kr.fieldPath,Lt.endAt):Vy(Lt,Kr.fieldPath,Lt.endAt);Ut.push(iC.value),zt&&(zt=iC.inclusive)}return new $s(Ut,zt)}(I,C),Oe=this.en(C,I,ee),Be=this.en(C,I,ue),Pt=this.nn(C,I,$),Ht=this.sn(C.indexId,R,Oe,ee.inclusive,Be,ue.inclusive,Pt);return ce.forEach(Ht,Lt=>r.J(Lt,t.limit).next(Vt=>{Vt.forEach(Ut=>{const zt=Ge.fromSegments(Ut.documentKey);d.has(zt)||(d=d.add(zt),m.push(zt))})}))}).next(()=>m)}return ce.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Lx(cn.create(e.filters,"and")).map(r=>wg(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,c,d,m){const C=(null!=t?t.length:1)*Math.max(r.length,c.length),I=C/(null!=t?t.length:1),S=[];for(let R=0;R<C;++R){const $=t?this.rn(t[R/I]):M,ee=this.on(e,$,r[R%I],i),ue=this.un(e,$,c[R%I],d),Oe=m.map(Be=>this.on(e,$,Be,!0));S.push(...this.createRange(ee,ue,Oe))}return S}on(e,t,r,i){const c=new jd(e,Ge.empty(),t,r);return i?c:c.Ue()}un(e,t,r,i){const c=new jd(e,Ge.empty(),t,r);return i?c.Ue():c}tn(e,t){const r=new Fx(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(c=>{let d=null;for(const m of c)r.je(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;const i=this.Ze(t);return ce.forEach(i,c=>this.tn(e,c).next(d=>{d?0!==r&&d.fields.length<function(m){let C=new En(Bn.comparator),I=!1;for(const S of m.filters)for(const R of S.getFlattenedFilters())R.field.isKeyField()||("array-contains"===R.op||"array-contains-any"===R.op?I=!0:C=C.add(R.field));for(const S of m.orderBy)S.field.isKeyField()||(C=C.add(S.field));return C.size+(I?1:0)}(c)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new Uf;for(const i of Nd(e)){const c=t.data.field(i.fieldPath);if(null==c)return null;const d=r.qe(i.kind);cl.Ie.ue(c,d)}return r.Fe()}rn(e){const t=new Uf;return cl.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new Uf;return cl.Ie.ue(Yu(this.databaseId,t),r.qe(function(i){const c=Nd(i);return 0===c.length?0:c[c.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new Uf);let c=0;for(const d of Nd(e)){const m=r[c++];for(const C of i)if(this.hn(t,d.fieldPath)&&Fa(m))i=this.ln(i,d,m);else{const I=C.qe(d.kind);cl.Ie.ue(m,I)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],c=[];for(const d of r.arrayValue.values||[])for(const m of i){const C=new Uf;C.seed(m.Fe()),cl.Ie.ue(d,C.qe(t.kind)),c.push(C)}return c}hn(e,t){return!!e.filters.find(r=>r instanceof Kt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=J(e),i=ye(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(c=>{const d=[];return ce.forEach(c,m=>i.get([m.indexId,this.uid]).next(C=>{d.push(function(I,S){const R=S?new qu(S.sequenceNumber,new Mi(sl(S.readTime),new Ge(Ua(S.documentKey)),S.largestBatchId)):qu.empty(),$=I.fields.map(([ee,ue])=>new kd(Bn.fromServerFormat(ee),ue));return new Cf(I.indexId,I.collectionGroup,$,R)}(m,C))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const c=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==c?c:xt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=J(e),c=ye(e);return this.dn(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ce.forEach(m,C=>c.put(bE(C.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ce.forEach(t,(i,c)=>{const d=r.get(i.collectionGroup);return(d?ce.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),ce.forEach(m,C=>this._n(e,i,C).next(I=>{const S=this.wn(c,C);return I.isEqual(S)?ce.resolve():this.mn(e,c,C,I,S)}))))})}gn(e,t,r,i){return G(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return G(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=G(e);let c=new En(ul);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(d,m)=>{c=c.add(new jd(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>c)}wn(e,t){let r=new En(ul);const i=this.cn(t,e);if(null==i)return r;const c=Iy(t);if(null!=c){const d=e.data.field(c.fieldPath);if(Fa(d))for(const m of d.arrayValue.values||[])r=r.add(new jd(t.indexId,e.key,this.rn(m),i))}else r=r.add(new jd(t.indexId,e.key,M,i));return r}mn(e,t,r,i,c){Re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,C,I,S,R){const $=m.getIterator(),ee=C.getIterator();let ue=Qu($),Oe=Qu(ee);for(;ue||Oe;){let Be=!1,Pt=!1;if(ue&&Oe){const Ht=I(ue,Oe);Ht<0?Pt=!0:Ht>0&&(Be=!0)}else null!=ue?Pt=!0:Be=!0;Be?(S(Oe),Oe=Qu(ee)):Pt?(R(ue),ue=Qu($)):(ue=Qu($),Oe=Qu(ee))}}(i,c,ul,m=>{d.push(this.gn(e,t,r,m))},m=>{d.push(this.yn(e,t,r,m))}),ce.waitFor(d)}dn(e){let t=1;return ye(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,c)=>{c.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>ul(d,m)).filter((d,m,C)=>!m||0!==ul(d,C[m-1]));const i=[];i.push(e);for(const d of r){const m=ul(d,e),C=ul(d,t);if(0===m)i[0]=e.Ue();else if(m>0&&C<0)i.push(d),i.push(d.Ue());else if(C>0)break}i.push(t);const c=[];for(let d=0;d<i.length;d+=2){if(this.pn(i[d],i[d+1]))return[];c.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,M,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,M,[]]))}return c}pn(e,t){return ul(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ue)}getMinOffset(e,t){return ce.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||tt())).next(Ue)}}function F(n){return Zr(n,"collectionParents")}function G(n){return Zr(n,"indexEntries")}function J(n){return Zr(n,"indexConfiguration")}function ye(n){return Zr(n,"indexState")}function Ue(n){at(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;fg(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Mi(e.readTime,e.documentKey,t)}const qe={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class We{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bt(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),c=[],d=IDBKeyRange.only(t.batchId);let m=0;const C=r.Z({range:d},(S,R,$)=>(m++,$.delete()));c.push(C.next(()=>{at(1===m)}));const I=[];for(const S of t.mutations){const R=fE(e,S.key.path,t.batchId);c.push(i.delete(R)),I.push(S.key)}return ce.waitFor(c).next(()=>I)}function xe(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(41943040,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);class Tt{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){at(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Tt(c,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _n(e).Z({index:"userMutationsIndex",range:r},(i,c,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const c=Bf(e),d=_n(e);return d.add({}).next(m=>{at("number"==typeof m);const C=new yE(m,t,r,i),I=function($,ee,ue){const Oe=ue.baseMutations.map(Pt=>Ud($.ie,Pt)),Be=ue.mutations.map(Pt=>Ud($.ie,Pt));return{userId:ee,batchId:ue.batchId,localWriteTimeMs:ue.localWriteTime.toMillis(),baseMutations:Oe,mutations:Be}}(this.yt,this.userId,C),S=[];let R=new En(($,ee)=>xt($.canonicalString(),ee.canonicalString()));for(const $ of i){const ee=fE(this.userId,$.key.path,m);R=R.add($.key.path.popLast()),S.push(d.put(I)),S.push(c.put(ee,ZD))}return R.forEach($=>{S.push(this.indexManager.addToCollectionParentIndex(e,$))}),e.addOnCommittedListener(()=>{this.In[m]=C.keys()}),ce.waitFor(S).next(()=>C)})}lookupMutationBatch(e,t){return _n(e).get(t).next(r=>r?(at(r.userId===this.userId),al(this.yt,r)):null)}Tn(e,t){return this.In[t]?ce.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return _n(e).Z({index:"userMutationsIndex",range:i},(d,m,C)=>{m.userId===this.userId&&(at(m.batchId>=r),c=al(this.yt,m)),C.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _n(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,c,d)=>{r=c.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _n(e).W("userMutationsIndex",t).next(r=>r.map(i=>al(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ng(this.userId,t.path),i=IDBKeyRange.lowerBound(r),c=[];return Bf(e).Z({range:i},(d,m,C)=>{const[I,S,R]=d,$=Ua(S);if(I===this.userId&&t.path.isEqual($))return _n(e).get(R).next(ee=>{if(!ee)throw tt();at(ee.userId===this.userId),c.push(al(this.yt,ee))});C.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(xt);const i=[];return t.forEach(c=>{const d=Ng(this.userId,c.path),m=IDBKeyRange.lowerBound(d),C=Bf(e).Z({range:m},(I,S,R)=>{const[$,ee,ue]=I,Oe=Ua(ee);$===this.userId&&c.path.isEqual(Oe)?r=r.add(ue):R.done()});i.push(C)}),ce.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,c=Ng(this.userId,r),d=IDBKeyRange.lowerBound(c);let m=new En(xt);return Bf(e).Z({range:d},(C,I,S)=>{const[R,$,ee]=C,ue=Ua($);R===this.userId&&r.isPrefixOf(ue)?ue.length===i&&(m=m.add(ee)):S.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],i=[];return t.forEach(c=>{i.push(_n(e).get(c).next(d=>{if(null===d)throw tt();at(d.userId===this.userId),r.push(al(this.yt,d))}))}),ce.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return bt(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ce.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Bf(e).Z({range:r},(c,d,m)=>{if(c[0]===this.userId){const C=Ua(c[1]);i.push(C)}else m.done()}).next(()=>{at(0===i.length)})})}containsKey(e,t){return Rn(e,this.userId,t)}Rn(e){return Vx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Rn(n,e,t){const r=Ng(e,t.path),i=r[1],c=IDBKeyRange.lowerBound(r);let d=!1;return Bf(n).Z({range:c,X:!0},(m,C,I)=>{const[S,R,$]=m;S===e&&R===i&&(d=!0),I.done()}).next(()=>d)}function _n(n){return Zr(n,"mutations")}function Bf(n){return Zr(n,"documentMutations")}function Vx(n){return Zr(n,"mutationQueues")}class jf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new jf(0)}static vn(){return new jf(-1)}}class NN{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new jf(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>gt.fromTimestamp(new Sn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Hg(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(at(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const c=[];return Hg(e).Z((d,m)=>{const C=Bd(m);C.sequenceNumber<=t&&null===r.get(C.targetId)&&(i++,c.push(this.removeTargetData(e,C)))}).next(()=>ce.waitFor(c)).next(()=>i)}forEachTarget(e,t){return Hg(e).Z((r,i)=>{const c=Bd(i);t(c)})}Vn(e){return Ux(e).get("targetGlobalKey").next(t=>(at(null!==t),t))}Sn(e,t){return Ux(e).put("targetGlobalKey",t)}Dn(e,t){return Hg(e).put(Vg(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ju(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Hg(e).Z({range:i,index:"queryTargetsIndex"},(d,m,C)=>{const I=Bd(m);Tf(t,I.target)&&(c=I,C.done())}).next(()=>c)}addMatchingKeys(e,t,r){const i=[],c=Hd(e);return t.forEach(d=>{const m=Ai(d.path);i.push(c.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,d))}),ce.waitFor(i)}removeMatchingKeys(e,t,r){const i=Hd(e);return ce.forEach(t,c=>{const d=Ai(c.path);return ce.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=Hd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Hd(e);let c=jt();return i.Z({range:r,X:!0},(d,m,C)=>{const I=Ua(d[1]),S=new Ge(I);c=c.add(S)}).next(()=>c)}containsKey(e,t){const r=Ai(t.path),i=IDBKeyRange.bound([r],[wy(r)],!1,!0);let c=0;return Hd(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,m],C,I)=>{0!==d&&(c++,I.done())}).next(()=>c>0)}ne(e,t){return Hg(e).get(t).next(r=>r?Bd(r):null)}}function Hg(n){return Zr(n,"targets")}function Ux(n){return Zr(n,"targetGlobal")}function Hd(n){return Zr(n,"targetDocuments")}function Bx([n,e],[t,r]){const i=xt(n,t);return 0===i?xt(e,r):i}class kN{constructor(e){this.xn=e,this.buffer=new En(Bx),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Bx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,fe.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Na(r)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ra(r)}yield t.Fn(3e5)}))}}class LN{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(lo.at);const r=new kN(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(qe)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qe):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,c,d,m,C,I;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),i=this.params.maximumSequenceNumbersToCollect):i=R,d=Date.now(),this.nthSequenceNumber(e,i))).next(R=>(r=R,m=Date.now(),this.removeTargets(e,r,t))).next(R=>(c=R,C=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(I=Date.now(),hg()<=Ls.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${i} in `+(m-d)+`ms\n\tRemoved ${c} targets in `+(C-m)+`ms\n\tRemoved ${R} documents in `+(I-C)+`ms\nTotal Duration: ${I-S}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:c,documentsRemoved:R})))}}class VN{constructor(e,t){this.db=e,this.garbageCollector=new LN(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return EE(e,r)}removeReference(e,t,r){return EE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return EE(e,t)}Gn(e,t){return function(r,i){let c=!1;return Vx(r).tt(d=>Rn(r,d,i).next(m=>(m&&(c=!0),ce.resolve(!m)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let c=0;return this.Kn(e,(d,m)=>{if(m<=t){const C=this.Gn(e,d).next(I=>{if(!I)return c++,r.getEntry(e,d).next(()=>(r.removeEntry(d,gt.min()),Hd(e).delete([0,Ai(d.path)])))});i.push(C)}}).next(()=>ce.waitFor(i)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return EE(e,t)}Kn(e,t){const r=Hd(e);let i,c=lo.at;return r.Z({index:"documentTargetsIndex"},([d,m],{path:C,sequenceNumber:I})=>{0===d?(c!==lo.at&&t(new Ge(Ua(i)),c),c=I,i=C):c=lo.at}).next(()=>{c!==lo.at&&t(new Ge(Ua(i)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function EE(n,e){return Hd(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ai(e.path),sequenceNumber:r}));var r}class jx{constructor(){this.changes=new is(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UN{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Hf(e).put(r)}removeEntry(e,t,r){return Hf(e).delete(function(i,c){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Lf(c),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=wn.newInvalidDocument(t);return Hf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(fv(t))},(i,c)=>{r=this.jn(t,c)}).next(()=>r)}Wn(e,t){let r={size:0,document:wn.newInvalidDocument(t)};return Hf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(fv(t))},(i,c)=>{r={document:this.jn(t,c),size:xe(c)}}).next(()=>r)}getEntries(e,t){let r=ho();return this.zn(e,t,(i,c)=>{const d=this.jn(i,c);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=ho(),i=new bn(Ge.comparator);return this.zn(e,t,(c,d)=>{const m=this.jn(c,d);r=r.insert(c,m),i=i.insert(c,xe(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ce.resolve();let i=new En(zx);t.forEach(C=>i=i.add(C));const c=IDBKeyRange.bound(fv(i.first()),fv(i.last())),d=i.getIterator();let m=d.getNext();return Hf(e).Z({index:"documentKeyIndex",range:c},(C,I,S)=>{const R=Ge.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;m&&zx(m,R)<0;)r(m,null),m=d.getNext();m&&m.isEqual(R)&&(r(m,I),m=d.hasNext()?d.getNext():null),m?S.j(fv(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Lf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hf(e).W(IDBKeyRange.bound(i,c,!0)).next(d=>{let m=ho();for(const C of d){const I=this.jn(Ge.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);m=m.insert(I.key,I)}return m})}getAllFromCollectionGroup(e,t,r,i){let c=ho();const d=Gx(t,r),m=Gx(t,Mi.max());return Hf(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(C,I,S)=>{const R=this.jn(Ge.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);c=c.insert(R.key,R),c.size===i&&S.done()}).next(()=>c)}newChangeBuffer(e){return new BN(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $x(e).get("remoteDocumentGlobalKey").next(t=>(at(!!t),t))}Qn(e,t){return $x(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function JD(n,e){let t;if(e.document)t=iE(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),i=sl(e.noDocument.readTime);t=wn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return tt();{const r=Ge.fromSegments(e.unknownDocument.path),i=sl(e.unknownDocument.version);t=wn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Sn(r[0],r[1]);return gt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(gt.min()))return r}return wn.newInvalidDocument(e)}}function Hx(n){return new UN(n)}class BN extends jx{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new is(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new En((c,d)=>xt(c.canonicalString(),d.canonicalString()));return this.changes.forEach((c,d)=>{const m=this.Xn.get(c);if(t.push(this.Yn.removeEntry(e,c,m.readTime)),d.isValidDocument()){const C=hv(this.Yn.yt,d);i=i.add(c.path.popLast());const I=xe(C);r+=I-m.size,t.push(this.Yn.addEntry(e,c,C))}else if(r-=m.size,this.trackRemovals){const C=hv(this.Yn.yt,d.convertToNoDocument(gt.min()));t.push(this.Yn.addEntry(e,c,C))}}),i.forEach(c=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.Yn.updateMetadata(e,r)),ce.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((c,d)=>{this.Xn.set(c,{size:d,readTime:r.get(c).readTime})}),r))}}function $x(n){return Zr(n,"remoteDocumentGlobal")}function Hf(n){return Zr(n,"remoteDocumentsV14")}function fv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Gx(n,e){const t=e.documentKey.path.toArray();return[n,Lf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function zx(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(i=xt(t[c],r[c]),i)return i;return i=xt(t.length,r.length),i||(i=xt(t[t.length-2],r[r.length-2]),i||xt(t[t.length-1],r[r.length-1]))}class jN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class qx{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Hc(r.mutation,i,$i.empty(),Sn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,jt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=jt()){const i=zs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(c=>{let d=Sg();return c.forEach((m,C)=>{d=d.insert(m,C.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=zs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,jt()))}populateOverlays(e,t,r){const i=[];return r.forEach(c=>{t.has(c)||i.push(c)}),this.documentOverlayCache.getOverlays(e,i).next(c=>{c.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,i){let c=ho();const d=xg(),m=xg();return t.forEach((C,I)=>{const S=r.get(I.key);i.has(I.key)&&(void 0===S||S.mutation instanceof Gs)?c=c.insert(I.key,I):void 0!==S&&(d.set(I.key,S.mutation.getFieldMask()),Hc(S.mutation,I,S.mutation.getFieldMask(),Sn.now()))}),this.recalculateAndSaveOverlays(e,c).next(C=>(C.forEach((I,S)=>d.set(I,S)),t.forEach((I,S)=>{var R;return m.set(I,new jN(S,null!==(R=d.get(I))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,t){const r=xg();let i=new bn((d,m)=>d-m),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(C=>{const I=t.get(C);if(null===I)return;let S=r.get(C)||$i.empty();S=m.applyToLocalView(I,S),r.set(C,S);const R=(i.get(m.batchId)||jt()).add(C);i=i.insert(m.batchId,R)})}).next(()=>{const d=[],m=i.getReverseIterator();for(;m.hasNext();){const C=m.getNext(),I=C.key,S=C.value,R=Yb();S.forEach($=>{if(!c.has($)){const ee=kD(t.get($),r.get($));null!==ee&&R.set($,ee),c=c.add($)}}),d.push(this.documentOverlayCache.saveOverlays(e,I,R))}return ce.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Uc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(c=>{const d=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-c.size):ce.resolve(zs());let m=-1,C=c;return d.next(I=>ce.forEach(I,(S,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(S)?ce.resolve():this.remoteDocumentCache.getEntry(e,S).next($=>{C=C.insert(S,$)}))).next(()=>this.populateOverlays(e,I,c)).next(()=>this.computeViews(e,C,I,jt())).next(S=>({batchId:m,changes:Kb(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let i=Sg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let c=Sg();return this.indexManager.getCollectionParents(e,i).next(d=>ce.forEach(d,m=>{const C=(I=t,S=m.child(i),new Fo(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,S;return this.getDocumentsMatchingCollectionQuery(e,C,r).next(I=>{I.forEach((S,R)=>{c=c.insert(S,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(c=>(i=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(c=>{c.forEach((m,C)=>{const I=C.getKey();null===i.get(I)&&(i=i.insert(I,wn.newInvalidDocument(I)))});let d=Sg();return i.forEach((m,C)=>{const I=c.get(m);void 0!==I&&Hc(I.mutation,C,$i.empty(),Sn.now()),Gy(t,C)&&(d=d.insert(m,C))}),d})}}class HN{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Yn(r.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:CE(r.bundledQuery),readTime:Yn(r.readTime)}),ce.resolve();var r}}class $N{constructor(){this.overlays=new bn(Ge.comparator),this.es=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zs();return ce.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,c)=>{this.oe(e,t,c)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(c=>this.overlays=this.overlays.remove(c)),this.es.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const i=zs(),c=t.length+1,d=new Ge(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const C=m.getNext().value,I=C.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===c&&C.largestBatchId>r&&i.set(C.getKey(),C)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let c=new bn((I,S)=>I-S);const d=this.overlays.getIterator();for(;d.hasNext();){const I=d.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let S=c.get(I.largestBatchId);null===S&&(S=zs(),c=c.insert(I.largestBatchId,S)),S.set(I.getKey(),I)}}const m=zs(),C=c.getIterator();for(;C.hasNext()&&(C.getNext().value.forEach((I,S)=>m.set(I,S)),!(m.size()>=i)););return ce.resolve(m)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new dv(t,r));let c=this.es.get(t);void 0===c&&(c=jt(),this.es.set(t,c)),this.es.set(t,c.add(r.key))}}class oM{constructor(){this.ns=new En(li.ss),this.rs=new En(li.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new li(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new li(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ge(new Jt([])),r=new li(t,e),i=new li(t,e+1),c=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),c.push(d.key)}),c}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ge(new Jt([])),r=new li(t,e),i=new li(t,e+1);let c=jt();return this.rs.forEachInRange([r,i],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new li(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class li{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ge.comparator(e.key,t.key)||xt(e._s,t._s)}static os(e,t){return xt(e._s,t._s)||Ge.comparator(e.key,t.key)}}class GN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new En(li.ss)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const c=this.ws;this.ws++;const d=new yE(c,t,r,i);this.mutationQueue.push(d);for(const m of i)this.gs=this.gs.add(new li(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ce.resolve(d)}lookupMutationBatch(e,t){return ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),c=i<0?0:i;return ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new li(t,0),i=new li(t,Number.POSITIVE_INFINITY),c=[];return this.gs.forEachInRange([r,i],d=>{const m=this.ys(d._s);c.push(m)}),ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(xt);return t.forEach(i=>{const c=new li(i,0),d=new li(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([c,d],m=>{r=r.add(m._s)})}),ce.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let c=r;Ge.isDocumentKey(c)||(c=c.child(""));const d=new li(new Ge(c),0);let m=new En(xt);return this.gs.forEachWhile(C=>{const I=C.key.path;return!!r.isPrefixOf(I)&&(I.length===i&&(m=m.add(C._s)),!0)},d),ce.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){at(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ce.forEach(t.mutations,i=>{const c=new li(i.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new li(t,0),i=this.gs.firstAfterOrEqual(r);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ce.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zN{constructor(e){this.Es=e,this.docs=new bn(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),c=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let r=ho();return t.forEach(i=>{const c=this.docs.get(i);r=r.insert(i,c?c.document.mutableCopy():wn.newInvalidDocument(i))}),ce.resolve(r)}getAllFromCollection(e,t,r){let i=ho();const c=new Ge(t.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:m,value:{document:C}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||fg(Dy(C),r)<=0||(i=i.insert(C.key,C.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(e,t,r,i){tt()}As(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new qN(this)}getSize(e){return ce.resolve(this.size)}}class qN extends jx{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class WN{constructor(e){this.persistence=e,this.Rs=new is(t=>Ju(t),Tf),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new oM,this.targetCount=0,this.vs=jf.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ce.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new jf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Dn(t),ce.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let i=0;const c=[];return this.Rs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),ce.waitFor(c).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,c=[];return i&&t.forEach(d=>{c.push(i.markPotentiallyOrphaned(e,d))}),ce.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.Ps.containsKey(t))}}class Wx{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new lo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new WN(this),this.indexManager=new b,this.remoteDocumentCache=new zN(r=>this.referenceDelegate.xs(r)),this.yt=new vE(t),this.Ns=new HN(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $N,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new GN(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const i=new ZN(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(c=>this.referenceDelegate.Os(i).next(()=>c)).toPromise().then(c=>(i.raiseOnCommittedEvent(),c))}Ms(e,t){return ce.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class ZN extends Ty{constructor(e){super(),this.currentSequenceNumber=e}}class wE{constructor(e){this.persistence=e,this.Fs=new oM,this.$s=null}static Bs(e){return new wE(e)}get Ls(){if(this.$s)return this.$s;throw tt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(c=>this.Ls.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ls,r=>{const i=Ge.fromPath(r);return this.qs(e,i).next(c=>{c||t.removeEntry(i,gt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ce.or([()=>ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class KN{constructor(e){this.yt=e}$(e,t,r,i){const c=new pg("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",av,{unique:!0}),m.createObjectStore("documentMutations"),Zx(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ce.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Zx(e)),d=d.next(()=>function(m){const C=m.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gt.min().toTimestamp(),targetCount:0};return C.put("targetGlobalKey",I)}(c))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(m,C){return C.store("mutations").W().next(I=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",av,{unique:!0});const S=C.store("mutations"),R=I.map($=>S.put($));return ce.waitFor(R)})}(e,c))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Us(c))),r<6&&i>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(c)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(c))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,c))),r<9&&i>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(c))),r<11&&i>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(m){const C=m.createObjectStore("documentOverlays",{keyPath:gE});C.createIndex("collectionPathOverlayIndex",cv,{unique:!1}),C.createIndex("collectionGroupOverlayIndex",uv,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(m){const C=m.createObjectStore("remoteDocumentsV14",{keyPath:Mx});C.createIndex("documentKeyIndex",Tx),C.createIndex("collectionGroupIndex",Ax)}(e)).next(()=>this.Ws(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,c))),r<15&&i>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:YD}).createIndex("sequenceNumberIndex",QD,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:pE}).createIndex("documentKeyIndex",ol,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=xe(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ce.forEach(i,c=>{const d=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(m=>ce.forEach(m,C=>{at(C.userId===c.userId);const I=al(this.yt,C);return bt(e,c.userId,I).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const c=[];return r.Z((d,m)=>{const C=new Jt(d),I=[0,Ai(C)];c.push(t.get(I).next(S=>S?ce.resolve():t.put({targetId:0,path:Ai(C),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ce.waitFor(c))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:kg});const r=t.store("collectionParents"),i=new E,c=d=>{if(i.add(d)){const m=d.lastSegment(),C=d.popLast();return r.put({collectionId:m,parent:Ai(C)})}};return t.store("remoteDocuments").Z({X:!0},(d,m)=>{const C=new Jt(d);return c(C.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,m,C],I)=>{const S=Ua(m);return c(S.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const c=Bd(i),d=Vg(this.yt,c);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((c,d)=>{const m=t.store("remoteDocumentsV14"),C=(I=d,I.document?new Ge(Jt.fromString(I.document.name).popFirst(5)):I.noDocument?Ge.fromSegments(I.noDocument.path):I.unknownDocument?Ge.fromSegments(I.unknownDocument.path):tt()).path.toArray();var I;const S={prefixPath:C.slice(0,C.length-2),collectionGroup:C[C.length-2],documentId:C[C.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(m.put(S))}).next(()=>ce.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=Hx(this.yt),c=new Wx(wE.Bs,this.yt.ie);return r.W().next(d=>{const m=new Map;return d.forEach(C=>{var I;let S=null!==(I=m.get(C.userId))&&void 0!==I?I:jt();al(this.yt,C).keys().forEach(R=>S=S.add(R)),m.set(C.userId,S)}),ce.forEach(m,(C,I)=>{const S=new kr(I),R=jg.re(this.yt,S),$=c.getIndexManager(S),ee=Tt.re(S,this.yt,$,c.referenceDelegate);return new qx(i,ee,R,$).recalculateAndSaveOverlaysForDocumentKeys(new _E(t,lo.at),C).next()})})}}function Zx(n){n.createObjectStore("targetDocuments",{keyPath:xx}).createIndex("documentTargetsIndex",KD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sx,{unique:!0}),n.createObjectStore("targetGlobal")}const sM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class aM{constructor(e,t,r,i,c,d,m,C,I,S,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=c,this.window=d,this.document=m,this.Js=I,this.Ys=S,this.Xs=R,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=$=>Promise.resolve(),!aM.C())throw new Ae(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new VN(this,i),this.ii=t+"main",this.yt=new vE(C),this.ri=new rs(this.ii,this.Xs,new KN(this.yt)),this.Cs=new NN(this.referenceDelegate,this.yt),this.remoteDocumentCache=Hx(this.yt),this.Ns=new XD,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===S&&ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(le.FAILED_PRECONDITION,sM);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new lo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,fe.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,fe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,fe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>IE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Na(e))return Re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return pv(e).get("owner").next(t=>ce.resolve(this.mi(t)))}gi(e){return IE(e).delete(this.clientId)}yi(){var e=this;return(0,fe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Zr(r,"clientMetadata");return i.W().next(c=>{const d=e.Ii(c,18e5),m=c.filter(C=>-1===d.indexOf(C));return ce.forEach(m,C=>i.delete(C.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ce.resolve(!0):pv(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ae(le.FAILED_PRECONDITION,sM);return!1}}return!(!this.networkEnabled||!this.inForeground)||IE(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,fe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new _E(t,lo.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>IE(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Tt.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new O(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return jg.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Re("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",c=15===(d=this.Xs)?Ox:14===d?Ff:13===d?Fg:12===d?lv:11===d?mE:void tt();var d;let m;return this.ri.runTransaction(e,i,c,C=>(m=new _E(C,this.Ss?this.Ss.next():lo.at),"readwrite-primary"===t?this.fi(m).next(I=>!!I||this.di(m)).next(I=>{if(!I)throw ir(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ae(le.FAILED_PRECONDITION,My);return r(m)}).next(I=>this.wi(m).next(()=>I)):this.Vi(m).next(()=>r(m)))).then(C=>(m.raiseOnCommittedEvent(),C))}Vi(e){return pv(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(le.FAILED_PRECONDITION,sM)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pv(e).put("owner",t)}static C(){return rs.C()}_i(e){const t=pv(e);return t.get("owner").next(r=>this.mi(r)?(Re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ir(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,on.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ir("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ir("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pv(n){return Zr(n,"owner")}function IE(n){return Zr(n,"clientMetadata")}function cM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class uM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=jt(),i=jt();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new uM(e,t.fromCache,r,i)}}class Kx{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(c=>c||this.Oi(e,t,i,r)).next(c=>c||this.Mi(e,t))}ki(e,t){if(By(t))return ce.resolve(null);let r=ui(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Hy(t,null,"F"),r=ui(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=jt(...c);return this.Ni.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(C=>{const I=this.Fi(t,m);return this.$i(t,I,d,C.readTime)?this.ki(e,Hy(t,null,"F")):this.Bi(e,I,t,C)}))})))}Oi(e,t,r,i){return By(t)||i.isEqual(gt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(c=>{const d=this.Fi(t,c);return this.$i(t,d,r,i)?this.Mi(e,t):(hg()<=Ls.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$y(t)),this.Bi(e,d,t,bb(i,-1)))})}Fi(e,t){let r=new En(zy(e));return t.forEach((i,c)=>{Gy(e,c)&&(r=r.add(c))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Mi(e,t){return hg()<=Ls.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",$y(t)),this.Ni.getDocumentsMatchingQuery(e,t,Mi.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}class YN{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new bn(xt),this.Ui=new is(c=>Ju(c),Tf),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Yx(n,e,t,r){return new YN(n,e,t,r)}function Qx(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,fe.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(c=>(i=c,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],m=[];let C=jt();for(const I of i){d.push(I.batchId);for(const S of I.mutations)C=C.add(S.key)}for(const I of c){m.push(I.batchId);for(const S of I.mutations)C=C.add(S.key)}return t.localDocuments.getDocuments(r,C).next(I=>({ji:I,removedBatchIds:d,addedBatchIds:m}))})})}),lM.apply(this,arguments)}function QN(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),c=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,m,C,I){const S=C.batch,R=S.keys();let $=ce.resolve();return R.forEach(ee=>{$=$.next(()=>I.getEntry(m,ee)).next(ue=>{const Oe=C.docVersions.get(ee);at(null!==Oe),ue.version.compareTo(Oe)<0&&(S.applyToRemoteDocument(ue,C),ue.isValidDocument()&&(ue.setReadTime(C.commitVersion),I.addEntry(ue)))})}),$.next(()=>d.mutationQueue.removeMutationBatch(m,S))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=jt();for(let C=0;C<d.mutationResults.length;++C)d.mutationResults[C].transformResults.length>0&&(m=m.add(d.batch.mutations[C].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Jx(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function JN(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const m=[];e.targetChanges.forEach((S,R)=>{const $=i.get(R);if(!$)return;m.push(t.Cs.removeMatchingKeys(c,S.removedDocuments,R).next(()=>t.Cs.addMatchingKeys(c,S.addedDocuments,R)));let ee=$.withSequenceNumber(c.currentSequenceNumber);var ue,Oe,Be;e.targetMismatches.has(R)?ee=ee.withResumeToken(hr.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):S.resumeToken.approximateByteSize()>0&&(ee=ee.withResumeToken(S.resumeToken,r)),i=i.insert(R,ee),Oe=ee,Be=S,(0===(ue=$).resumeToken.approximateByteSize()||Oe.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||Be.addedDocuments.size+Be.modifiedDocuments.size+Be.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(c,ee))});let C=ho(),I=jt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,S))}),m.push(Xx(c,d,e.documentUpdates).next(S=>{C=S.Wi,I=S.zi})),!r.isEqual(gt.min())){const S=t.Cs.getLastRemoteSnapshotVersion(c).next(R=>t.Cs.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(S)}return ce.waitFor(m).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,C,I)).next(()=>C)}).then(c=>(t.qi=i,c))}function Xx(n,e,t){let r=jt(),i=jt();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let d=ho();return t.forEach((m,C)=>{const I=c.get(m);C.isFoundDocument()!==I.isFoundDocument()&&(i=i.add(m)),C.isNoDocument()&&C.version.isEqual(gt.min())?(e.removeEntry(m,C.readTime),d=d.insert(m,C)):!I.isValidDocument()||C.version.compareTo(I.version)>0||0===C.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(C),d=d.insert(m,C)):Re("LocalStore","Ignoring outdated watch update for ",m,". Current version:",I.version," Watch version:",C.version)}),{Wi:d,zi:i}})}function XN(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $g(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(c=>c?(i=c,ce.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new $c(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Gg(n,e,t){return dM.apply(this,arguments)}function dM(){return dM=(0,fe.Z)(function*(n,e,t){const r=Ze(n),i=r.qi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Na(d))throw d;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),dM.apply(this,arguments)}function DE(n,e,t){const r=Ze(n);let i=gt.min(),c=jt();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,C,I){const S=Ze(m),R=S.Ui.get(I);return void 0!==R?ce.resolve(S.qi.get(R)):S.Cs.getTargetData(C,I)}(r,d,ui(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,m.targetId).next(C=>{c=C})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:gt.min(),t?c:jt())).next(m=>(nO(r,Bb(e),m),{documents:m,Hi:c})))}function eO(n,e){const t=Ze(n),r=Ze(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",c=>r.ne(c,e).next(d=>d?d.target:null))}function tO(n,e){const t=Ze(n),r=t.Ki.get(e)||gt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,bb(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(nO(t,e,i),i))}function nO(n,e,t){let r=n.Ki.get(e)||gt.min();t.forEach((i,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Ki.set(e,r)}function hM(){return hM=(0,fe.Z)(function*(n,e,t,r){const i=Ze(n);let c=jt(),d=ho();for(const I of t){const S=e.Ji(I.metadata.name);I.document&&(c=c.add(S));const R=e.Yi(I);R.setReadTime(e.Xi(I.metadata.readTime)),d=d.insert(S,R)}const m=i.Gi.newChangeBuffer({trackRemovals:!0}),C=yield $g(i,(I=r,ui(Af(Jt.fromString(`__bundle__/docs/${I}`)))));var I;return i.persistence.runTransaction("Apply bundle documents","readwrite",I=>Xx(I,m,d).next(S=>(m.apply(I),S)).next(S=>i.Cs.removeMatchingKeysForTargetId(I,C.targetId).next(()=>i.Cs.addMatchingKeys(I,c,C.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(I,S.Wi,S.zi)).next(()=>S.Wi)))}),hM.apply(this,arguments)}function tk(n,e){return fM.apply(this,arguments)}function fM(){return fM=(0,fe.Z)(function*(n,e,t=jt()){const r=yield $g(n,ui(CE(e.bundledQuery))),i=Ze(n);return i.persistence.runTransaction("Save named query","readwrite",c=>{const d=Yn(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(c,e);const m=r.withResumeToken(hr.EMPTY_BYTE_STRING,d);return i.qi=i.qi.insert(m.targetId,m),i.Cs.updateTargetData(c,m).next(()=>i.Cs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>i.Cs.addMatchingKeys(c,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(c,e))})}),fM.apply(this,arguments)}function rO(n,e){return`firestore_clients_${n}_${e}`}function iO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function pM(n,e){return`firestore_targets_${n}_${e}`}class ME{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let c,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(c=new Ae(i.error.code,i.error.message))),d?new ME(e,t,i.state,c):(ir("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(i=new Ae(r.error.code,r.error.message))),c?new gv(e,r.state,i):(ir("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class TE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,c=Gi();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=Db(r.activeTargetIds[d]),c=c.add(r.activeTargetIds[d]);return i?new TE(e,c):(ir("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gM{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gM(t.clientId,t.onlineState):(ir("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mM{constructor(){this.activeTargetIds=Gi()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _M{constructor(e,t,r,i,c){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new bn(xt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ar=rO(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new mM),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,fe.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const c=e.getItem(rO(e.persistenceKey,i));if(c){const d=TE.Zi(i,c);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(pM(this.persistenceKey,e));if(r){const i=gv.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pM(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Re("SharedClientState","READ",e,t),t}setItem(e,t){Re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,fe.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(c){let d=lo.at;if(null!=c)try{const m=JSON.parse(c);at("number"==typeof m),d=m}catch(m){ir("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);i!==lo.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(c=>t.syncEngine.Mr(c)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new ME(this.currentUser,e,t,r),c=iO(this.persistenceKey,this.currentUser,e);this.setItem(c,i.tr())}Er(e){const t=iO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=pM(this.persistenceKey,e),c=new gv(e,t,r);this.setItem(i,c.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return TE.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return ME.Zi(new kr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return gv.Zi(i,t)}yr(e){return gM.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,fe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),c=this.Ir(r),d=[],m=[];return c.forEach(C=>{i.has(C)||d.push(C)}),i.forEach(C=>{c.has(C)||m.push(C)}),this.syncEngine.Br(d,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Gi();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class oO{constructor(){this.Lr=new mM,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new mM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nk{Ur(e){}shutdown(){}}class sO{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ik{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ok extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,c){const d=this.ho(e,t);Re("RestConnection","Sending: ",d,r);const m={};return this.lo(m,i,c),this.fo(e,d,m,r).then(C=>(Re("RestConnection","Received: ",C),C),C=>{throw zu("RestConnection",`${e} failed with error: `,C,"url: ",d,"request:",r),C})}_o(e,t,r,i,c,d){return this.ao(e,t,r,i,c)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,c)=>e[c]=i),r&&r.headers.forEach((i,c)=>e[c]=i)}ho(e,t){return`${this.oo}/v1/${t}:${rk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((c,d)=>{const m=new fD;m.setWithCredentials(!0),m.listenOnce(mf.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Cy.NO_ERROR:const I=m.getResponseJson();Re("Connection","XHR received:",JSON.stringify(I)),c(I);break;case Cy.TIMEOUT:Re("Connection",'RPC "'+e+'" timed out'),d(new Ae(le.DEADLINE_EXCEEDED,"Request time out"));break;case Cy.HTTP_ERROR:const S=m.getStatus();if(Re("Connection",'RPC "'+e+'" failed with status:',S,"response text:",m.getResponseText()),S>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const $=R?.error;if($&&$.status&&$.message){const ee=function(ue){const Oe=ue.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(Oe)>=0?Oe:le.UNKNOWN}($.status);d(new Ae(ee,$.message))}else d(new Ae(le.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ae(le.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Re("Connection",'RPC "'+e+'" completed.')}});const C=JSON.stringify(i);m.send(t,"POST",C,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=hb(),d=lD(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new hD({})),this.lo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const C=i.join("");Re("Connection","Creating WebChannel: "+C,m);const I=c.createWebChannel(C,m);let S=!1,R=!1;const $=new ik({Hr:ue=>{R?Re("Connection","Not sending because WebChannel is closed:",ue):(S||(Re("Connection","Opening WebChannel transport."),I.open(),S=!0),Re("Connection","WebChannel sending:",ue),I.send(ue))},Jr:()=>I.close()}),ee=(ue,Oe,Be)=>{ue.listen(Oe,Pt=>{try{Be(Pt)}catch(Ht){setTimeout(()=>{throw Ht},0)}})};return ee(I,_f.EventType.OPEN,()=>{R||Re("Connection","WebChannel transport opened.")}),ee(I,_f.EventType.CLOSE,()=>{R||(R=!0,Re("Connection","WebChannel transport closed"),$.io())}),ee(I,_f.EventType.ERROR,ue=>{R||(R=!0,zu("Connection","WebChannel transport errored:",ue),$.io(new Ae(le.UNAVAILABLE,"The operation could not be completed")))}),ee(I,_f.EventType.MESSAGE,ue=>{var Oe;if(!R){const Be=ue.data[0];at(!!Be);const Pt=Be,Ht=Pt.error||(null===(Oe=Pt[0])||void 0===Oe?void 0:Oe.error);if(Ht){Re("Connection","WebChannel received error:",Ht);const Lt=Ht.status;let Vt=function(zt){const Kr=wr[zt];if(void 0!==Kr)return Zb(Kr)}(Lt),Ut=Ht.message;void 0===Vt&&(Vt=le.INTERNAL,Ut="Unknown error status: "+Lt+" with message "+Ht.message),R=!0,$.io(new Ae(Vt,Ut)),I.close()}else Re("Connection","WebChannel received:",Be),$.ro(Be)}}),ee(d,dD.STAT_EVENT,ue=>{ue.stat===by.PROXY?Re("Connection","Detected buffering proxy"):ue.stat===by.NOPROXY&&Re("Connection","Detected no buffering proxy")}),setTimeout(()=>{$.so()},0),$}}function aO(){return typeof window<"u"?window:null}function AE(){return typeof document<"u"?document:null}function mv(n){return new jD(n,!0)}class yM{constructor(e,t,r=1e3,i=1.5,c=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class cO{constructor(e,t,r,i,c,d,m,C){this.Hs=e,this.vo=r,this.Vo=i,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=C,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new yM(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,fe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,fe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,fe.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(ir(t.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Ae(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,fe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sk extends cO{constructor(e,t,r,i,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.yt=c}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function zD(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(C=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:tt(),i=e.targetChange.targetIds||[],c=function(C,I){return C.wt?(at(void 0===I||"string"==typeof I),hr.fromBase64String(I||"")):(at(void 0===I||I instanceof Uint8Array),hr.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(C){const I=void 0===C.code?le.UNKNOWN:Zb(C.code);return new Ae(I,C.message||"")}(d);t=new fo(r,i,c,m||null)}else if("documentChange"in e){const r=e.documentChange,i=os(n,r.document.name),c=Yn(r.document.updateTime),d=r.document.createTime?Yn(r.document.createTime):gt.min(),m=new or({mapValue:{fields:r.document.fields}}),C=wn.newFoundDocument(i,c,d,m);t=new Og(r.targetIds||[],r.removedTargetIds||[],C.key,C)}else if("documentDelete"in e){const r=e.documentDelete,i=os(n,r.document),c=r.readTime?Yn(r.readTime):gt.min(),d=wn.newNoDocument(i,c);t=new Og([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=os(n,r.document);t=new Og([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return tt();{const r=e.filter,c=new qb(r.count||0);t=new BD(r.targetId,c)}}var C;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return gt.min();const c=i.targetChange;return c.targetIds&&c.targetIds.length?gt.min():c.readTime?Yn(c.readTime):gt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Nf(this.yt),t.addTarget=function(i,c){let d;const m=c.target;return d=Ig(m)?{documents:aE(i,m)}:{query:Rg(i,m)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?d.resumeToken=rv(i,c.resumeToken):c.snapshotVersion.compareTo(gt.min())>0&&(d.readTime=rl(i,c.snapshotVersion.toTimestamp())),d}(this.yt,e);const r=function ov(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Nf(this.yt),t.removeTarget=e,this.Bo(t)}}class ak extends cO{constructor(e,t,r,i,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.yt=c,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function sE(n,e){return n&&n.length>0?(at(void 0!==e),n.map(t=>function(r,i){let c=Yn(r.updateTime?r.updateTime:i);return c.isEqual(gt.min())&&(c=Yn(i)),new bx(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Yn(e.commitTime);return this.listener.Zo(r,t)}return at(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Nf(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ud(this.yt,r))};this.Bo(t)}}class ck extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Ae(le.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,c])=>this.connection.ao(e,t,r,i,c)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(le.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection._o(e,t,r,c,d,i)).catch(c=>{throw"FirebaseError"===c.name?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(le.UNKNOWN,c.toString())})}terminate(){this.nu=!0}}class lk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ir(t),this.ou=!1):Re("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class dk{constructor(e,t,r,i,c){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=c,this.mu.Ur(m=>{r.enqueueAndForget((0,fe.Z)(function*(){var C;ll(d)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,fe.Z)(function*(I){const S=Ze(I);S._u.add(4),yield zg(S),S.gu.set("Unknown"),S._u.delete(4),yield _v(S)}),function(I){return C.apply(this,arguments)})(d))}))}),this.gu=new lk(r,i)}}function _v(n){return CM.apply(this,arguments)}function CM(){return CM=(0,fe.Z)(function*(n){if(ll(n))for(const e of n.wu)yield e(!0)}),CM.apply(this,arguments)}function zg(n){return bM.apply(this,arguments)}function bM(){return bM=(0,fe.Z)(function*(n){for(const e of n.wu)yield e(!1)}),bM.apply(this,arguments)}function SE(n,e){const t=Ze(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),IM(t)?wM(t):Wg(t).ko()&&EM(t,e))}function yv(n,e){const t=Ze(n),r=Wg(t);t.du.delete(e),r.ko()&&uO(t,e),0===t.du.size&&(r.ko()?r.Fo():ll(t)&&t.gu.set("Unknown"))}function EM(n,e){n.yu.Ot(e.targetId),Wg(n).zo(e)}function uO(n,e){n.yu.Ot(e),Wg(n).Ho(e)}function wM(n){n.yu=new tv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Wg(n).start(),n.gu.uu()}function IM(n){return ll(n)&&!Wg(n).No()&&n.du.size>0}function ll(n){return 0===Ze(n)._u.size}function lO(n){n.yu=void 0}function hk(n){return DM.apply(this,arguments)}function DM(){return DM=(0,fe.Z)(function*(n){n.du.forEach((e,t)=>{EM(n,e)})}),DM.apply(this,arguments)}function fk(n,e){return MM.apply(this,arguments)}function MM(){return MM=(0,fe.Z)(function*(n,e){lO(n),IM(n)?(n.gu.hu(e),wM(n)):n.gu.set("Unknown")}),MM.apply(this,arguments)}function pk(n,e,t){return TM.apply(this,arguments)}function TM(){return TM=(0,fe.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof fo&&2===e.state&&e.cause)try{yield(r=(0,fe.Z)(function*(i,c){const d=c.cause;for(const m of c.targetIds)i.du.has(m)&&(yield i.remoteSyncer.rejectListen(m,d),i.du.delete(m),i.yu.removeTarget(m))}),function(i,c){return r.apply(this,arguments)})(n,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xE(n,r)}else if(e instanceof Og?n.yu.Kt(e):e instanceof BD?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(gt.min()))try{const r=yield Jx(n.localStore);t.compareTo(r)>=0&&(yield function(i,c){const d=i.yu.Zt(c);return d.targetChanges.forEach((m,C)=>{if(m.resumeToken.approximateByteSize()>0){const I=i.du.get(C);I&&i.du.set(C,I.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach(m=>{const C=i.du.get(m);if(!C)return;i.du.set(m,C.withResumeToken(hr.EMPTY_BYTE_STRING,C.snapshotVersion)),uO(i,m);const I=new $c(C.target,m,1,C.sequenceNumber);EM(i,I)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),yield xE(n,r)}var r}),TM.apply(this,arguments)}function xE(n,e,t){return AM.apply(this,arguments)}function AM(){return AM=(0,fe.Z)(function*(n,e,t){if(!Na(e))throw e;n._u.add(1),yield zg(n),n.gu.set("Offline"),t||(t=()=>Jx(n.localStore)),n.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield _v(n)}))}),AM.apply(this,arguments)}function dO(n,e){return e().catch(t=>xE(n,t,e))}function qg(n){return SM.apply(this,arguments)}function SM(){return SM=(0,fe.Z)(function*(n){const e=Ze(n),t=$d(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;gk(e);)try{const i=yield XN(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,mk(e,i)}catch(i){yield xE(e,i)}hO(e)&&fO(e)}),SM.apply(this,arguments)}function gk(n){return ll(n)&&n.fu.length<10}function mk(n,e){n.fu.push(e);const t=$d(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function hO(n){return ll(n)&&!$d(n).No()&&n.fu.length>0}function fO(n){$d(n).start()}function _k(n){return xM.apply(this,arguments)}function xM(){return xM=(0,fe.Z)(function*(n){$d(n).eu()}),xM.apply(this,arguments)}function yk(n){return OM.apply(this,arguments)}function OM(){return OM=(0,fe.Z)(function*(n){const e=$d(n);for(const t of n.fu)e.Xo(t.mutations)}),OM.apply(this,arguments)}function vk(n,e,t){return PM.apply(this,arguments)}function PM(){return PM=(0,fe.Z)(function*(n,e,t){const r=n.fu.shift(),i=Lg.from(r,e,t);yield dO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield qg(n)}),PM.apply(this,arguments)}function Ck(n,e){return RM.apply(this,arguments)}function RM(){return RM=(0,fe.Z)(function*(n,e){var t;e&&$d(n).Yo&&(yield(t=(0,fe.Z)(function*(r,i){if(Wb(c=i.code)&&c!==le.ABORTED){const d=r.fu.shift();$d(r).Mo(),yield dO(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield qg(r)}var c}),function(r,i){return t.apply(this,arguments)})(n,e)),hO(n)&&fO(n)}),RM.apply(this,arguments)}function pO(n,e){return NM.apply(this,arguments)}function NM(){return NM=(0,fe.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=ll(t);t._u.add(3),yield zg(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield _v(t)}),NM.apply(this,arguments)}function kM(n,e){return FM.apply(this,arguments)}function FM(){return FM=(0,fe.Z)(function*(n,e){const t=Ze(n);e?(t._u.delete(2),yield _v(t)):e||(t._u.add(2),yield zg(t),t.gu.set("Unknown"))}),FM.apply(this,arguments)}function Wg(n){return n.pu||(n.pu=function(e,t,r){const i=Ze(e);return i.su(),new sk(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:hk.bind(null,n),Zr:fk.bind(null,n),Wo:pk.bind(null,n)}),n.wu.push(function(){var e=(0,fe.Z)(function*(t){t?(n.pu.Mo(),IM(n)?wM(n):n.gu.set("Unknown")):(yield n.pu.stop(),lO(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function $d(n){return n.Iu||(n.Iu=function(e,t,r){const i=Ze(e);return i.su(),new ak(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:_k.bind(null,n),Zr:Ck.bind(null,n),tu:yk.bind(null,n),Zo:vk.bind(null,n)}),n.wu.push(function(){var e=(0,fe.Z)(function*(t){t?(n.Iu.Mo(),yield qg(n)):(yield n.Iu.stop(),n.fu.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class LM{constructor(e,t,r,i,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=c,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,c){const d=Date.now()+r,m=new LM(e,t,d,i,c);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(n,e){if(ir("AsyncQueue",`${e}: ${n}`),Na(n))return new Ae(le.UNAVAILABLE,`${e}: ${n}`);throw n}class Kg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=Sg(),this.sortedSet=new bn(this.comparator)}static emptySet(e){return new Kg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Kg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class gO{constructor(){this.Tu=new bn(Ge.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):tt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Yg{constructor(e,t,r,i,c,d,m,C,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=C,this.hasCachedResults=I}static fromInitialDocuments(e,t,r,i,c){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Yg(e,t,Kg.emptySet(t),d,r,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class bk{constructor(){this.Au=void 0,this.listeners=[]}}class Ek{constructor(){this.queries=new is(e=>PD(e),Of),this.onlineState="Unknown",this.Ru=new Set}}function VM(n,e){return UM.apply(this,arguments)}function UM(){return UM=(0,fe.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1,c=t.queries.get(r);if(c||(i=!0,c=new bk),i)try{c.Au=yield t.onListen(r)}catch(d){const m=Zg(d,`Initialization of query '${$y(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,c),c.listeners.push(e),e.bu(t.onlineState),c.Au&&e.Pu(c.Au)&&HM(t)}),UM.apply(this,arguments)}function BM(n,e){return jM.apply(this,arguments)}function jM(){return jM=(0,fe.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1;const c=t.queries.get(r);if(c){const d=c.listeners.indexOf(e);d>=0&&(c.listeners.splice(d,1),i=0===c.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),jM.apply(this,arguments)}function wk(n,e){const t=Ze(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const m of d.listeners)m.Pu(i)&&(r=!0);d.Au=i}}r&&HM(t)}function Ik(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const c of i.listeners)c.onError(t);r.queries.delete(e)}function HM(n){n.Ru.forEach(e=>{e.next()})}class $M{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Yg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Yg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Dk{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class mO{constructor(e){this.yt=e}Ji(e){return os(this.yt,e)}Yi(e){return e.metadata.exists?iE(this.yt,e.document,!1):wn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Yn(e)}}class Mk{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_O(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=Jt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new mO(this.yt);for(const i of e)if(i.metadata.queries){const c=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const m=(t.get(d)||jt()).add(c);t.set(d,m)}}return t}complete(){var e=this;return(0,fe.Z)(function*(){const t=yield function ek(n,e,t,r){return hM.apply(this,arguments)}(e.localStore,new mO(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield tk(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function _O(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class yO{constructor(e){this.key=e}}class vO{constructor(e){this.key=e}}class CO{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=jt(),this.mutatedKeys=jt(),this.Gu=zy(e),this.Qu=new Kg(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new gO,i=t?t.Qu:this.Qu;let c=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const C="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,I="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,R)=>{const $=i.get(S),ee=Gy(this.query,R)?R:null,ue=!!$&&this.mutatedKeys.has($.key),Oe=!!ee&&(ee.hasLocalMutations||this.mutatedKeys.has(ee.key)&&ee.hasCommittedMutations);let Be=!1;$&&ee?$.data.isEqual(ee.data)?ue!==Oe&&(r.track({type:3,doc:ee}),Be=!0):this.Hu($,ee)||(r.track({type:2,doc:ee}),Be=!0,(C&&this.Gu(ee,C)>0||I&&this.Gu(ee,I)<0)&&(m=!0)):!$&&ee?(r.track({type:0,doc:ee}),Be=!0):$&&!ee&&(r.track({type:1,doc:$}),Be=!0,(C||I)&&(m=!0)),Be&&(ee?(d=d.add(ee),c=Oe?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{Qu:d,zu:r,$i:m,mutatedKeys:c}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Eu();c.sort((I,S)=>function(R,$){const ee=ue=>{switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return ee(R)-ee($)}(I.type,S.type)||this.Gu(I.doc,S.doc)),this.Ju(r);const d=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,C=m!==this.Uu;return this.Uu=m,0!==c.length||C?{snapshot:new Yg(this.query,e.Qu,i,c,e.mutatedKeys,0===m,C,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new gO,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=jt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new vO(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new yO(r))}),t}tc(e){this.qu=e.Hi,this.Ku=jt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Yg.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Tk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ak{constructor(e){this.key=e,this.nc=!1}}class Sk{constructor(e,t,r,i,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new is(m=>PD(m),Of),this.rc=new Map,this.oc=new Set,this.uc=new bn(Ge.comparator),this.cc=new Map,this.ac=new oM,this.hc={},this.lc=new Map,this.fc=jf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function xk(n,e){return GM.apply(this,arguments)}function GM(){return GM=(0,fe.Z)(function*(n,e){const t=fT(n);let r,i;const c=t.ic.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),i=c.view.ec();else{const d=yield $g(t.localStore,ui(e));t.isPrimaryClient&&SE(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield zM(t,e,r,"current"===m,d.resumeToken)}return i}),GM.apply(this,arguments)}function zM(n,e,t,r,i){return qM.apply(this,arguments)}function qM(){return qM=(0,fe.Z)(function*(n,e,t,r,i){n._c=(R,$,ee)=>{return(ue=(0,fe.Z)(function*(Oe,Be,Pt,Ht){let Lt=Be.view.Wu(Pt);Lt.$i&&(Lt=yield DE(Oe.localStore,Be.query,!1).then(({documents:zt})=>Be.view.Wu(zt,Lt)));const Vt=Ht&&Ht.targetChanges.get(Be.targetId),Ut=Be.view.applyChanges(Lt,Oe.isPrimaryClient,Vt);return nT(Oe,Be.targetId,Ut.Xu),Ut.snapshot}),function(Oe,Be,Pt,Ht){return ue.apply(this,arguments)})(n,R,$,ee);var ue};const c=yield DE(n.localStore,e,!0),d=new CO(e,c.Hi),m=d.Wu(c.documents),C=nl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),I=d.applyChanges(m,n.isPrimaryClient,C);nT(n,t,I.Xu);const S=new Tk(e,t,d);return n.ic.set(e,S),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),I.snapshot}),qM.apply(this,arguments)}function Ok(n,e){return WM.apply(this,arguments)}function WM(){return WM=(0,fe.Z)(function*(n,e){const t=Ze(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(c=>!Of(c,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Gg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),yv(t.remoteStore,r.targetId),Qg(t,r.targetId)}).catch(Ra))):(Qg(t,r.targetId),yield Gg(t.localStore,r.targetId,!0))}),WM.apply(this,arguments)}function ZM(){return ZM=(0,fe.Z)(function*(n,e,t){const r=pT(n);try{const i=yield function(c,d){const m=Ze(c),C=Sn.now(),I=d.reduce(($,ee)=>$.add(ee.key),jt());let S,R;return m.persistence.runTransaction("Locally write mutations","readwrite",$=>{let ee=ho(),ue=jt();return m.Gi.getEntries($,I).next(Oe=>{ee=Oe,ee.forEach((Be,Pt)=>{Pt.isValidDocument()||(ue=ue.add(Be))})}).next(()=>m.localDocuments.getOverlayedDocuments($,ee)).next(Oe=>{S=Oe;const Be=[];for(const Pt of d){const Ht=wx(Pt,S.get(Pt.key).overlayedDocument);null!=Ht&&Be.push(new Gs(Pt.key,Ht,Ub(Ht.value.mapValue),Hn.exists(!0)))}return m.mutationQueue.addMutationBatch($,C,Be,d)}).next(Oe=>{R=Oe;const Be=Oe.applyToLocalDocumentSet(S,ue);return m.documentOverlayCache.saveOverlays($,Oe.batchId,Be)})}).then(()=>({batchId:R.batchId,changes:Kb(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,d,m){let C=c.hc[c.currentUser.toKey()];C||(C=new bn(xt)),C=C.insert(d,m),c.hc[c.currentUser.toKey()]=C}(r,i.batchId,t),yield dl(r,i.changes),yield qg(r.remoteStore)}catch(i){const c=Zg(i,"Failed to persist write");t.reject(c)}}),ZM.apply(this,arguments)}function bO(n,e){return KM.apply(this,arguments)}function KM(){return KM=(0,fe.Z)(function*(n,e){const t=Ze(n);try{const r=yield JN(t.localStore,e);e.targetChanges.forEach((i,c)=>{const d=t.cc.get(c);d&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?at(d.nc):i.removedDocuments.size>0&&(at(d.nc),d.nc=!1))}),yield dl(t,r,e)}catch(r){yield Ra(r)}}),KM.apply(this,arguments)}function EO(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((c,d)=>{const m=d.view.bu(e);m.snapshot&&i.push(m.snapshot)}),function(c,d){const m=Ze(c);m.onlineState=d;let C=!1;m.queries.forEach((I,S)=>{for(const R of S.listeners)R.bu(d)&&(C=!0)}),C&&HM(m)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Rk(n,e,t){return YM.apply(this,arguments)}function YM(){return YM=(0,fe.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),c=i&&i.key;if(c){let d=new bn(Ge.comparator);d=d.insert(c,wn.newNoDocument(c,gt.min()));const m=jt().add(c),C=new Pf(gt.min(),new Map,new En(xt),d,m);yield bO(r,C),r.uc=r.uc.remove(c),r.cc.delete(e),rT(r)}else yield Gg(r.localStore,e,!1).then(()=>Qg(r,e,t)).catch(Ra)}),YM.apply(this,arguments)}function Nk(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,fe.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=yield QN(t.localStore,e);tT(t,r,null),eT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield dl(t,i)}catch(i){yield Ra(i)}}),QM.apply(this,arguments)}function kk(n,e,t){return JM.apply(this,arguments)}function JM(){return JM=(0,fe.Z)(function*(n,e,t){const r=Ze(n);try{const i=yield function(c,d){const m=Ze(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let I;return m.mutationQueue.lookupMutationBatch(C,d).next(S=>(at(null!==S),I=S.keys(),m.mutationQueue.removeMutationBatch(C,S))).next(()=>m.mutationQueue.performConsistencyCheck(C)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(C,I,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(C,I)).next(()=>m.localDocuments.getDocuments(C,I))})}(r.localStore,e);tT(r,e,t),eT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield dl(r,i)}catch(i){yield Ra(i)}}),JM.apply(this,arguments)}function XM(){return XM=(0,fe.Z)(function*(n,e){const t=Ze(n);ll(t.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const d=Ze(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Zg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),XM.apply(this,arguments)}function eT(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function tT(n,e,t){const r=Ze(n);let i=r.hc[r.currentUser.toKey()];if(i){const c=i.get(e);c&&(t?c.reject(t):c.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Qg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||wO(n,r)})}function wO(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(yv(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),rT(n))}function nT(n,e,t){for(const r of t)r instanceof yO?(n.ac.addReference(r.key,e),Lk(n,r)):r instanceof vO?(Re("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||wO(n,r.key)):tt()}function Lk(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Re("SyncEngine","New document in limbo: "+t),n.oc.add(r),rT(n))}function rT(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ge(Jt.fromString(e)),r=n.fc.next();n.cc.set(r,new Ak(t)),n.uc=n.uc.insert(t,r),SE(n.remoteStore,new $c(ui(Af(t.path)),r,2,lo.at))}}function dl(n,e,t){return iT.apply(this,arguments)}function iT(){return iT=(0,fe.Z)(function*(n,e,t){const r=Ze(n),i=[],c=[],d=[];var m;r.ic.isEmpty()||(r.ic.forEach((m,C)=>{d.push(r._c(C,e,t).then(I=>{if((I||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(C.targetId,I?.fromCache?"not-current":"current"),I){i.push(I);const S=uM.Ci(C.targetId,I);c.push(S)}}))}),yield Promise.all(d),r.sc.Wo(i),yield(m=(0,fe.Z)(function*(C,I){const S=Ze(C);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ce.forEach(I,$=>ce.forEach($.Si,ee=>S.persistence.referenceDelegate.addReference(R,$.targetId,ee)).next(()=>ce.forEach($.Di,ee=>S.persistence.referenceDelegate.removeReference(R,$.targetId,ee)))))}catch(R){if(!Na(R))throw R;Re("LocalStore","Failed to update sequence numbers: "+R)}for(const R of I){const $=R.targetId;if(!R.fromCache){const ee=S.qi.get($),Oe=ee.withLastLimboFreeSnapshotVersion(ee.snapshotVersion);S.qi=S.qi.insert($,Oe)}}}),function(C,I){return m.apply(this,arguments)})(r.localStore,c))}),iT.apply(this,arguments)}function Vk(n,e){return oT.apply(this,arguments)}function oT(){return oT=(0,fe.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=yield Qx(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(m=>{m.reject(new Ae(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield dl(t,r.ji)}var i}),oT.apply(this,arguments)}function Uk(n,e){const t=Ze(n),r=t.cc.get(e);if(r&&r.nc)return jt().add(r.key);{let i=jt();const c=t.rc.get(e);if(!c)return i;for(const d of c){const m=t.ic.get(d);i=i.unionWith(m.view.ju)}return i}}function Bk(n,e){return sT.apply(this,arguments)}function sT(){return sT=(0,fe.Z)(function*(n,e){const t=Ze(n),r=yield DE(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&nT(t,e.targetId,i.Xu),i}),sT.apply(this,arguments)}function jk(n,e){return aT.apply(this,arguments)}function aT(){return aT=(0,fe.Z)(function*(n,e){const t=Ze(n);return tO(t.localStore,e).then(r=>dl(t,r))}),aT.apply(this,arguments)}function Hk(n,e,t,r){return cT.apply(this,arguments)}function cT(){return cT=(0,fe.Z)(function*(n,e,t,r){const i=Ze(n),c=yield function(d,m){const C=Ze(d),I=Ze(C.mutationQueue);return C.persistence.runTransaction("Lookup mutation documents","readonly",S=>I.Tn(S,m).next(R=>R?C.localDocuments.getDocuments(S,R):ce.resolve(null)))}(i.localStore,e);var m;null!==c?("pending"===t?yield qg(i.remoteStore):"acknowledged"===t||"rejected"===t?(tT(i,e,r||null),eT(i,e),m=e,Ze(Ze(i.localStore).mutationQueue).An(m)):tt(),yield dl(i,c)):Re("SyncEngine","Cannot apply mutation batch with id: "+e)}),cT.apply(this,arguments)}function uT(){return uT=(0,fe.Z)(function*(n,e){const t=Ze(n);if(fT(t),pT(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield IO(t,r.toArray());t.dc=!0,yield kM(t.remoteStore,!0);for(const c of i)SE(t.remoteStore,c)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((c,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Qg(t,d),Gg(t.localStore,d,!0))),yv(t.remoteStore,d)}),yield i,yield IO(t,r),function(c){const d=Ze(c);d.cc.forEach((m,C)=>{yv(d.remoteStore,C)}),d.ac.fs(),d.cc=new Map,d.uc=new bn(Ge.comparator)}(t),t.dc=!1,yield kM(t.remoteStore,!1)}}),uT.apply(this,arguments)}function IO(n,e,t){return lT.apply(this,arguments)}function lT(){return lT=(0,fe.Z)(function*(n,e,t){const r=Ze(n),i=[],c=[];for(const d of e){let m;const C=r.rc.get(d);if(C&&0!==C.length){m=yield $g(r.localStore,ui(C[0]));for(const I of C){const S=r.ic.get(I),R=yield Bk(r,S);R.snapshot&&c.push(R.snapshot)}}else{const I=yield eO(r.localStore,d);m=yield $g(r.localStore,I),yield zM(r,DO(I),d,!1,m.resumeToken)}i.push(m)}return r.sc.Wo(c),i}),lT.apply(this,arguments)}function DO(n){return Dg(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Gk(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).vi()}function zk(n,e,t,r){return dT.apply(this,arguments)}function dT(){return dT=(0,fe.Z)(function*(n,e,t,r){const i=Ze(n);if(i.dc)return void Re("SyncEngine","Ignoring unexpected query state notification.");const c=i.rc.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const d=yield tO(i.localStore,Bb(c[0])),m=Pf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,hr.EMPTY_BYTE_STRING);yield dl(i,d,m);break}case"rejected":yield Gg(i.localStore,e,!0),Qg(i,e,r);break;default:tt()}}),dT.apply(this,arguments)}function qk(n,e,t){return hT.apply(this,arguments)}function hT(){return hT=(0,fe.Z)(function*(n,e,t){const r=fT(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Re("SyncEngine","Adding an already active target "+i);continue}const c=yield eO(r.localStore,i),d=yield $g(r.localStore,c);yield zM(r,DO(c),d.targetId,!1,d.resumeToken),SE(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield Gg(r.localStore,i,!1).then(()=>{yv(r.remoteStore,i),Qg(r,i)}).catch(Ra))}}),hT.apply(this,arguments)}function fT(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rk.bind(null,e),e.sc.Wo=wk.bind(null,e.eventManager),e.sc.wc=Ik.bind(null,e.eventManager),e}function pT(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kk.bind(null,e),e}class MO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,fe.Z)(function*(){t.yt=mv(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Yx(this.persistence,new Kx,e.initialUser,this.yt)}yc(e){return new Wx(wE.Bs,this.yt)}gc(e){return new oO}terminate(){var e=this;return(0,fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class TO extends MO{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,fe.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield pT(r.Ac.syncEngine),yield qg(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Yx(this.persistence,new Kx,e.initialUser,this.yt)}Tc(e,t){return new FN(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new ID(t,this.persistence);return new wD(e.asyncQueue,r)}yc(e){const t=cM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new aM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,aO(),AE(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new oO}}class Zk extends TO{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,fe.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof _M&&(r.sharedClientState.syncEngine={Fr:Hk.bind(null,i),$r:zk.bind(null,i),Br:qk.bind(null,i),vi:Gk.bind(null,i),Mr:jk.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var c=(0,fe.Z)(function*(d){yield function $k(n,e){return uT.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return c.apply(this,arguments)}}())})()}gc(e){const t=aO();if(!_M.C(t))throw new Ae(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=cM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _M(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class gT{initialize(e,t){var r=this;return(0,fe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>EO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Vk.bind(null,r.syncEngine),yield kM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ek}createDatastore(e){const t=mv(e.databaseInfo.databaseId),r=new ok(e.databaseInfo);return new ck(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,c=m=>EO(this.syncEngine,m,0),d=sO.C()?new sO:new nk,new dk(t,r,i,c,d);var t,r,i,c,d}createSyncEngine(e,t){return function(r,i,c,d,m,C,I){const S=new Sk(r,i,c,d,m,C);return I&&(S.dc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,fe.Z)(function*(t){const r=Ze(t);Re("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield zg(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function mT(n,e,t){if(!t)throw new Ae(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AO(n,e,t,r){if(!0===e&&!0===r)throw new Ae(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SO(n){if(!Ge.isDocumentKey(n))throw new Ae(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xO(n){if(Ge.isDocumentKey(n))throw new Ae(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=OE(n);throw new Ae(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function OO(n,e){if(e<=0)throw new Ae(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const PO=new Map;class RO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,AO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new gD;switch(t.type){case"gapi":return new _D(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ae(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=PO.get(e);t&&(Re("ComponentProvider","Removing Datastore"),PO.delete(e),t.terminate())}(this),Promise.resolve()}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class Si{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Si(this.firestore,e,this._query)}}class zc extends Si{constructor(e,t,r){super(e,t,Af(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Ge(e))}withConverter(e){return new zc(this.firestore,e,this._path)}}function kO(n,e,...t){if(n=(0,on.m9)(n),mT("collection","path",e),n instanceof vv){const r=Jt.fromString(e,...t);return xO(r),new zc(n,null,r)}{if(!(n instanceof $n||n instanceof zc))throw new Ae(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return xO(r),new zc(n.firestore,null,r)}}function PE(n,e,...t){if(n=(0,on.m9)(n),1===arguments.length&&(e=vb.R()),mT("doc","path",e),n instanceof vv){const r=Jt.fromString(e,...t);return SO(r),new $n(n,null,new Ge(r))}{if(!(n instanceof $n||n instanceof zc))throw new Ae(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return SO(r),new $n(n.firestore,n instanceof zc?n.converter:null,new Ge(r))}}function FO(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),(n instanceof $n||n instanceof zc)&&(e instanceof $n||e instanceof zc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function _T(n,e){return n=(0,on.m9)(n),e=(0,on.m9)(e),n instanceof Si&&e instanceof Si&&n.firestore===e.firestore&&Of(n._query,e._query)&&n.converter===e.converter}function LO(n,e=10240){let t=0;return{read:()=>(0,fe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,fe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class RE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Yk{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Er,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,fe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,fe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,fe.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const c=yield e.Cc(i);return new Dk(JSON.parse(c),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,fe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,fe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,fe.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Xk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,fe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,fe.Z)(function*(c,d){const m=Ze(c),C=Nf(m.yt)+"/documents",I={documents:d.map(ee=>Lo(m.yt,ee))},S=yield m._o("BatchGetDocuments",C,I,d.length),R=new Map;S.forEach(ee=>{const ue=function GD(n,e){return"found"in e?function(t,r){at(!!r.found);const i=os(t,r.found.name),c=Yn(r.found.updateTime),d=r.found.createTime?Yn(r.found.createTime):gt.min(),m=new or({mapValue:{fields:r.found.fields}});return wn.newFoundDocument(i,c,d,m)}(n,e):"missing"in e?function(t,r){at(!!r.missing),at(!!r.readTime);const i=os(t,r.missing),c=Yn(r.readTime);return wn.newNoDocument(i,c)}(n,e):tt()}(m.yt,ee);R.set(ue.key.toString(),ue)});const $=[];return d.forEach(ee=>{const ue=R.get(ee.toString());at(!!ue),$.push(ue)}),$}),function(c,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new tl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const c=Ge.fromPath(i);e.mutations.push(new ev(c,e.precondition(c)))}),yield(r=(0,fe.Z)(function*(i,c){const d=Ze(i),m=Nf(d.yt)+"/documents",C={writes:c.map(I=>Ud(d.yt,I))};yield d.ao("Commit",m,C)}),function(i,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=gt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(gt.min())?Hn.exists(!1):Hn.updateTime(t):Hn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gt.min()))throw new Ae(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hn.updateTime(t)}return Hn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class eF{constructor(e,t,r,i,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=c,this.kc=r.maxAttempts,this.xo=new yM(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,fe.Z)(function*(){const t=new Xk(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(c=>{e.Fc(c)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!bf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Wb(t)}return!1}}class tF{constructor(e,t,r,i){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=kr.UNAUTHENTICATED,this.clientId=vb.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,fe.Z)(function*(m){Re("FirestoreClient","Received user=",m.uid),yield c.authCredentialListener(m),c.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Re("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Zg(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function VO(n,e){return yT.apply(this,arguments)}function yT(){return yT=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,fe.Z)(function*(c){r.isEqual(c)||(yield Qx(e.localStore,c),r=c)});return function(c){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),yT.apply(this,arguments)}function UO(n,e){return vT.apply(this,arguments)}function vT(){return vT=(0,fe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield CT(n);Re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>pO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,c)=>pO(e.remoteStore,c)),n.onlineComponents=e}),vT.apply(this,arguments)}function CT(n){return bT.apply(this,arguments)}function bT(){return bT=(0,fe.Z)(function*(n){return n.offlineComponents||(Re("FirestoreClient","Using default OfflineComponentProvider"),yield VO(n,new MO)),n.offlineComponents}),bT.apply(this,arguments)}function NE(n){return ET.apply(this,arguments)}function ET(){return ET=(0,fe.Z)(function*(n){return n.onlineComponents||(Re("FirestoreClient","Using default OnlineComponentProvider"),yield UO(n,new gT)),n.onlineComponents}),ET.apply(this,arguments)}function BO(n){return CT(n).then(e=>e.persistence)}function kE(n){return CT(n).then(e=>e.localStore)}function wT(n){return NE(n).then(e=>e.remoteStore)}function IT(n){return NE(n).then(e=>e.syncEngine)}function Jg(n){return DT.apply(this,arguments)}function DT(){return DT=(0,fe.Z)(function*(n){const e=yield NE(n),t=e.eventManager;return t.onListen=xk.bind(null,e.syncEngine),t.onUnlisten=Ok.bind(null,e.syncEngine),t}),DT.apply(this,arguments)}function HO(n,e,t={}){const r=new Er;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(i,c,d,m,C){const I=new RE({next:R=>{c.enqueueAndForget(()=>BM(i,S));const $=R.docs.has(d);!$&&R.fromCache?C.reject(new Ae(le.UNAVAILABLE,"Failed to get document because the client is offline.")):$&&R.fromCache&&m&&"server"===m.source?C.reject(new Ae(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(R)},error:R=>C.reject(R)}),S=new $M(Af(d.path),I,{includeMetadataChanges:!0,Nu:!0});return VM(i,S)}(yield Jg(n),n.asyncQueue,e,t,r)})),r.promise}function $O(n,e,t={}){const r=new Er;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(i,c,d,m,C){const I=new RE({next:R=>{c.enqueueAndForget(()=>BM(i,S)),R.fromCache&&"server"===m.source?C.reject(new Ae(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(R)},error:R=>C.reject(R)}),S=new $M(d,I,{includeMetadataChanges:!0,Nu:!0});return VM(i,S)}(yield Jg(n),n.asyncQueue,e,t,r)})),r.promise}class uF{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new yM(this,"async_queue_retry"),this.Wc=()=>{const t=AE();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=AE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=AE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Er;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,fe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Na(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,ir("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=LM.createAndSchedule(this,e,t,r,c=>this.Yc(c));return this.Uc.push(i),i}zc(){this.Kc&&tt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,fe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function MT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class lF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Gn extends vv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new uF,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||GO(this),this._firestoreClient.terminate()}}function Ir(n){return n._firestoreClient||GO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function GO(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new DD(n._databaseId,c,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var c,m;n._firestoreClient=new tF(n._authCredentials,n._appCheckCredentials,n._queue,r)}function zO(n,e,t){const r=new Er;return n.asyncQueue.enqueue((0,fe.Z)(function*(){try{yield VO(n,t),yield UO(n,e),r.resolve()}catch(i){const c=i;if(!("FirebaseError"===(d=c).name?d.code===le.FAILED_PRECONDITION||d.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw c;zu("Error enabling offline persistence. Falling back to persistence disabled: "+c),r.reject(c)}var d})).then(()=>r.promise)}function qO(n){if(n._initialized||n._terminated)throw new Ae(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qc(hr.fromBase64String(e))}catch(t){throw new Ae(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qc(hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $f{constructor(e){this._methodName=e}}class FE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const CF=/^__.*__$/;class bF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Gs(e,this.data,this.fieldMask,t,this.fieldTransforms):new La(e,this.data,t,this.fieldTransforms)}}class WO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Gs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ZO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class LE{constructor(e,t,r,i,c,d){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===c&&this.na(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new LE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return BE(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(ZO(this.sa)&&CF.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class EF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||mv(e)}da(e,t,r,i=!1){return new LE({sa:e,methodName:t,fa:r,path:Bn.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Gf(n){const e=n._freezeSettings(),t=mv(n._databaseId);return new EF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VE(n,e,t,r,i,c={}){const d=n.da(c.merge||c.mergeFields?2:0,e,t,i);xT("Data must be an object, but it was:",d,r);const m=QO(r,d);let C,I;if(c.merge)C=new $i(d.fieldMask),I=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const R of c.mergeFields){const $=OT(e,R,t);if(!d.contains($))throw new Ae(le.INVALID_ARGUMENT,`Field '${$}' is specified in your field mask but missing from your input data.`);XO(S,$)||S.push($)}C=new $i(S),I=d.fieldTransforms.filter(R=>C.covers(R.field))}else C=null,I=d.fieldTransforms;return new bF(new or(m),C,I)}class Cv extends $f{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cv}}function KO(n,e,t){return new LE({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class TT extends $f{_toFieldTransform(e){return new Tg(e.path,new el)}isEqual(e){return e instanceof TT}}class wF extends $f{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=KO(this,e,!0),r=this._a.map(c=>zf(c,t)),i=new Bc(r);return new Tg(e.path,i)}isEqual(e){return this===e}}class IF extends $f{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=KO(this,e,!0),r=this._a.map(c=>zf(c,t)),i=new jc(r);return new Tg(e.path,i)}isEqual(e){return this===e}}class DF extends $f{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Vd(e.yt,Wy(e.yt,this.wa));return new Tg(e.path,t)}isEqual(e){return this===e}}function AT(n,e,t,r){const i=n.da(1,e,t);xT("Data must be an object, but it was:",i,r);const c=[],d=or.empty();Zu(r,(C,I)=>{const S=UE(e,C,t);I=(0,on.m9)(I);const R=i.ca(S);if(I instanceof Cv)c.push(S);else{const $=zf(I,R);null!=$&&(c.push(S),d.set(S,$))}});const m=new $i(c);return new WO(d,m,i.fieldTransforms)}function ST(n,e,t,r,i,c){const d=n.da(1,e,t),m=[OT(e,r,t)],C=[i];if(c.length%2!=0)throw new Ae(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $=0;$<c.length;$+=2)m.push(OT(e,c[$])),C.push(c[$+1]);const I=[],S=or.empty();for(let $=m.length-1;$>=0;--$)if(!XO(I,m[$])){const ee=m[$];let ue=C[$];ue=(0,on.m9)(ue);const Oe=d.ca(ee);if(ue instanceof Cv)I.push(ee);else{const Be=zf(ue,Oe);null!=Be&&(I.push(ee),S.set(ee,Be))}}const R=new $i(I);return new WO(S,R,d.fieldTransforms)}function YO(n,e,t,r=!1){return zf(t,n.da(r?4:3,e))}function zf(n,e){if(JO(n=(0,on.m9)(n)))return xT("Unsupported field value:",e,n),QO(n,e);if(n instanceof $f)return function(t,r){if(!ZO(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let c=0;for(const d of t){let m=zf(d,r.aa(c));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),c++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,on.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Wy(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Sn.fromDate(t);return{timestampValue:rl(r.yt,i)}}if(t instanceof Sn){const i=new Sn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:rl(r.yt,i)}}if(t instanceof FE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qc)return{bytesValue:rv(r.yt,t._byteString)};if(t instanceof $n){const i=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(i))throw r.ha(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${OE(t)}`)}(n,e)}function QO(n,e){const t={};return Ib(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zu(n,(r,i)=>{const c=zf(i,e.ra(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function JO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Sn||n instanceof FE||n instanceof qc||n instanceof $n||n instanceof $f)}function xT(n,e,t){if(!JO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=OE(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function OT(n,e,t){if((e=(0,on.m9)(e))instanceof hl)return e._internalPath;if("string"==typeof e)return UE(n,e);throw BE("Field path arguments must be of type string or ",n,!1,void 0,t)}const MF=new RegExp("[~\\*/\\[\\]]");function UE(n,e,t){if(e.search(MF)>=0)throw BE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hl(...e.split("."))._internalPath}catch{throw BE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function BE(n,e,t,r,i){const c=r&&!r.isEmpty(),d=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let C="";return(c||d)&&(C+=" (found",c&&(C+=` in field ${r}`),d&&(C+=` in document ${i}`),C+=")"),new Ae(le.INVALID_ARGUMENT,m+n+C)}function XO(n,e){return n.some(t=>t.isEqual(e))}class bv{constructor(e,t,r,i,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new TF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class TF extends bv{data(){return super.data()}}function jE(n,e){return"string"==typeof e?UE(n,e):e instanceof hl?e._internalPath:e._delegate._internalPath}function eP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ae(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PT{}class Ev extends PT{}function Gd(n,e,...t){let r=[];e instanceof PT&&r.push(e),r=r.concat(t),function(i){const c=i.filter(m=>m instanceof Xg).length,d=i.filter(m=>m instanceof wv).length;if(c>1||c>0&&d>0)throw new Ae(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class wv extends Ev{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new wv(e,t,r)}_apply(e){const t=this._parse(e);return iP(e._query,t),new Si(e.firestore,e.converter,xf(e._query,t))}_parse(e){const t=Gf(e.firestore);return function(i,c,d,m,C,I,S){let R;if(C.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new Ae(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){rP(S,I);const $=[];for(const ee of S)$.push(nP(m,i,ee));R={arrayValue:{values:$}}}else R=nP(m,i,S)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||rP(S,I),R=YO(d,"where",S,"in"===I||"not-in"===I);return Kt.create(C,I,R)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Xg extends PT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:cn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let c=r;const d=i.getFlattenedFilters();for(const m of d)iP(c,m),c=xf(c,m)}(e._query,t),new Si(e.firestore,e.converter,xf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class RT extends Ev{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new RT(e,t)}_apply(e){const t=function(r,i,c){if(null!==r.startAt)throw new Ae(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Fd(i,c);return function(m,C){if(null===jy(m)){const I=Sf(m);null!==I&&oP(0,I,C.field)}}(r,d),d}(e._query,this._field,this._direction);return new Si(e.firestore,e.converter,function(r,i){const c=r.explicitOrderBy.concat([i]);return new Fo(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class HE extends Ev{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new HE(e,t,r)}_apply(e){return new Si(e.firestore,e.converter,Hy(e._query,this._limit,this._limitType))}}class $E extends Ev{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new $E(e,t,r)}_apply(e){const t=tP(e,this.type,this._docOrFields,this._inclusive);return new Si(e.firestore,e.converter,(i=t,new Fo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class GE extends Ev{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new GE(e,t,r)}_apply(e){const t=tP(e,this.type,this._docOrFields,this._inclusive);return new Si(e.firestore,e.converter,(i=t,new Fo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function tP(n,e,t,r){if(t[0]=(0,on.m9)(t[0]),t[0]instanceof bv)return function(i,c,d,m,C){if(!m)throw new Ae(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const I=[];for(const S of Xu(i))if(S.field.isKeyField())I.push(Yu(c,m.key));else{const R=m.data.field(S.field);if(xy(R))throw new Ae(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const $=S.field.canonicalString();throw new Ae(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$}' (used as the orderBy) does not exist.`)}I.push(R)}return new $s(I,C)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Gf(n.firestore);return function(c,d,m,C,I,S){const R=c.explicitOrderBy;if(I.length>R.length)throw new Ae(le.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $=[];for(let ee=0;ee<I.length;ee++){const ue=I[ee];if(R[ee].field.isKeyField()){if("string"!=typeof ue)throw new Ae(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof ue}`);if(!Uc(c)&&-1!==ue.indexOf("/"))throw new Ae(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${C}() must be a plain document ID, but '${ue}' contains a slash.`);const Oe=c.path.child(Jt.fromString(ue));if(!Ge.isDocumentKey(Oe))throw new Ae(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${C}() must result in a valid document path, but '${Oe}' is not because it contains an odd number of segments.`);const Be=new Ge(Oe);$.push(Yu(d,Be))}else{const Oe=YO(m,C,ue);$.push(Oe)}}return new $s($,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function nP(n,e,t){if("string"==typeof(t=(0,on.m9)(t))){if(""===t)throw new Ae(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uc(e)&&-1!==t.indexOf("/"))throw new Ae(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Jt.fromString(t));if(!Ge.isDocumentKey(r))throw new Ae(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yu(n,new Ge(r))}if(t instanceof $n)return Yu(n,t._key);throw new Ae(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${OE(t)}.`)}function rP(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function iP(n,e){if(e.isInequality()){const r=Sf(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ae(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const c=jy(n);null!==c&&oP(0,i,c)}const t=function(r,i){for(const c of r)for(const d of c.getFlattenedFilters())if(i.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ae(le.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function oP(n,e,t){if(!t.isEqual(e))throw new Ae(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NT{convertValue(e,t="none"){switch(Ku(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){const r={};return Zu(e.fields,(i,c)=>{r[i]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new FE(jn(e.latitude),jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Tb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mg(e));default:return null}}convertTimestamp(e){const t=ka(e);return new Sn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Jt.fromString(e);at(hE(r));const i=new Rc(r.get(1),r.get(3)),c=new Ge(r.popFirst(5));return i.isEqual(t)||ir(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function zE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class FF extends NT{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}class qf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fl extends bv{constructor(e,t,r,i,c,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Iv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(jE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Iv extends fl{data(e={}){return super.data(e)}}class zd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new qf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Iv(this._firestore,this._userDataWriter,r.key,r,new qf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Iv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new qf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const m=new Iv(r._firestore,r._userDataWriter,d.doc.key,d.doc,new qf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let C=-1,I=-1;return 0!==d.type&&(C=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),1!==d.type&&(c=c.add(d.doc),I=c.indexOf(d.doc.key)),{type:LF(d.type),doc:m,oldIndex:C,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function LF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function aP(n,e){return n instanceof fl&&e instanceof fl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof zd&&e instanceof zd&&n._firestore===e._firestore&&_T(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class qd extends NT{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function cP(n,e,t){n=tn(n,$n);const r=tn(n.firestore,Gn),i=zE(n.converter,e,t);return em(r,[VE(Gf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Hn.none())])}function uP(n,e,t,...r){n=tn(n,$n);const i=tn(n.firestore,Gn),c=Gf(i);let d;return d="string"==typeof(e=(0,on.m9)(e))||e instanceof hl?ST(c,"updateDoc",n._key,e,t,r):AT(c,"updateDoc",n._key,e),em(i,[d.toMutation(n._key,Hn.exists(!0))])}function lP(n,...e){var t,r,i;n=(0,on.m9)(n);let c={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||MT(e[d])||(c=e[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges};if(MT(e[d])){const R=e[d];e[d]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[d+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[d+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let C,I,S;if(n instanceof $n)I=tn(n.firestore,Gn),S=Af(n._key.path),C={next:R=>{e[d]&&e[d](kT(I,n,R))},error:e[d+1],complete:e[d+2]};else{const R=tn(n,Si);I=tn(R.firestore,Gn),S=R._query;const $=new qd(I);C={next:ee=>{e[d]&&e[d](new zd(I,$,R,ee))},error:e[d+1],complete:e[d+2]},eP(n._query)}return function(R,$,ee,ue){const Oe=new RE(ue),Be=new $M($,Oe,ee);return R.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return VM(yield Jg(R),Be)})),()=>{Oe.bc(),R.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return BM(yield Jg(R),Be)}))}}(Ir(I),S,m,C)}function em(n,e){return function(t,r){const i=new Er;return t.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function Pk(n,e,t){return ZM.apply(this,arguments)}(yield IT(t),r,i)})),i.promise}(Ir(n),e)}function kT(n,e,t){const r=t.docs.get(e._key),i=new qd(n);return new fl(n,i,e._key,r,new qf(t.hasPendingWrites,t.fromCache),e.converter)}const WF={maxAttempts:5};class dP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gf(e)}set(e,t,r){this._verifyNotCommitted();const i=Wd(e,this._firestore),c=zE(i.converter,t,r),d=VE(this._dataReader,"WriteBatch.set",i._key,c,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Hn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const c=Wd(e,this._firestore);let d;return d="string"==typeof(t=(0,on.m9)(t))||t instanceof hl?ST(this._dataReader,"WriteBatch.update",c._key,t,r,i):AT(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,Hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Wd(e,this._firestore);return this._mutations=this._mutations.concat(new tl(t._key,Hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wd(n,e){if((n=(0,on.m9)(n)).firestore!==e)throw new Ae(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ZF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Gf(e)}get(e){const t=Wd(e,this._firestore),r=new FF(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return tt();const c=i[0];if(c.isFoundDocument())return new bv(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new bv(this._firestore,r,t._key,null,t.converter);throw tt()})}set(e,t,r){const i=Wd(e,this._firestore),c=zE(i.converter,t,r),d=VE(this._dataReader,"Transaction.set",i._key,c,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const c=Wd(e,this._firestore);let d;return d="string"==typeof(t=(0,on.m9)(t))||t instanceof hl?ST(this._dataReader,"Transaction.update",c._key,t,r,i):AT(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,d),this}delete(e){const t=Wd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Wd(e,this._firestore),r=new qd(this._firestore);return super.get(e).then(i=>new fl(this._firestore,r,t._key,i._document,new qf(!1,!1),t.converter))}}function hP(...n){return new wF("arrayUnion",n)}!function(n,e=!0){xc=Vu.SDK_VERSION,(0,Vu._registerComponent)(new Vp.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const c=t.getProvider("app").getImmediate(),d=new Gn(new gb(t.getProvider("auth-internal")),new yb(t.getProvider("app-check-internal")),function(m,C){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ae(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(m.options.projectId,C)}(c,r),c);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Vu.registerVersion)(Ey,"3.8.0",n),(0,Vu.registerVersion)(Ey,"3.8.0","esm2017")}();const iL=(0,nr.u3)(hP,!0);var oL=k(6451),qE=k(5363);function di(n,e){return(0,fn.e)((t,r)=>{let i=null,c=0,d=!1;const m=()=>d&&!i&&r.complete();t.subscribe((0,T.x)(r,C=>{i?.unsubscribe();let I=0;const S=c++;(0,Ia.Xf)(n(C,S)).subscribe(i=(0,T.x)(r,R=>r.next(e?e(C,R,S,I++):R),()=>{i=null,m()}))},()=>{d=!0,m()}))})}var sL=k(6063);class aL extends ro.x{constructor(e=1/0,t=1/0,r=sL.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:c,_windowTime:d}=this;t||(r.push(e),!i&&r.push(c.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,c=i.slice();for(let d=0;d<c.length&&!e.closed;d+=r?1:2)e.next(c[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,c=(i?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!i){const d=t.now();let m=0;for(let C=1;C<r.length&&r[C]<=d;C+=2)m=C;m&&r.splice(0,m+1)}}}function gP(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,KC.B)({connector:()=>new aL(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const WE=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ZE(n){return(0,fn.e)((e,t)=>{let r=!1;e.subscribe((0,T.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function mP(n=uL){return(0,fn.e)((e,t)=>{let r=!1;e.subscribe((0,T.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function uL(){return new WE}function pl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ai((i,c)=>n(i,c,r)):io.y,Oo(1),t?ZE(e):mP(()=>new WE))}function _P(n,e){return(0,wc.m)(e)?di(()=>n,e):di(()=>n)}var VT=k(9468);const UT=new Map,yP={activated:!1,tokenObservers:[]},lL={initialized:!1,enabled:!1};function xi(n){return UT.get(n)||Object.assign({},yP)}function KE(){return lL}class mL{constructor(e,t,r,i,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=i,i>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,fe.Z)(function*(){t.stop();try{t.pending=new on.BH,yield function _L(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new on.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const po=new on.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function CP(n){if(!xi(n).activated)throw po.create("use-before-activation",{appName:n.name})}function HT(n,e){return $T.apply(this,arguments)}function $T(){return $T=(0,fe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const R=yield i.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const c={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,c)}catch(R){throw po.create("fetch-network-error",{originalErrorMessage:R?.message})}if(200!==d.status)throw po.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(R){throw po.create("fetch-parse-error",{originalErrorMessage:R?.message})}const C=m.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw po.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const I=1e3*Number(C[1]),S=Date.now();return{token:m.token,expireTimeMillis:S+I,issuedAtTimeMillis:S}}),$T.apply(this,arguments)}function bL(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Dv="firebase-app-check-store";let JE=null;function EP(){return JE||(JE=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(po.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Dv,{keyPath:"compositeKey"})}}catch(t){e(po.create("storage-open",{originalErrorMessage:t?.message}))}}),JE)}function GT(){return GT=(0,fe.Z)(function*(n,e){const r=(yield EP()).transaction(Dv,"readwrite"),c=r.objectStore(Dv).put({compositeKey:n,value:e});return new Promise((d,m)=>{c.onsuccess=C=>{d()},r.onerror=C=>{var I;m(po.create("storage-set",{originalErrorMessage:null===(I=C.target.error)||void 0===I?void 0:I.message}))}})}),GT.apply(this,arguments)}const Mv=new Ls.Yd("@firebase/app-check");function WT(n,e){return(0,on.hl)()?function DL(n,e){return function wP(n,e){return GT.apply(this,arguments)}(function DP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Mv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function MP(){return KE().enabled}function TP(){return KT.apply(this,arguments)}function KT(){return KT=(0,fe.Z)(function*(){const n=KE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),KT.apply(this,arguments)}const OL={error:"UNKNOWN_ERROR"};function PL(n){return on.US.encodeString(JSON.stringify(n),!1)}function XE(n){return YT.apply(this,arguments)}function YT(){return YT=(0,fe.Z)(function*(n,e=!1){const t=n.app;CP(t);const r=xi(t);let c,i=r.token;if(i&&!tm(i)&&(r.token=void 0,i=void 0),!i){const C=yield r.cachedTokenPromise;C&&(tm(C)?i=C:yield WT(t,void 0))}if(!e&&i&&tm(i))return{token:i.token};let m,d=!1;if(MP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=HT(bL(t,yield TP()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const C=yield r.exchangeTokenPromise;return yield WT(t,C),r.token=C,{token:C.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield xi(t).exchangeTokenPromise}catch(C){"appCheck/throttled"===C.code?Mv.warn(C.message):Mv.error(C),c=C}return i?c?m=tm(i)?{token:i.token,internalError:c}:xP(c):(m={token:i.token},r.token=i,yield WT(t,i)):m=xP(c),d&&SP(t,m),m}),YT.apply(this,arguments)}function JT(n,e){const t=xi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function AP(n){const{app:e}=n,t=xi(e);let r=t.tokenRefresher;r||(r=function RL(n){const{app:e}=n;return new mL((0,fe.Z)(function*(){let r;if(r=xi(e).token?yield XE(n,!0):yield XE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=xi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function SP(n,e){const t=xi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function tm(n){return n.expireTimeMillis-Date.now()>0}function xP(n){return{token:PL(OL),error:n}}class NL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=xi(this.app);for(const t of e)JT(this.app,t.next);return Promise.resolve()}}const VP="app-check-internal";!function ZL(){(0,Vu._registerComponent)(new Vp.wA("app-check",n=>function kL(n,e){return new NL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(VP).initialize()})),(0,Vu._registerComponent)(new Vp.wA(VP,n=>function FL(n){return{getToken:e=>XE(n,e),addTokenListener:e=>function QT(n,e,t,r){const{app:i}=n,c=xi(i);if(c.tokenObservers=[...c.tokenObservers,{next:t,error:r,type:e}],c.token&&tm(c.token)){const m=c.token;Promise.resolve().then(()=>{t({token:m.token}),AP(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>AP(n))}(n,"INTERNAL",e),removeTokenListener:e=>JT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vu.registerVersion)("@firebase/app-check","0.6.0")}();class nA{constructor(){return(0,nr.vb)("app-check")}}typeof window<"u"&&window,k(9260);const BP=new u.OlP("angularfire2.auth.use-emulator"),jP=new u.OlP("angularfire2.auth.settings"),HP=new u.OlP("angularfire2.auth.tenant-id"),$P=new u.OlP("angularfire2.auth.langugage-code"),GP=new u.OlP("angularfire2.auth.use-device-language"),zP=new u.OlP("angularfire.auth.persistence"),qP=(n,e,t,r,i,c,d,m)=>(0,Xo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const C=e.runOutsideAngular(()=>n.auth());if(t&&C.useEmulator(...t),r&&(C.tenantId=r),C.languageCode=i,c&&C.useDeviceLanguage(),d)for(const[I,S]of Object.entries(d))C.settings[I]=S;return m&&C.setPersistence(m),C},[t,r,i,c,d,m]);let tw=(()=>{class n{constructor(t,r,i,c,d,m,C,I,S,R,$,ee){const ue=new ro.x,Oe=it(void 0).pipe((0,qE.Q)(d.outsideAngular),di(()=>c.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9169)))),(0,st.U)(()=>(0,Xo.on)(t,c,r)),(0,st.U)(Be=>qP(Be,c,m,I,S,R,C,$)),gP({bufferSize:1,refCount:!1}));if(nu(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=it(null);else{Oe.pipe(pl()).subscribe();const Pt=Oe.pipe(di(Vt=>Vt.getRedirectResult().then(Ut=>Ut,()=>null)),nr.iC,gP({bufferSize:1,refCount:!1})),Ht=Oe.pipe(di(Vt=>new ji.y(Ut=>({unsubscribe:c.runOutsideAngular(()=>Vt.onAuthStateChanged(zt=>Ut.next(zt),zt=>Ut.error(zt),()=>Ut.complete()))})))),Lt=Oe.pipe(di(Vt=>new ji.y(Ut=>({unsubscribe:c.runOutsideAngular(()=>Vt.onIdTokenChanged(zt=>Ut.next(zt),zt=>Ut.error(zt),()=>Ut.complete()))}))));this.authState=Pt.pipe(_P(Ht),(0,VT.R)(d.outsideAngular),(0,qE.Q)(d.insideAngular)),this.user=Pt.pipe(_P(Lt),(0,VT.R)(d.outsideAngular),(0,qE.Q)(d.insideAngular)),this.idToken=this.user.pipe(di(Vt=>Vt?(0,mn.D)(Vt.getIdToken()):it(null))),this.idTokenResult=this.user.pipe(di(Vt=>Vt?(0,mn.D)(Vt.getIdTokenResult()):it(null))),this.credential=(0,oL.T)(Pt,ue,this.authState.pipe(ai(Vt=>!Vt))).pipe((0,st.U)(Vt=>Vt?.user?Vt:null),(0,VT.R)(d.outsideAngular),(0,qE.Q)(d.insideAngular))}return(0,Xo.pX)(this,Oe,c,{spy:{apply:(Be,Pt,Ht)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&Ht.then(Lt=>ue.next(Lt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xo.Dh),u.LFG(Xo.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(nr.HU),u.LFG(BP,8),u.LFG(jP,8),u.LFG(HP,8),u.LFG($P,8),u.LFG(GP,8),u.LFG(zP,8),u.LFG(nA,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function iA(){return(0,fn.e)((n,e)=>{let t,r=!1;n.subscribe((0,T.x)(e,i=>{const c=t;t=i,r&&e.next([c,i]),r=!0}))})}function eV(n,e,t,r,i){return(c,d)=>{let m=t,C=e,I=0;c.subscribe((0,T.x)(d,S=>{const R=I++;C=m?n(C,S,R):(m=!0,S),r&&d.next(C)},i&&(()=>{m&&d.next(C),d.complete()})))}}function Tv(n,e){return(0,fn.e)(eV(n,e,arguments.length>=2,!0))}function nV(n,e){return n===e}k(9169);var rV=k(3942);function oA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function WP(){if(typeof Uint8Array>"u")throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function ZP(){if(!function wf(){return typeof atob<"u"}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Av{constructor(e){this._delegate=e}static fromBase64String(e){return ZP(),new Av(qc.fromBase64String(e))}static fromUint8Array(e){return WP(),new Av(qc.fromUint8Array(e))}toBase64(){return ZP(),this._delegate.toBase64()}toUint8Array(){return WP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sA(n){return function sV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class aV{enableIndexedDbPersistence(e,t){return function hF(n,e){qO(n=tn(n,Gn));const t=Ir(n),r=n._freezeSettings(),i=new gT;return zO(t,i,new TO(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function fF(n){qO(n=tn(n,Gn));const e=Ir(n),t=n._freezeSettings(),r=new gT;return zO(e,r,new Zk(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function pF(n){if(n._initialized&&!n._terminated)throw new Ae(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Er;return n._queue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{yield(t=(0,fe.Z)(function*(r){if(!rs.C())return Promise.resolve();const i=r+"main";yield rs.delete(i)}),function(r){return t.apply(this,arguments)})(cM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class KP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Rc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function NO(n,e,t,r={}){var i;const c=(n=tn(n,vv))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&zu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=kr.MOCK_USER;else{d=(0,on.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new Ae(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new kr(C)}n._authCredentials=new mD(new pb(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function mF(n){return function nF(n){return n.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield BO(n),t=yield wT(n);return e.setNetworkEnabled(!0),function(r){const i=Ze(r);return i._u.delete(0),_v(i)}(t)}))}(Ir(n=tn(n,Gn)))}(this._delegate)}disableNetwork(){return function _F(n){return function rF(n){return n.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield BO(n),t=yield wT(n);return e.setNetworkEnabled(!1),(r=(0,fe.Z)(function*(i){const c=Ze(i);c._u.add(0),yield zg(c),c.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ir(n=tn(n,Gn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,AO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gF(n){return function(e){const t=new Er;return e.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function Fk(n,e){return XM.apply(this,arguments)}(yield IT(e),t)})),t.promise}(Ir(n=tn(n,Gn)))}(this._delegate)}onSnapshotsInSync(e){return function qF(n,e){return function sF(n,e){const t=new RE(e);return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return r=yield Jg(n),i=t,Ze(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return r=yield Jg(n),i=t,void Ze(r).Ru.delete(i);var r,i}))}}(Ir(n=tn(n,Gn)),MT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nm(this,kO(this._delegate,e))}catch(t){throw go(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ws(this,PE(this._delegate,e))}catch(t){throw go(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new mo(this,function Kk(n,e){if(n=tn(n,vv),mT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Si(n,null,(t=e,new Fo(Jt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw go(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function KF(n,e,t){n=tn(n,Gn);const r=Object.assign(Object.assign({},WF),t);return function(i){if(i.maxAttempts<1)throw new Ae(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,c,d){const m=new Er;return i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){const C=yield function jO(n){return NE(n).then(e=>e.datastore)}(i);new eF(i.asyncQueue,C,d,c,m).run()})),m.promise}(Ir(n),i=>e(new ZF(n,i)),r)}(this._delegate,t=>e(new YP(this,t)))}batch(){return Ir(this._delegate),new QP(new dP(this._delegate,e=>em(this._delegate,e)))}loadBundle(e){return function yF(n,e){const t=Ir(n=tn(n,Gn)),r=new lF;return function aF(n,e,t,r){const i=function(c,d){let m;return m="string"==typeof c?(new TextEncoder).encode(c):c,C=function(C,I){if(C instanceof Uint8Array)return LO(C,I);if(C instanceof ArrayBuffer)return LO(new Uint8Array(C),I);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Yk(C,d);var C}(t,mv(e));n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){!function Wk(n,e,t){const r=Ze(n);var i;(i=(0,fe.Z)(function*(c,d,m){try{const C=yield d.getMetadata();if(yield function($,ee){const ue=Ze($),Oe=Yn(ee.createTime);return ue.persistence.runTransaction("hasNewerBundle","readonly",Be=>ue.Ns.getBundleMetadata(Be,ee.id)).then(Be=>!!Be&&Be.createTime.compareTo(Oe)>=0)}(c.localStore,C))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:($=C).totalDocuments,bytesLoaded:$.totalBytes,totalDocuments:$.totalDocuments,totalBytes:$.totalBytes}),Promise.resolve(new Set);m._updateProgress(_O(C));const I=new Mk(C,c.localStore,d.yt);let S=yield d.mc();for(;S;){const $=yield I.Fu(S);$&&m._updateProgress($),S=yield d.mc()}const R=yield I.complete();return yield dl(c,R.Lu,void 0),yield function($,ee){const ue=Ze($);return ue.persistence.runTransaction("Save bundle","readwrite",Oe=>ue.Ns.saveBundleMetadata(Oe,ee))}(c.localStore,C),m._completeWith(R.progress),Promise.resolve(R.Bu)}catch(C){return zu("SyncEngine",`Loading bundle failed with ${C}`),m._failWith(C),Promise.resolve(new Set)}var $}),function(c,d,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield IT(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function vF(n,e){return function cF(n,e){return n.asyncQueue.enqueue((0,fe.Z)(function*(){return function(t,r){const i=Ze(t);return i.persistence.runTransaction("Get named query","readonly",c=>i.Ns.getNamedQuery(c,r))}(yield kE(n),e)}))}(Ir(n=tn(n,Gn)),e).then(t=>t?new Si(n,null,t.query):null)}(this._delegate,e).then(t=>t?new mo(this,t):null)}}class nw extends NT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Av(new qc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ws.forKey(t,this.firestore,null)}}class YP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new nw(e)}get(e){const t=Zf(e);return this._delegate.get(t).then(r=>new Sv(this._firestore,new fl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Zf(e);return r?(oA("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=Zf(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=Zf(e);return this._delegate.delete(t),this}}class QP{constructor(e){this._delegate=e}set(e,t,r){const i=Zf(e);return r?(oA("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=Zf(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=Zf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Iv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xv(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Wf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let c=i.get(t);return c||(c=new Wf(e,new nw(e),t),i.set(t,c)),c}}Wf.INSTANCES=new WeakMap;class Ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nw(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ws(t,new $n(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new Ws(t,new $n(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new nm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nm(this.firestore,kO(this._delegate,e))}catch(t){throw go(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,on.m9)(e))instanceof $n&&FO(this._delegate,e)}set(e,t){t=oA("DocumentReference.set",t);try{return t?cP(this._delegate,e,t):cP(this._delegate,e)}catch(r){throw go(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?uP(this._delegate,e):uP(this._delegate,e,t,...r)}catch(i){throw go(i,"updateDoc()","DocumentReference.update()")}}delete(){return function GF(n){return em(tn(n.firestore,Gn),[new tl(n._key,Hn.none())])}(this._delegate)}onSnapshot(...e){const t=JP(e),r=XP(e,i=>new Sv(this.firestore,new fl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return lP(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function UF(n){n=tn(n,$n);const e=tn(n.firestore,Gn),t=Ir(e),r=new qd(e);return function iF(n,e){const t=new Er;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(r=(0,fe.Z)(function*(i,c,d){try{const m=yield function(C,I){const S=Ze(C);return S.persistence.runTransaction("read document","readonly",R=>S.localDocuments.getDocument(R,I))}(i,c);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ae(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const C=Zg(m,`Failed to get document '${c} from cache`);d.reject(C)}}),function(i,c,d){return r.apply(this,arguments)})(yield kE(n),e,t);var r})),t.promise}(t,n._key).then(i=>new fl(e,r,n._key,i,new qf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function BF(n){n=tn(n,$n);const e=tn(n.firestore,Gn);return HO(Ir(e),n._key,{source:"server"}).then(t=>kT(e,n,t))}(this._delegate):function VF(n){n=tn(n,$n);const e=tn(n.firestore,Gn);return HO(Ir(e),n._key).then(t=>kT(e,n,t))}(this._delegate),t.then(r=>new Sv(this.firestore,new fl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ws(this.firestore,this._delegate.withConverter(e?Wf.getInstance(this.firestore,e):null))}}function go(n,e,t){return n.message=n.message.replace(e,t),n}function JP(n){for(const e of n)if("object"==typeof e&&!sA(e))return e;return{}}function XP(n,e){var t,r;let i;return i=sA(n[0])?n[0]:sA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{i.next&&i.next(e(c))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Sv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ws(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return aP(this._delegate,e._delegate)}}class xv extends Sv{data(e){const t=this._delegate.data(e);return function pD(n,e){n||tt()}(void 0!==t),t}}class mo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nw(e)}where(e,t,r){try{return new mo(this.firestore,Gd(this._delegate,function AF(n,e,t){const r=e,i=jE("where",n);return wv._create(i,r,t)}(e,t,r)))}catch(i){throw go(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new mo(this.firestore,Gd(this._delegate,function SF(n,e="asc"){const t=e,r=jE("orderBy",n);return RT._create(r,t)}(e,t)))}catch(r){throw go(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new mo(this.firestore,Gd(this._delegate,function xF(n){return OO("limit",n),HE._create("limit",n,"F")}(e)))}catch(t){throw go(t,"limit()","Query.limit()")}}limitToLast(e){try{return new mo(this.firestore,Gd(this._delegate,function OF(n){return OO("limitToLast",n),HE._create("limitToLast",n,"L")}(e)))}catch(t){throw go(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new mo(this.firestore,Gd(this._delegate,function PF(...n){return $E._create("startAt",n,!0)}(...e)))}catch(t){throw go(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new mo(this.firestore,Gd(this._delegate,function RF(...n){return $E._create("startAfter",n,!1)}(...e)))}catch(t){throw go(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new mo(this.firestore,Gd(this._delegate,function NF(...n){return GE._create("endBefore",n,!1)}(...e)))}catch(t){throw go(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new mo(this.firestore,Gd(this._delegate,function kF(...n){return GE._create("endAt",n,!0)}(...e)))}catch(t){throw go(t,"endAt()","Query.endAt()")}}isEqual(e){return _T(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function HF(n){n=tn(n,Si);const e=tn(n.firestore,Gn),t=Ir(e),r=new qd(e);return function oF(n,e){const t=new Er;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(r=(0,fe.Z)(function*(i,c,d){try{const m=yield DE(i,c,!0),C=new CO(c,m.Hi),I=C.Wu(m.documents),S=C.applyChanges(I,!1);d.resolve(S.snapshot)}catch(m){const C=Zg(m,`Failed to execute query '${c} against cache`);d.reject(C)}}),function(i,c,d){return r.apply(this,arguments)})(yield kE(n),e,t);var r})),t.promise}(t,n._query).then(i=>new zd(e,r,n,i))}(this._delegate):"server"===e?.source?function $F(n){n=tn(n,Si);const e=tn(n.firestore,Gn),t=Ir(e),r=new qd(e);return $O(t,n._query,{source:"server"}).then(i=>new zd(e,r,n,i))}(this._delegate):function jF(n){n=tn(n,Si);const e=tn(n.firestore,Gn),t=Ir(e),r=new qd(e);return eP(n._query),$O(t,n._query).then(i=>new zd(e,r,n,i))}(this._delegate),t.then(r=>new aA(this.firestore,new zd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=JP(e),r=XP(e,i=>new aA(this.firestore,new zd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return lP(this._delegate,t,r)}withConverter(e){return new mo(this.firestore,this._delegate.withConverter(e?Wf.getInstance(this.firestore,e):null))}}class uV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new xv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class aA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new mo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new uV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new xv(this._firestore,r))})}isEqual(e){return aP(this._delegate,e._delegate)}}class nm extends mo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ws(this.firestore,e):null}doc(e){try{return new Ws(this.firestore,void 0===e?PE(this._delegate):PE(this._delegate,e))}catch(t){throw go(t,"doc()","CollectionReference.doc()")}}add(e){return function zF(n,e){const t=tn(n.firestore,Gn),r=PE(n),i=zE(n.converter,e);return em(t,[VE(Gf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ws(this.firestore,t))}isEqual(e){return FO(this._delegate,e._delegate)}withConverter(e){return new nm(this.firestore,this._delegate.withConverter(e?Wf.getInstance(this.firestore,e):null))}}function Zf(n){return tn(n,$n)}class cA{constructor(...e){this._delegate=new hl(...e)}static documentId(){return new cA(Bn.keyField().canonicalString())}isEqual(e){return(e=(0,on.m9)(e))instanceof hl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Kf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function QF(){return new TT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Kf(e)}static delete(){const e=function YF(){return new Cv("deleteField")}();return e._methodName="FieldValue.delete",new Kf(e)}static arrayUnion(...e){const t=hP(...e);return t._methodName="FieldValue.arrayUnion",new Kf(t)}static arrayRemove(...e){const t=function JF(...n){return new IF("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Kf(t)}static increment(e){const t=function XF(n){return new DF("increment",n)}(e);return t._methodName="FieldValue.increment",new Kf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const lV={Firestore:KP,GeoPoint:FE,Timestamp:Sn,Blob:Av,Transaction:YP,WriteBatch:QP,DocumentReference:Ws,DocumentSnapshot:Sv,Query:mo,QueryDocumentSnapshot:xv,QuerySnapshot:aA,CollectionReference:nm,FieldPath:cA,FieldValue:Kf,setLogLevel:function cV(n){!function fb(n){Oc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function eR(n,e){return function fV(n,e=oo.z){return new ji.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function uA(n,e){return eR(n,e).pipe((0,st.U)(t=>({payload:t,type:"query"})))}function rw(n,e){return uA(n,e).pipe(Os(void 0),iA(),(0,st.U)(([t,r])=>{const i=r.payload.docChanges(),c=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const C=i.find(S=>S.doc.ref.isEqual(d.ref)),I=t?.payload.docs.find(S=>S.ref.isEqual(d.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(d.metadata)||!C&&I&&JSON.stringify(I.metadata)===JSON.stringify(d.metadata)||c.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),c}))}function tR(n,e,t){return rw(n,t).pipe(Tv((r,i)=>function gV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function mV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return lA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return lA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return lA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(c=>c.payload),e),[]),function tV(n,e=io.y){return n=n??nV,(0,fn.e)((t,r)=>{let i,c=!0;t.subscribe((0,T.x)(r,d=>{const m=e(d);(c||!n(i,m))&&(c=!1,i=m,r.next(d))}))})}(),(0,st.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function lA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function nR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function hV(n){(function dV(n,e){n.INTERNAL.registerComponent(new Vp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},lV)))})(n,(e,t)=>new KP(e,t,new aV)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(rV.Z);class rR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=rw(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,st.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Os(void 0),iA(),ai(([r,i])=>i.length>0||!r),(0,st.U)(([r,i])=>i),nr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Tv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=nR(e);return tR(this.query,t,this.afs.schedulers.outsideAngular).pipe(nr.iC)}valueChanges(e={}){return uA(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),nr.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(nr.iC)}add(e){return this.ref.add(e)}doc(e){return new iR(this.ref.doc(e),this.afs)}}class iR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:c}=oR(r,t);return new rR(i,c,this.afs)}snapshotChanges(){return function pV(n,e){return eR(n,e).pipe(Os(void 0),iA(),(0,st.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(nr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,st.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,mn.D)(this.ref.get(e)).pipe(nr.iC)}}class _V{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?rw(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ai(t=>t.length>0),nr.iC):rw(this.query,this.afs.schedulers.outsideAngular).pipe(nr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Tv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=nR(e);return tR(this.query,t,this.afs.schedulers.outsideAngular).pipe(nr.iC)}valueChanges(e={}){return uA(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),nr.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(nr.iC)}}const yV=new u.OlP("angularfire2.enableFirestorePersistence"),vV=new u.OlP("angularfire2.firestore.persistenceSettings"),CV=new u.OlP("angularfire2.firestore.settings"),bV=new u.OlP("angularfire2.firestore.use-emulator");function oR(n,e=(t=>t)){return{query:e(n),ref:n}}let dA=(()=>{class n{constructor(t,r,i,c,d,m,C,I,S,R,$,ee,ue,Oe,Be,Pt,Ht){this.schedulers=C;const Lt=(0,Xo.on)(t,m,r),Vt=S;R&&qP(Lt,m,$,ue,Oe,Be,ee,Pt),[this.firestore,this.persistenceEnabled$]=(0,Xo.cc)(`${Lt.name}.firestore`,"AngularFirestore",Lt.name,()=>{const Ut=m.runOutsideAngular(()=>Lt.firestore());if(c&&Ut.settings(c),Vt&&Ut.useEmulator(...Vt),i&&!nu(d)){const zt=()=>{try{return(0,mn.D)(Ut.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(Kr){return typeof console<"u"&&console.warn(Kr),it(!1)}};return[Ut,m.runOutsideAngular(zt)]}return[Ut,it(!1)]},[c,Vt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:d}=oR(i,r),m=this.schedulers.ngZone.run(()=>c);return new rR(m,d,this)}collectionGroup(t,r){const i=r||(d=>d),c=this.firestore.collectionGroup(t);return new _V(i(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new iR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Xo.Dh),u.LFG(Xo.xv,8),u.LFG(yV,8),u.LFG(CV,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(nr.HU),u.LFG(vV,8),u.LFG(bV,8),u.LFG(tw,8),u.LFG(BP,8),u.LFG(jP,8),u.LFG(HP,8),u.LFG($P,8),u.LFG(GP,8),u.LFG(zP,8),u.LFG(nA,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class gl{constructor(e,t){this.firebaseAuth=e,this.firebaseFirestore=t,this.isSignedIn=!1,this.resetPasswordSent=!1,this.errorMessage=""}signIn(e,t){var r=this;return(0,fe.Z)(function*(){yield r.firebaseAuth.signInWithEmailAndPassword(e,t).then(i=>{r.isSignedIn=!0,localStorage.setItem("user",i.user?.uid),localStorage.setItem("email",e)},i=>{switch(i.code){case"auth/wrong-password":r.errorMessage="Senha incorreta.";break;case"auth/invalid-email":r.errorMessage="Email inv\xe1lido.";break;case"auth/user-not-found":r.errorMessage="Usu\xe1rio n\xe3o encontrado.";break;case"auth/too-many-requests":r.errorMessage="Tentativas de login excedidas. Por favor aguarde."}})})()}recoveryPassword(e){var t=this;return(0,fe.Z)(function*(){yield t.firebaseAuth.sendPasswordResetEmail(e).then(()=>{t.resetPasswordSent=!0},r=>{switch(r.code){case"auth/invalid-email":t.errorMessage="Email inv\xe1lido.";break;case"auth/user-not-found":t.errorMessage="Usu\xe1rio n\xe3o encontrado.";break;case"auth/too-many-requests":t.errorMessage="Tentativas de login excedidas. Por favor aguarde.";break;case"auth/missing-email":t.errorMessage="Preencha o campo de email."}})})()}signUp(e,t,r){var i=this;return(0,fe.Z)(function*(){yield i.firebaseAuth.createUserWithEmailAndPassword(e,t).then(function(){var c=(0,fe.Z)(function*(d){return i.isSignedIn=!0,yield i.firebaseFirestore.collection("Users").doc(d?.user?.uid).set({name:r}),localStorage.setItem("user",d?.user?.uid),localStorage.setItem("email",e),i.saveUserInfo(e,d?.user?.uid),i.createDatabase(d?.user?.uid,r),i.addMember(d?.user?.uid),d?.user?.uid});return function(d){return c.apply(this,arguments)}}(),c=>{switch(c.code){case"auth/email-already-in-use":i.errorMessage="Email j\xe1 cadastrado.";break;case"auth/invalid-email":i.errorMessage="Email inv\xe1lido.";break;case"auth/too-many-requests":i.errorMessage="Tentativas de login excedidas. Por favor aguarde."}})})()}saveUserInfo(e,t){var r=this;return(0,fe.Z)(function*(){let i=localStorage.getItem("user");yield r.firebaseFirestore.collection("UserInfo").doc(e).set({uid:i,savedDb:t})})()}createDatabase(e,t){this.firebaseFirestore.collection("Database").doc(e).collection("Years").doc("2023").collection("Months").doc("01").collection("Bills").doc("default").set({default:"default"}),this.firebaseFirestore.collection("Database").doc(e).set({members:[e]}),this.firebaseFirestore.collection("Database").doc(e).set({owner:t})}addMember(e){let t=localStorage.getItem("user");this.firebaseFirestore.collection("Database").doc(t).update({members:iL(e)})}getInvitedUid(e){return this.firebaseFirestore.collection("UserInfo").doc(e).valueChanges()}logout(){localStorage.removeItem("user"),localStorage.removeItem("email"),this.firebaseAuth.signOut()}getUserData(){let e=localStorage.getItem("user");if(e)return this.firebaseFirestore.collection("Users").doc(e).valueChanges()}getUserInfo(e){return this.firebaseFirestore.collection("UserInfo").doc(e).valueChanges()}getDatabaseOwner(){return this.firebaseFirestore.collection("Database").valueChanges()}getCurrentDatabaseOwner(e){return this.firebaseFirestore.collection("Database").doc(e).valueChanges()}updateName(e){let t=localStorage.getItem("user");!t||this.firebaseFirestore.collection("Users").doc(t).update({name:e})}getBills(e,t,r){return this.firebaseFirestore.collection("Database").doc(r).collection("Years").doc(e).collection("Months").doc(t).collection("Bills",i=>i.orderBy("createdAt","desc")).snapshotChanges()}deleteBill(e,t,r,i){!localStorage.getItem("user")||this.firebaseFirestore.collection("Database").doc(i).collection("Years").doc(e).collection("Months").doc(t).collection("Bills").doc(r).delete()}}gl.\u0275fac=function(e){return new(e||gl)(u.LFG(tw),u.LFG(dA))},gl.\u0275prov=u.Yz7({token:gl,factory:gl.\u0275fac,providedIn:"root"});class Ba extends ro.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function sR(n){return new ji.y(e=>{(0,Ia.Xf)(n()).subscribe(e)})}var EV=k(9635);function hA(){return(0,fn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,T.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,c=t;t=null,i&&(!c||i===c)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class aR extends ji.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,fn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new cd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,T.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=cd.w0.EMPTY)}return e}refCount(){return hA()(this)}}function fA(n){return n<=0?()=>Cn.E:(0,fn.e)((e,t)=>{let r=[];e.subscribe((0,T.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function cR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ai((i,c)=>n(i,c,r)):io.y,fA(1),t?ZE(e):mP(()=>new WE))}const Yt="primary",Ov=Symbol("RouteTitle");class DV{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function rm(n){return new DV(n)}function MV(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let c=0;c<r.length;c++){const d=r[c],m=n[c];if(d.startsWith(":"))i[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Wc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let c=0;c<t.length;c++)if(i=t[c],!uR(n[i],e[i]))return!1;return!0}function uR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,c)=>r[c]===i)}return n===e}function lR(n){return Array.prototype.concat.apply([],n)}function dR(n){return n.length>0?n[n.length-1]:null}function Oi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Zd(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,mn.D)(Promise.resolve(n)):it(n)}const iw=!1,AV={exact:function pR(n,e,t){if(!Qf(n.segments,e.segments)||!ow(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!pR(n.children[r],e.children[r],t))return!1;return!0},subset:gR},hR={exact:function SV(n,e){return Wc(n,e)},subset:function xV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uR(n[t],e[t]))},ignored:()=>!0};function fR(n,e,t){return AV[t.paths](n.root,e.root,t.matrixParams)&&hR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function gR(n,e,t){return mR(n,e,e.segments,t)}function mR(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Qf(i,t)||e.hasChildren()||!ow(i,t,r))}if(n.segments.length===t.length){if(!Qf(n.segments,t)||!ow(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!gR(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(Qf(n.segments,i)&&ow(n.segments,i,r)&&n.children[Yt])&&mR(n.children[Yt],e,c,r)}}function ow(n,e,t){return e.every((r,i)=>hR[t](n[i].parameters,r.parameters))}class Yf{constructor(e=new Xt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rm(this.queryParams)),this._queryParamMap}toString(){return RV.serialize(this)}}class Xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Oi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sw(this)}}class Pv{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=rm(this.parameters)),this._parameterMap}toString(){return vR(this)}}function Qf(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Rv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new pA},providedIn:"root"}),n})();class pA{parse(e){const t=new HV(e);return new Yf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Nv(e.root,!0)}`,r=function FV(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${aw(t)}=${aw(i)}`).join("&"):`${aw(t)}=${aw(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function NV(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const RV=new pA;function sw(n){return n.segments.map(e=>vR(e)).join("/")}function Nv(n,e){if(!n.hasChildren())return sw(n);if(e){const t=n.children[Yt]?Nv(n.children[Yt],!1):"",r=[];return Oi(n.children,(i,c)=>{c!==Yt&&r.push(`${c}:${Nv(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function PV(n,e){let t=[];return Oi(n.children,(r,i)=>{i===Yt&&(t=t.concat(e(r,i)))}),Oi(n.children,(r,i)=>{i!==Yt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Yt?[Nv(n.children[Yt],!1)]:[`${i}:${Nv(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Yt]?`${sw(n)}/${t[0]}`:`${sw(n)}/(${t.join("//")})`}}function _R(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function aw(n){return _R(n).replace(/%3B/gi,";")}function gA(n){return _R(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cw(n){return decodeURIComponent(n)}function yR(n){return cw(n.replace(/\+/g,"%20"))}function vR(n){return`${gA(n.path)}${function kV(n){return Object.keys(n).map(e=>`;${gA(e)}=${gA(n[e])}`).join("")}(n.parameters)}`}const LV=/^[^\/()?;=#]+/;function uw(n){const e=n.match(LV);return e?e[0]:""}const VV=/^[^=?&#]+/,BV=/^[^&#]+/;class HV{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Yt]=new Xt(e,t)),r}parseSegment(){const e=uw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,iw);return this.capture(e),new Pv(cw(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=uw(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=uw(this.remaining);i&&(r=i,this.capture(r))}e[cw(t)]=cw(r)}parseQueryParam(e){const t=function UV(n){const e=n.match(VV);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function jV(n){const e=n.match(BV);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=yR(t),c=yR(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(c)}else e[i]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=uw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,iw);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=Yt);const d=this.parseChildren();t[c]=1===Object.keys(d).length?d[Yt]:new Xt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,iw)}}function mA(n){return n.segments.length>0?new Xt([],{[Yt]:n}):n}function lw(n){const e={};for(const r of Object.keys(n.children)){const c=lw(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function $V(n){if(1===n.numberOfChildren&&n.children[Yt]){const e=n.children[Yt];return new Xt(n.segments.concat(e.segments),e.children)}return n}(new Xt(n.segments,e))}function Jf(n){return n instanceof Yf}function qV(n,e,t,r,i){if(0===t.length)return im(e.root,e.root,e.root,r,i);const c=function ER(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bR(!0,0,n);let e=0,t=!1;const r=n.reduce((i,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return Oi(c.outlets,(C,I)=>{m[I]="string"==typeof C?C.split("/"):C}),[...i,{outlets:m}]}if(c.segmentPath)return[...i,c.segmentPath]}return"string"!=typeof c?[...i,c]:0===d?(c.split("/").forEach((m,C)=>{0==C&&"."===m||(0==C&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,c]},[]);return new bR(t,e,r)}(t);return c.toRoot()?im(e.root,e.root,new Xt([],{}),r,i):function d(C){const I=function ZV(n,e,t,r){if(n.isAbsolute)return new om(e.root,!0,0);if(-1===r)return new om(t,t===e.root,0);return function wR(n,e,t){let r=n,i=e,c=t;for(;c>i;){if(c-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new om(r,!1,i-c)}(t,r+(kv(n.commands[0])?0:1),n.numberOfDoubleDots)}(c,e,n.snapshot?._urlSegment,C),S=I.processChildren?Lv(I.segmentGroup,I.index,c.commands):yA(I.segmentGroup,I.index,c.commands);return im(e.root,I.segmentGroup,S,r,i)}(n.snapshot?._lastPathIndex)}function kv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fv(n){return"object"==typeof n&&null!=n&&n.outlets}function im(n,e,t,r,i){let d,c={};r&&Oi(r,(C,I)=>{c[I]=Array.isArray(C)?C.map(S=>`${S}`):`${C}`}),d=n===e?t:CR(n,e,t);const m=mA(lw(d));return new Yf(m,c,i)}function CR(n,e,t){const r={};return Oi(n.children,(i,c)=>{r[c]=i===e?t:CR(i,e,t)}),new Xt(n.segments,r)}class bR{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&kv(r[0]))throw new u.vHH(4003,!1);const i=r.find(Fv);if(i&&i!==dR(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class om{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function yA(n,e,t){if(n||(n=new Xt([],{})),0===n.segments.length&&n.hasChildren())return Lv(n,e,t);const r=function YV(n,e,t){let r=0,i=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return c;const d=n.segments[i],m=t[r];if(Fv(m))break;const C=`${m}`,I=r<t.length-1?t[r+1]:null;if(i>0&&void 0===C)break;if(C&&I&&"object"==typeof I&&void 0===I.outlets){if(!DR(C,I,d))return c;r+=2}else{if(!DR(C,{},d))return c;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Xt(n.segments.slice(0,r.pathIndex),{});return c.children[Yt]=new Xt(n.segments.slice(r.pathIndex),n.children),Lv(c,0,i)}return r.match&&0===i.length?new Xt(n.segments,{}):r.match&&!n.hasChildren()?vA(n,e,t):r.match?Lv(n,0,i):vA(n,e,t)}function Lv(n,e,t){if(0===t.length)return new Xt(n.segments,{});{const r=function KV(n){return Fv(n[0])?n[0].outlets:{[Yt]:n}}(t),i={};return Oi(r,(c,d)=>{"string"==typeof c&&(c=[c]),null!==c&&(i[d]=yA(n.children[d],e,c))}),Oi(n.children,(c,d)=>{void 0===r[d]&&(i[d]=c)}),new Xt(n.segments,i)}}function vA(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const c=t[i];if(Fv(c)){const C=QV(c.outlets);return new Xt(r,C)}if(0===i&&kv(t[0])){r.push(new Pv(n.segments[e].path,IR(t[0]))),i++;continue}const d=Fv(c)?c.outlets[Yt]:`${c}`,m=i<t.length-1?t[i+1]:null;d&&m&&kv(m)?(r.push(new Pv(d,IR(m))),i+=2):(r.push(new Pv(d,{})),i++)}return new Xt(r,{})}function QV(n){const e={};return Oi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=vA(new Xt([],{}),0,t))}),e}function IR(n){const e={};return Oi(n,(t,r)=>e[r]=`${t}`),e}function DR(n,e,t){return n==t.path&&Wc(e,t.parameters)}class ml{constructor(e,t){this.id=e,this.url=t}}class CA extends ml{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xf extends ml{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dw extends ml{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class MR extends ml{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class JV extends ml{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XV extends ml{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eU extends ml{constructor(e,t,r,i,c){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tU extends ml{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nU extends ml{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rU{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class iU{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oU{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sU{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aU{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cU{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TR{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let lU=(()=>{class n{createUrlTree(t,r,i,c,d,m){return qV(t||r.root,i,c,d,m)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),dU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){return lU.\u0275fac(e)},providedIn:"root"}),n})();class AR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bA(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=bA(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=EA(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return EA(e,this._root).map(t=>t.value)}}function bA(n,e){if(n===e.value)return e;for(const t of e.children){const r=bA(n,t);if(r)return r}return null}function EA(n,e){if(n===e.value)return[e];for(const t of e.children){const r=EA(n,t);if(r.length)return r.unshift(e),r}return[]}class _l{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function sm(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class SR extends AR{constructor(e,t){super(e),this.snapshot=t,wA(this,e)}toString(){return this.snapshot.toString()}}function xR(n,e){const t=function hU(n,e){const d=new hw([],{},{},"",{},Yt,e,null,n.root,-1,{});return new PR("",new _l(d,[]))}(n,e),r=new Ba([new Pv("",{})]),i=new Ba({}),c=new Ba({}),d=new Ba({}),m=new Ba(""),C=new am(r,i,d,m,c,Yt,e,t.root);return C.snapshot=t.root,new SR(new _l(C,[]),t)}class am{constructor(e,t,r,i,c,d,m,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,st.U)(I=>I[Ov]))??it(void 0),this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(e=>rm(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(e=>rm(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OR(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],c=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(c.component)break;r--}}return function fU(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class hw{constructor(e,t,r,i,c,d,m,C,I,S,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=d,this.component=m,this.routeConfig=C,this._urlSegment=I,this._lastPathIndex=S,this._resolve=R}get title(){return this.data?.[Ov]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class PR extends AR{constructor(e,t){super(t),this.url=e,wA(this,t)}toString(){return RR(this._root)}}function wA(n,e){e.value._routerState=n,e.children.forEach(t=>wA(n,t))}function RR(n){const e=n.children.length>0?` { ${n.children.map(RR).join(", ")} } `:"";return`${n.value}${e}`}function IA(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Wc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Wc(e.params,t.params)||n.params.next(t.params),function TV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Wc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Wc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function DA(n,e){const t=Wc(n.params,e.params)&&function OV(n,e){return Qf(n,e)&&n.every((t,r)=>Wc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||DA(n.parent,e.parent))}function Vv(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function gU(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Vv(n,r,i);return Vv(n,r)})}(n,e,t);return new _l(r,i)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Vv(n,m)),d}}const r=function mU(n){return new am(new Ba(n.url),new Ba(n.params),new Ba(n.queryParams),new Ba(n.fragment),new Ba(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(c=>Vv(n,c));return new _l(r,i)}}const MA="ngNavigationCancelingError";function NR(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Jf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=kR(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function kR(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[MA]=!0,r.cancellationCode=e,t&&(r.url=t),r}function FR(n){return LR(n)&&Jf(n.url)}function LR(n){return n&&n[MA]}class _U{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Uv,this.attachRef=null}}let Uv=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _U,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fw=!1;let TA=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Yt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(Uv),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,fw);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,fw);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,fw);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,fw);this._activatedRoute=t;const i=this.location,d=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,C=new yU(t,m,i.injector);if(r&&function vU(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(d);this.activated=i.createComponent(I,i.length,C)}else this.activated=i.createComponent(d,{index:i.length,injector:C,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class yU{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===am?this.route:e===Uv?this.childContexts:this.parent.get(e,t)}}let AA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[TA],encapsulation:2}),n})();function VR(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xA(n){const e=n.children&&n.children.map(xA),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Yt&&(t.component=AA),t}function Zs(n){return n.outlet||Yt}function UR(n,e){const t=n.filter(r=>Zs(r)===e);return t.push(...n.filter(r=>Zs(r)!==e)),t}function Bv(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class IU{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),IA(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=sm(t);e.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,i[d],r),delete i[d]}),Oi(i,(c,d)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(i===c)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=sm(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],i);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=sm(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=sm(t);e.children.forEach(c=>{this.activateRoutes(c,i[c.value.outlet],r),this.forwardEvent(new cU(c.value.snapshot))}),e.children.length&&this.forwardEvent(new sU(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(IA(i),i===c)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),IA(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=Bv(i.snapshot),C=m?.get(u._Vd)??null;d.attachRef=null,d.route=i,d.resolver=C,d.injector=m,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class BR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class pw{constructor(e,t){this.component=e,this.route=t}}function DU(n,e,t){const r=n._root;return jv(r,e?e._root:null,t,[r.value])}function cm(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function jv(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=sm(e);return n.children.forEach(d=>{(function TU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const C=function AU(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Qf(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Qf(n.url,e.url)||!Wc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!DA(n,e)||!Wc(n.queryParams,e.queryParams);default:return!DA(n,e)}}(d,c,c.routeConfig.runGuardsAndResolvers);C?i.canActivateChecks.push(new BR(r)):(c.data=d.data,c._resolvedData=d._resolvedData),jv(n,e,c.component?m?m.children:null:t,r,i),C&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new pw(m.outlet.component,d))}else d&&Hv(e,m,i),i.canActivateChecks.push(new BR(r)),jv(n,null,c.component?m?m.children:null:t,r,i)})(d,c[d.value.outlet],t,r.concat([d.value]),i),delete c[d.value.outlet]}),Oi(c,(d,m)=>Hv(d,t.getContext(m),i)),i}function Hv(n,e,t){const r=sm(n),i=n.value;Oi(r,(c,d)=>{Hv(c,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new pw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function $v(n){return"function"==typeof n}function OA(n){return n instanceof WE||"EmptyError"===n?.name}const gw=Symbol("INITIAL_VALUE");function um(){return di(n=>z(n.map(e=>e.pipe(Oo(1),Os(gw)))).pipe((0,st.U)(e=>{for(const t of e)if(!0!==t){if(t===gw)return gw;if(!1===t||t instanceof Yf)return t}return!0}),ai(e=>e!==gw),Oo(1)))}function jR(n){return(0,EV.z)((0,Cr.b)(e=>{if(Jf(e))throw NR(0,e)}),(0,st.U)(e=>!0===e))}const PA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HR(n,e,t,r,i){const c=RA(n,e,t);return c.matched?function zU(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?it(i.map(d=>{const m=cm(d,n);return Zd(function NU(n){return n&&$v(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(um(),jR()):it(!0)}(r=VR(e,r),e,t).pipe((0,st.U)(d=>!0===d?c:{...PA})):it(c)}function RA(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...PA}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||MV)(t,n,e);if(!i)return{...PA};const c={};Oi(i.posParams,(m,C)=>{c[C]=m.path});const d=i.consumed.length>0?{...c,...i.consumed[i.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function mw(n,e,t,r){if(t.length>0&&function ZU(n,e,t){return t.some(r=>_w(n,e,r)&&Zs(r)!==Yt)}(n,t,r)){const c=new Xt(e,function WU(n,e,t,r){const i={};i[Yt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&Zs(c)!==Yt){const d=new Xt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Zs(c)]=d}return i}(n,e,r,new Xt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function KU(n,e,t){return t.some(r=>_w(n,e,r))}(n,t,r)){const c=new Xt(n.segments,function qU(n,e,t,r,i){const c={};for(const d of r)if(_w(n,t,d)&&!i[Zs(d)]){const m=new Xt([],{});m._sourceSegment=n,m._segmentIndexShift=e.length,c[Zs(d)]=m}return{...i,...c}}(n,e,t,r,n.children));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const i=new Xt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function _w(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function $R(n,e,t,r){return!!(Zs(n)===r||r!==Yt&&_w(e,t,n))&&("**"===n.path||RA(e,n,t).matched)}function GR(n,e,t){return 0===e.length&&!n.children[t]}const yw=!1;class vw{constructor(e){this.segmentGroup=e||null}}class zR{constructor(e){this.urlTree=e}}function Gv(n){return ad(new vw(n))}function qR(n){return ad(new zR(n))}class XU{constructor(e,t,r,i,c){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=c,this.allowRedirects=!0}apply(){const e=mw(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Yt).pipe((0,st.U)(c=>this.createUrlTree(lw(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Rs(c=>{if(c instanceof zR)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof vw?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Yt).pipe((0,st.U)(i=>this.createUrlTree(lw(i),e.queryParams,e.fragment))).pipe(Rs(i=>{throw i instanceof vw?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,yw)}createUrlTree(e,t,r){const i=mA(e);return new Yf(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,st.U)(c=>new Xt([],c))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const c of Object.keys(r.children))"primary"===c?i.unshift(c):i.push(c);return(0,mn.D)(i).pipe(Ic(c=>{const d=r.children[c],m=UR(t,c);return this.expandSegmentGroup(e,m,d,c).pipe((0,st.U)(C=>({segment:C,outlet:c})))}),Tv((c,d)=>(c[d.outlet]=d.segment,c),{}),cR())}expandSegment(e,t,r,i,c,d){return(0,mn.D)(r).pipe(Ic(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,c,d).pipe(Rs(I=>{if(I instanceof vw)return it(null);throw I}))),pl(m=>!!m),Rs((m,C)=>{if(OA(m))return GR(t,i,c)?it(new Xt([],{})):Gv(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,c,d,m){return $R(i,t,c,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,c,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,c,d):Gv(t):Gv(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,c,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?qR(c):this.lineralizeSegments(r,c).pipe((0,wi.z)(d=>{const m=new Xt(d,{});return this.expandSegment(e,m,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,d){const{matched:m,consumedSegments:C,remainingSegments:I,positionalParamSegments:S}=RA(t,i,c);if(!m)return Gv(t);const R=this.applyRedirectCommands(C,i.redirectTo,S);return i.redirectTo.startsWith("/")?qR(R):this.lineralizeSegments(i,R).pipe((0,wi.z)($=>this.expandSegment(e,t,r,$.concat(I),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,c){return"**"===r.path?(e=VR(r,e),r.loadChildren?(r._loadedRoutes?it({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,st.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Xt(i,{})))):it(new Xt(i,{}))):HR(t,r,i,e).pipe(di(({matched:d,consumedSegments:m,remainingSegments:C})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,wi.z)(S=>{const R=S.injector??e,$=S.routes,{segmentGroup:ee,slicedSegments:ue}=mw(t,m,C,$),Oe=new Xt(ee.segments,ee.children);if(0===ue.length&&Oe.hasChildren())return this.expandChildren(R,$,Oe).pipe((0,st.U)(Lt=>new Xt(m,Lt)));if(0===$.length&&0===ue.length)return it(new Xt(m,{}));const Be=Zs(r)===c;return this.expandSegment(R,Oe,$,ue,Be?Yt:c,!0).pipe((0,st.U)(Ht=>new Xt(m.concat(Ht.segments),Ht.children)))})):Gv(t)))}getChildConfig(e,t,r){return t.children?it({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?it({routes:t._loadedRoutes,injector:t._loadedInjector}):function GU(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?it(!0):it(i.map(d=>{const m=cm(d,n);return Zd(function xU(n){return n&&$v(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(um(),jR())}(e,t,r).pipe((0,wi.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Cr.b)(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function QU(n){return ad(kR(yw,3))}())):it({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return it(r);if(i.numberOfChildren>1||!i.children[Yt])return ad(new u.vHH(4e3,yw));i=i.children[Yt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const c=this.createSegmentGroup(e,t.root,r,i);return new Yf(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Oi(e,(i,c)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[c]=t[m]}else r[c]=i}),r}createSegmentGroup(e,t,r,i){const c=this.createSegments(e,t.segments,r,i);let d={};return Oi(t.children,(m,C)=>{d[C]=this.createSegmentGroup(e,m,r,i)}),new Xt(c,d)}createSegments(e,t,r,i){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,i):this.findOrReturn(c,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,yw);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class t2{}class i2{constructor(e,t,r,i,c,d,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=c,this.paramsInheritanceStrategy=d,this.urlSerializer=m}recognize(){const e=mw(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Yt).pipe((0,st.U)(t=>{if(null===t)return null;const r=new hw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Yt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new _l(r,t),c=new PR(this.url,i);return this.inheritParamsAndData(c._root),c}))}inheritParamsAndData(e){const t=e.value,r=OR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,mn.D)(Object.keys(r.children)).pipe(Ic(i=>{const c=r.children[i],d=UR(t,i);return this.processSegmentGroup(e,d,c,i)}),Tv((i,c)=>i&&c?(i.push(...c),i):null),function wV(n,e=!1){return(0,fn.e)((t,r)=>{let i=0;t.subscribe((0,T.x)(r,c=>{const d=n(c,i++);(d||e)&&r.next(c),!d&&r.complete()}))})}(i=>null!==i),ZE(null),cR(),(0,st.U)(i=>{if(null===i)return null;const c=ZR(i);return function o2(n){n.sort((e,t)=>e.value.outlet===Yt?-1:t.value.outlet===Yt?1:e.value.outlet.localeCompare(t.value.outlet))}(c),c}))}processSegment(e,t,r,i,c){return(0,mn.D)(t).pipe(Ic(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,c)),pl(d=>!!d),Rs(d=>{if(OA(d))return GR(r,i,c)?it([]):it(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,c){if(t.redirectTo||!$R(t,r,i,c))return it(null);let d;if("**"===t.path){const m=i.length>0?dR(i).parameters:{},C=YR(r)+i.length;d=it({snapshot:new hw(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QR(t),Zs(t),t.component??t._loadedComponent??null,t,KR(r),C,JR(t)),consumedSegments:[],remainingSegments:[]})}else d=HR(r,t,i,e).pipe((0,st.U)(({matched:m,consumedSegments:C,remainingSegments:I,parameters:S})=>{if(!m)return null;const R=YR(r)+C.length;return{snapshot:new hw(C,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,QR(t),Zs(t),t.component??t._loadedComponent??null,t,KR(r),R,JR(t)),consumedSegments:C,remainingSegments:I}}));return d.pipe(di(m=>{if(null===m)return it(null);const{snapshot:C,consumedSegments:I,remainingSegments:S}=m;e=t._injector??e;const R=t._loadedInjector??e,$=function s2(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:ee,slicedSegments:ue}=mw(r,I,S,$.filter(Be=>void 0===Be.redirectTo));if(0===ue.length&&ee.hasChildren())return this.processChildren(R,$,ee).pipe((0,st.U)(Be=>null===Be?null:[new _l(C,Be)]));if(0===$.length&&0===ue.length)return it([new _l(C,[])]);const Oe=Zs(t)===c;return this.processSegment(R,$,ee,ue,Oe?Yt:c).pipe((0,st.U)(Be=>null===Be?null:[new _l(C,Be)]))}))}}function a2(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ZR(n){const e=[],t=new Set;for(const r of n){if(!a2(r)){e.push(r);continue}const i=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ZR(r.children);e.push(new _l(r.value,i))}return e.filter(r=>!t.has(r))}function KR(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function YR(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function QR(n){return n.data||{}}function JR(n){return n.resolve||{}}function XR(n){return"string"==typeof n.title||null===n.title}function NA(n){return di(e=>{const t=n(e);return t?(0,mn.D)(t).pipe((0,st.U)(()=>e)):it(e)})}const lm=new u.OlP("ROUTES");let kA=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return it(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Zd(t.loadComponent()).pipe((0,st.U)(t1),(0,Cr.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),Np(()=>{this.componentLoaders.delete(t)})),i=new aR(r,()=>new ro.x).pipe(hA());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return it({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,st.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let C,I,S=!1;Array.isArray(m)?I=m:(C=m.create(t).injector,I=lR(C.get(lm,[],u.XFs.Self|u.XFs.Optional)));return{routes:I.map(xA),injector:C}}),Np(()=>{this.childrenLoaders.delete(r)})),d=new aR(c,()=>new ro.x).pipe(hA());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Zd(t()).pipe((0,st.U)(t1),(0,wi.z)(i=>i instanceof u.YKP||Array.isArray(i)?it(i):(0,mn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function t1(n){return function m2(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let FA=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ro.x,this.configLoader=(0,u.f3M)(kA),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(Rv),this.rootContexts=(0,u.f3M)(Uv),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new iU(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new rU(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ba({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ai(r=>0!==r.id),(0,st.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),di(r=>{let i=!1,c=!1;return it(r).pipe((0,Cr.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),di(d=>{const m=t.browserUrlTree.toString(),C=!t.navigated||d.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||C)&&t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return r1(d.source)&&(t.browserUrlTree=d.extractedUrl),it(d).pipe(di(S=>{const R=this.transitions?.getValue();return this.events.next(new CA(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),R!==this.transitions?.getValue()?Cn.E:Promise.resolve(S)}),function e2(n,e,t,r){return di(i=>function JU(n,e,t,r,i){return new XU(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,st.U)(c=>({...i,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Cr.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function u2(n,e,t,r,i){return(0,wi.z)(c=>function r2(n,e,t,r,i,c,d="emptyOnly"){return new i2(n,e,t,r,i,d,c).recognize().pipe(di(m=>null===m?function n2(n){return new ji.y(e=>e.error(n))}(new t2):it(m)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i).pipe((0,st.U)(d=>({...c,targetSnapshot:d}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Cr.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const $=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl($,S)}t.browserUrlTree=S.urlAfterRedirects}const R=new JV(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(R)}));if(C&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:R,extractedUrl:$,source:ee,restoredState:ue,extras:Oe}=d,Be=new CA(R,this.urlSerializer.serialize($),ee,ue);this.events.next(Be);const Pt=xR($,t.rootComponentType).snapshot;return it(r={...d,targetSnapshot:Pt,urlAfterRedirects:$,extras:{...Oe,skipLocationChange:!1,replaceUrl:!1}})}return t.rawUrlTree=d.rawUrl,d.resolve(null),Cn.E}),(0,Cr.b)(d=>{const m=new XV(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),(0,st.U)(d=>r={...d,guards:DU(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function FU(n,e){return(0,wi.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:c,canDeactivateChecks:d}}=t;return 0===d.length&&0===c.length?it({...t,guardsResult:!0}):function LU(n,e,t,r){return(0,mn.D)(n).pipe((0,wi.z)(i=>function $U(n,e,t,r,i){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?it(c.map(m=>{const C=Bv(e)??i,I=cm(m,C);return Zd(function RU(n){return n&&$v(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):C.runInContext(()=>I(n,e,t,r))).pipe(pl())})).pipe(um()):it(!0)}(i.component,i.route,t,e,r)),pl(i=>!0!==i,!0))}(d,r,i,n).pipe((0,wi.z)(m=>m&&function SU(n){return"boolean"==typeof n}(m)?function VU(n,e,t,r){return(0,mn.D)(e).pipe(Ic(i=>ut(function BU(n,e){return null!==n&&e&&e(new oU(n)),it(!0)}(i.route.parent,r),function UU(n,e){return null!==n&&e&&e(new aU(n)),it(!0)}(i.route,r),function HU(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(d=>function MU(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>sR(()=>it(d.guards.map(C=>{const I=Bv(d.node)??t,S=cm(C,I);return Zd(function PU(n){return n&&$v(n.canActivateChild)}(S)?S.canActivateChild(r,n):I.runInContext(()=>S(r,n))).pipe(pl())})).pipe(um())));return it(c).pipe(um())}(n,i.path,t),function jU(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return it(!0);const i=r.map(c=>sR(()=>{const d=Bv(e)??t,m=cm(c,d);return Zd(function OU(n){return n&&$v(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(pl())}));return it(i).pipe(um())}(n,i.route,t))),pl(i=>!0!==i,!0))}(r,c,n,e):it(m)),(0,st.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),(0,Cr.b)(d=>{if(r.guardsResult=d.guardsResult,Jf(d.guardsResult))throw NR(0,d.guardsResult);const m=new eU(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),ai(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3,t),!1)),NA(d=>{if(d.guards.canActivateChecks.length)return it(d).pipe((0,Cr.b)(m=>{const C=new tU(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(C)}),di(m=>{let C=!1;return it(m).pipe(function l2(n,e){return(0,wi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return it(t);let c=0;return(0,mn.D)(i).pipe(Ic(d=>function d2(n,e,t,r){const i=n.routeConfig,c=n._resolve;return void 0!==i?.title&&!XR(i)&&(c[Ov]=i.title),function h2(n,e,t,r){const i=function f2(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return it({});const c={};return(0,mn.D)(i).pipe((0,wi.z)(d=>function p2(n,e,t,r){const i=Bv(e)??r,c=cm(n,i);return Zd(c.resolve?c.resolve(e,t):i.runInContext(()=>c(e,t)))}(n[d],e,t,r).pipe(pl(),(0,Cr.b)(m=>{c[d]=m}))),fA(1),function IV(n){return(0,st.U)(()=>n)}(c),Rs(d=>OA(d)?Cn.E:ad(d)))}(c,n,e,r).pipe((0,st.U)(d=>(n._resolvedData=d,n.data=OR(n,t).resolve,i&&XR(i)&&(n.data[Ov]=i.title),null)))}(d.route,r,n,e)),(0,Cr.b)(()=>c++),fA(1),(0,wi.z)(d=>c===i.length?it(t):Cn.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Cr.b)({next:()=>C=!0,complete:()=>{C||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2,t))}}))}),(0,Cr.b)(m=>{const C=new nU(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(C)}))}),NA(d=>{const m=C=>{const I=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(C.routeConfig).pipe((0,Cr.b)(S=>{C.component=S}),(0,st.U)(()=>{})));for(const S of C.children)I.push(...m(S));return I};return z(m(d.targetSnapshot.root)).pipe(ZE(),Oo(1))}),NA(()=>t.afterPreactivation()),(0,st.U)(d=>{const m=function pU(n,e,t){const r=Vv(n,e._root,t?t._root:void 0);return new SR(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:m}}),(0,Cr.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,st.U)(r=>(new IU(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d)),(0,Cr.b)({next:d=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Xf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{i=!0}}),Np(()=>{i||c||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Rs(d=>{if(c=!0,LR(d)){FR(d)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new dw(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),FR(d)){const C=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||r1(r.source)};t.scheduleNavigation(C,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new MR(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(d))}catch(C){r.reject(C)}}return Cn.E}))}))}cancelNavigationTransition(t,r,i,c){const d=new dw(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(d),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function r1(n){return"imperative"!==n}let o1=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(c=>c.outlet===Yt);return r}getResolvedTitleForRoute(t){return t.data[Ov]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(_2)},providedIn:"root"}),n})(),_2=(()=>{class n extends o1{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Is))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(C2)},providedIn:"root"}),n})();class v2{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let C2=(()=>{class n extends v2{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cw=new u.OlP("",{providedIn:"root",factory:()=>({})});let E2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(w2)},providedIn:"root"}),n})(),w2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function I2(n){throw n}function D2(n,e,t){return e.parse("/")}const M2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zi=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(Cw,{optional:!0})||{},this.errorHandler=this.options.errorHandler||I2,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||D2,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>it(void 0),this.urlHandlingStrategy=(0,u.f3M)(E2),this.routeReuseStrategy=(0,u.f3M)(y2),this.urlCreationStrategy=(0,u.f3M)(dU),this.titleStrategy=(0,u.f3M)(o1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=lR((0,u.f3M)(lm,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(FA),this.urlSerializer=(0,u.f3M)(Rv),this.location=(0,u.f3M)(Fe),this.rootComponentType=null,this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xR(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},c=t.state?.navigationId?t.state:null;if(t.state){const m={...t.state};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(i.state=m)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,c,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(xA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:c,fragment:d,queryParamsHandling:m,preserveFragment:C}=r,I=C?this.currentUrlTree.fragment:d;let S=null;switch(m){case"merge":S={...this.currentUrlTree.queryParams,...c};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=c||null}return null!==S&&(S=this.removeEmptyProps(S)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,S,I??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Jf(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function A2(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...M2}:!1===r?{...T2}:r,Jf(t))return fR(this.currentUrlTree,t,i);const c=this.parseUrl(t);return fR(this.currentUrlTree,c,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const c=t[i];return null!=c&&(r[i]=c),r},{})}scheduleNavigation(t,r,i,c,d){if(this.disposed)return Promise.resolve(!1);let m,C,I,S;return d?(m=d.resolve,C=d.reject,I=d.promise):I=new Promise((R,$)=>{m=R,C=$}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),S=i&&i.\u0275routerPageId?i.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.navigationTransitions.handleNavigationRequest({targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:c,resolve:m,reject:C,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(R=>Promise.reject(R))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),c={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",c):this.location.go(i,"",c)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class a1{}let O2=(()=>{class n{constructor(t,r,i,c,d){this.router=t,this.injector=i,this.preloadingStrategy=c,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(ai(t=>t instanceof Xf),Ic(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,u.MMx)(c.providers,t,`Route: ${c.path}`));const d=c._injector??t,m=c._loadedInjector??d;c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent?i.push(this.preloadConfig(d,c)):(c.children||c._loadedRoutes)&&i.push(this.processRoutes(m,c.children??c._loadedRoutes))}return(0,mn.D)(i).pipe((0,Qe.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):it(null);const c=i.pipe((0,wi.z)(d=>null===d?it(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,mn.D)([c,d]).pipe((0,Qe.J)())}return c})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(zi),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(a1),u.LFG(kA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VA=new u.OlP("");let c1=(()=>{class n{constructor(t,r,i,c,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=c,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof CA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof TR&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new TR(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function hm(n,e){return{\u0275kind:n,\u0275providers:e}}function l1(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(zi),i=n.get(d1);1===n.get(BA)&&r.initialNavigation(),n.get(h1,null,u.XFs.Optional)?.setUpPreloading(),n.get(VA,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const d1=new u.OlP("",{factory:()=>new ro.x}),BA=new u.OlP("",{providedIn:"root",factory:()=>1});const h1=new u.OlP("");function F2(n){return hm(0,[{provide:h1,useExisting:O2},{provide:a1,useExisting:n}])}const f1=new u.OlP("ROUTER_FORROOT_GUARD"),L2=[Fe,{provide:Rv,useClass:pA},zi,Uv,{provide:am,useFactory:function u1(n){return n.routerState.root},deps:[zi]},kA,[]];function V2(){return new u.PXZ("Router",zi)}let p1=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[L2,[],{provide:lm,multi:!0,useValue:t},{provide:f1,useFactory:H2,deps:[[zi,new u.FiY,new u.tp0]]},{provide:Cw,useValue:r||{}},r?.useHash?{provide:rt,useClass:we}:{provide:rt,useClass:De},{provide:VA,useFactory:()=>{const n=(0,u.f3M)(Eo),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(Cw),r=(0,u.f3M)(FA),i=(0,u.f3M)(Rv);return t.scrollOffset&&n.setOffset(t.scrollOffset),new c1(i,r,n,e,t)}},r?.preloadingStrategy?F2(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:V2},r?.initialNavigation?$2(r):[],[{provide:g1,useFactory:l1},{provide:u.tb,multi:!0,useExisting:g1}]]}}static forChild(t){return{ngModule:n,providers:[{provide:lm,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(f1,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[AA]}),n})();function H2(n){return"guarded"}function $2(n){return["disabled"===n.initialNavigation?hm(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(zi);return()=>{e.setUpLocationChangeListener()}}},{provide:BA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?hm(2,[{provide:BA,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(de,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const c=e.get(zi),d=e.get(d1);(function r(i){e.get(zi).events.pipe(ai(d=>d instanceof Xf||d instanceof dw||d instanceof MR),(0,st.U)(d=>d instanceof Xf||d instanceof dw&&(0===d.code||1===d.code)&&null),ai(d=>null!==d),Oo(1)).subscribe(()=>{i()})})(()=>{i(!0)}),c.afterPreactivation=()=>(i(!0),d.closed?it(void 0):d),c.initialNavigation()}))}}]).\u0275providers:[]]}const g1=new u.OlP("");let m1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),ep=(()=>{class n extends m1{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Zc=new u.OlP("NgValueAccessor"),z2={provide:Zc,useExisting:(0,u.Gpc)(()=>jA),multi:!0};let jA=(()=>{class n extends ep{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(c){return r.onChange(c.target.checked)})("blur",function(){return r.onTouched()})},features:[u._Bn([z2]),u.qOj]}),n})();const q2={provide:Zc,useExisting:(0,u.Gpc)(()=>fm),multi:!0},Z2=new u.OlP("CompositionEventMode");let fm=(()=>{class n extends m1{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function W2(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Z2,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u._Bn([q2]),u.qOj]}),n})();function Kd(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function _1(n){return null!=n&&"number"==typeof n.length}const qi=new u.OlP("NgValidators"),Yd=new u.OlP("NgAsyncValidators"),Y2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _o{static min(e){return function y1(n){return e=>{if(Kd(e.value)||Kd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function v1(n){return e=>{if(Kd(e.value)||Kd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function C1(n){return Kd(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function b1(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function E1(n){return Kd(n.value)||Y2.test(n.value)?null:{email:!0}}(e)}static minLength(e){return w1(e)}static maxLength(e){return I1(e)}static pattern(e){return function D1(n){if(!n)return bw;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Kd(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return O1(e)}static composeAsync(e){return P1(e)}}function w1(n){return e=>Kd(e.value)||!_1(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function I1(n){return e=>_1(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function bw(n){return null}function M1(n){return null!=n}function T1(n){return(0,u.QGY)(n)?(0,mn.D)(n):n}function A1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function S1(n,e){return e.map(t=>t(n))}function x1(n){return n.map(e=>function Q2(n){return!n.validate}(e)?e:t=>e.validate(t))}function O1(n){if(!n)return null;const e=n.filter(M1);return 0==e.length?null:function(t){return A1(S1(t,e))}}function HA(n){return null!=n?O1(x1(n)):null}function P1(n){if(!n)return null;const e=n.filter(M1);return 0==e.length?null:function(t){return l_(S1(t,e).map(T1)).pipe((0,st.U)(A1))}}function $A(n){return null!=n?P1(x1(n)):null}function R1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function N1(n){return n._rawValidators}function k1(n){return n._rawAsyncValidators}function GA(n){return n?Array.isArray(n)?n:[n]:[]}function Ew(n,e){return Array.isArray(n)?n.includes(e):n===e}function F1(n,e){const t=GA(e);return GA(n).forEach(i=>{Ew(t,i)||t.push(i)}),t}function L1(n,e){return GA(e).filter(t=>!Ew(n,t))}class V1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$A(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class yo extends V1{get formDirective(){return null}get path(){return null}}class Qd extends V1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class U1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ww=(()=>{class n extends U1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Qd,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),B1=(()=>{class n extends U1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yo,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();const qv="VALID",Dw="INVALID",pm="PENDING",Wv="DISABLED";function ZA(n){return(Mw(n)?n.validators:n)||null}function KA(n,e){return(Mw(e)?e.asyncValidators:n)||null}function Mw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function H1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")}function $1(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,"")})}class Tw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===qv}get invalid(){return this.status===Dw}get pending(){return this.status==pm}get disabled(){return this.status===Wv}get enabled(){return this.status!==Wv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(F1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(F1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(L1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(L1(e,this._rawAsyncValidators))}hasValidator(e){return Ew(this._rawValidators,e)}hasAsyncValidator(e){return Ew(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pm,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wv,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qv,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qv||this.status===pm)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wv:qv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pm,this._hasOwnPendingAsyncValidator=!0;const t=T1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Wv:this.errors?Dw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pm)?pm:this._anyControlsHaveStatus(Dw)?Dw:qv}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function iB(n){return Array.isArray(n)?HA(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function oB(n){return Array.isArray(n)?$A(n):n||null}(this._rawAsyncValidators)}}class Zv extends Tw{constructor(e,t,r){super(ZA(t),KA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$1(this,0,e),Object.keys(e).forEach(r=>{H1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,c)=>{r=t(r,i,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class G1 extends Zv{}const gm=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Aw}),Aw="always";function Sw(n,e){return[...e.path,n]}function Kv(n,e,t=Aw){YA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function aB(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&z1(n,e)})}(n,e),function uB(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function cB(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&z1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function sB(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function xw(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Pw(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ow(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function YA(n,e){const t=N1(n);null!==e.validator?n.setValidators(R1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=k1(n);null!==e.asyncValidator?n.setAsyncValidators(R1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ow(e._rawValidators,i),Ow(e._rawAsyncValidators,i)}function Pw(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=N1(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(d=>d!==e.validator);c.length!==i.length&&(t=!0,n.setValidators(c))}}if(null!==e.asyncValidator){const i=k1(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(d=>d!==e.asyncValidator);c.length!==i.length&&(t=!0,n.setAsyncValidators(c))}}}const r=()=>{};return Ow(e._rawValidators,r),Ow(e._rawAsyncValidators,r),t}function z1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function JA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function XA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(c=>{c.constructor===fm?t=c:function hB(n){return Object.getPrototypeOf(n.constructor)===ep}(c)?r=c:i=c}),i||r||t||null}function Z1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function K1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Qv=class extends Tw{constructor(e=null,t,r){super(ZA(t),KA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=K1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Z1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Z1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){K1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},_B={provide:Qd,useExisting:(0,u.Gpc)(()=>Rw)},J1=(()=>Promise.resolve())();let Rw=(()=>{class n extends Qd{constructor(t,r,i,c,d,m){super(),this._changeDetectorRef=d,this.callSetDisabledState=m,this.control=new Qv,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=XA(0,c)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),JA(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){J1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.D6c)(r);J1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Sw(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yo,9),u.Y36(qi,10),u.Y36(Yd,10),u.Y36(Zc,10),u.Y36(u.sBO,8),u.Y36(gm,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([_B]),u.qOj,u.TTD]}),n})(),X1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const yB={provide:Zc,useExisting:(0,u.Gpc)(()=>tS),multi:!0};let tS=(()=>{class n extends ep{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([yB]),u.qOj]}),n})(),eN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const nS=new u.OlP("NgModelWithFormControlWarning"),wB={provide:yo,useExisting:(0,u.Gpc)(()=>Nw)};let Nw=(()=>{class n extends yo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Kv(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){xw(t.control||null,t,!1),function fB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function W1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(xw(r||null,t),(n=>n instanceof Qv)(i)&&(Kv(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function q1(n,e){YA(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function lB(n,e){return Pw(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){YA(this.form,this),this._oldForm&&Pw(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(qi,10),u.Y36(Yd,10),u.Y36(gm,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([wB]),u.qOj,u.TTD]}),n})();const MB={provide:Qd,useExisting:(0,u.Gpc)(()=>oS)};let oS=(()=>{class n extends Qd{constructor(t,r,i,c,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=XA(0,c)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),JA(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Sw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(yo,13),u.Y36(qi,10),u.Y36(Yd,10),u.Y36(Zc,10),u.Y36(nS,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([MB]),u.qOj,u.TTD]}),n})();const TB={provide:Zc,useExisting:(0,u.Gpc)(()=>kw),multi:!0};function oN(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let kw=(()=>{class n extends ep{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=oN(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function AB(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([TB]),u.qOj]}),n})(),sN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(oN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(kw,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const SB={provide:Zc,useExisting:(0,u.Gpc)(()=>sS),multi:!0};function aN(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let sS=(()=>{class n extends ep{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(c=>this._getOptionId(c));r=(c,d)=>{c._setSelected(i.indexOf(d.toString())>-1)}}else r=(i,c)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],c=r.selectedOptions;if(void 0!==c){const d=c;for(let m=0;m<d.length;m++){const I=this._getOptionValue(d[m].value);i.push(I)}}else{const d=r.options;for(let m=0;m<d.length;m++){const C=d[m];if(C.selected){const I=this._getOptionValue(C.value);i.push(I)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function xB(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([SB]),u.qOj]}),n})(),cN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(aN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(aN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(sS,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function uN(n){return"number"==typeof n?n:parseInt(n,10)}let tp=(()=>{class n{constructor(){this._validator=bw}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bw,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const FB={provide:qi,useExisting:(0,u.Gpc)(()=>cS),multi:!0};let cS=(()=>{class n extends tp{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>uN(t),this.createValidator=t=>w1(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[u._Bn([FB]),u.qOj]}),n})();const LB={provide:qi,useExisting:(0,u.Gpc)(()=>Fw),multi:!0};let Fw=(()=>{class n extends tp{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>uN(t),this.createValidator=t=>I1(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[u._Bn([LB]),u.qOj]}),n})(),mN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[eN]}),n})(),UB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gm,useValue:t.callSetDisabledState??Aw}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mN]}),n})(),_N=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nS,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gm,useValue:t.callSetDisabledState??Aw}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mN]}),n})();class yN extends Tw{constructor(e,t,r){super(ZA(t),KA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){$1(this,0,e),e.forEach((r,i)=>{H1(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function vN(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let BB=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let c={};return vN(r)?c=r:null!==r&&(c.validators=r.validator,c.asyncValidators=r.asyncValidator),new Zv(i,c)}record(t,r=null){const i=this._reduceControls(t);return new G1(i,r)}control(t,r,i){let c={};return this.useNonNullable?(vN(r)?c=r:(c.validators=r,c.asyncValidators=i),new Qv(t,{...c,nonNullable:!0})):new Qv(t,r,i)}array(t,r,i){const c=t.map(d=>this._createControl(d));return new yN(c,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Qv||t instanceof Tw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:_N}),n})();function jB(n,e){1&n&&(u.TgZ(0,"p"),u._uU(1,"carregando dados..."),u.qZA())}function HB(n,e){if(1&n&&(u.TgZ(0,"p",6),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.hij("",t.greetingMessage+t.userName,"!")}}function $B(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",7),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.goToSettings())}),u.TgZ(1,"mat-icon"),u._uU(2,"settings"),u.qZA()()}}function GB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",7),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.goToSettings())}),u.TgZ(1,"mat-icon"),u._uU(2,"arrow_back"),u.qZA()()}}function zB(n,e){if(1&n&&(u.TgZ(0,"p"),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.hij("Hoje \xe9 ",t.weekDay+", "+t.day+" de "+t.month+" de "+t.year,"")}}class Jv{constructor(e,t){this.firebaseService=e,this.router=t,this.weekDay="",this.day=0,this.month="",this.year=0,this.isSettings=!1,this.settingsEmitter=new u.vpe,this.userName="",this.loadingData=!1,this.date=new Date,this.hour=this.date.getHours(),this.greetingMessage=""}ngOnInit(){this.hour=this.date.getHours(),this.greetingMessage=this.hour>=6&&this.hour<=11?"Bom dia, ":this.hour>=12&&this.hour<=18?"Boa tarde, ":"Boa Noite, ",localStorage.getItem("user")&&this.getUserData()}getUserData(){this.loadingData=!0,this.firebaseService.getUserData()?.subscribe(e=>{this.userName=e.name,this.loadingData=!1})}goToSettings(){this.isSettings=!this.isSettings,this.settingsEmitter.emit()}}Jv.\u0275fac=function(e){return new(e||Jv)(u.Y36(gl),u.Y36(zi))},Jv.\u0275cmp=u.Xpm({type:Jv,selectors:[["app-header"]],inputs:{weekDay:"weekDay",day:"day",month:"month",year:"year",theme:"theme",isSettings:"isSettings"},outputs:{settingsEmitter:"settingsEmitter"},decls:8,vars:6,consts:[[1,"container",3,"ngClass"],[1,"content"],[4,"ngIf"],["class","username",4,"ngIf"],[3,"click",4,"ngIf"],[1,"today"],[1,"username"],[3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,jB,2,0,"p",2),u.YNc(3,HB,2,1,"p",3),u.YNc(4,$B,3,0,"a",4),u.YNc(5,GB,3,0,"a",4),u.qZA(),u.TgZ(6,"div",5),u.YNc(7,zB,2,1,"p",2),u.qZA()()),2&e&&(u.Q6J("ngClass",t.theme),u.xp6(2),u.Q6J("ngIf",t.loadingData),u.xp6(1),u.Q6J("ngIf",!t.loadingData),u.xp6(1),u.Q6J("ngIf",!t.loadingData&&!t.isSettings),u.xp6(1),u.Q6J("ngIf",!t.loadingData&&t.isSettings),u.xp6(2),u.Q6J("ngIf",!t.loadingData))},dependencies:[yr,hn,Fp],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:var(--darkest);width:100vw}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:90%;max-width:600px;height:40px;padding:10px 14px 0;color:var(--font-header);font-weight:700;font-size:18px}.container[_ngcontent-%COMP%]   .today[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:90%;max-width:600px;margin-bottom:18px;font-size:14px;font-weight:600;color:var(--font-header)}.container[_ngcontent-%COMP%]   .members[_ngcontent-%COMP%]{background-color:var(--mid);text-align:center;font-size:12px;padding:8px 0;font-weight:700;width:100%;color:var(--font-header)}"]});class Xv{}Xv.\u0275fac=function(e){return new(e||Xv)},Xv.\u0275cmp=u.Xpm({type:Xv,selectors:[["app-footer"]],inputs:{theme:"theme"},decls:3,vars:1,consts:[[1,"container",3,"ngClass"],[1,"content"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u._uU(2," Desenvolvido por @wendeoo | 2023 "),u.qZA()()),2&e&&u.Q6J("ngClass",t.theme)},dependencies:[yr],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100vw;height:27px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:27px;background-color:var(--darkest);padding:0 14px;color:#fafafa;font-size:12px;font-weight:600}"]});class mm{}function qB(n,e){if(1&n&&(u.TgZ(0,"div",20),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.formattedBillValue)}}function WB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",21),u.NdJ("ngModelChange",function(i){u.CHM(t);const c=u.oxw();return u.KtG(c.billData.billValue=i)}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngModel",t.billData.billValue)}}function ZB(n,e){if(1&n&&(u.TgZ(0,"div",22),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.ekj("date-paid",t.billData.isPaid),u.xp6(1),u.hij("Venc. ",t.billData.billDate," ")}}function KB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",23)(1,"label"),u._uU(2,"Venc."),u.qZA(),u.TgZ(3,"input",24),u.NdJ("ngModelChange",function(i){u.CHM(t);const c=u.oxw();return u.KtG(c.billData.billDate=i)}),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(3),u.Q6J("ngModel",t.billData.billDate)}}function YB(n,e){if(1&n&&(u.TgZ(0,"div",25),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.billData.billName)}}function QB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",26),u.NdJ("ngModelChange",function(i){u.CHM(t);const c=u.oxw();return u.KtG(c.billData.billName=i)}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngModel",t.billData.billName)}}function JB(n,e){1&n&&(u.TgZ(0,"label"),u._uU(1,"T\xe1 pago!"),u.qZA())}function XB(n,e){if(1&n&&(u.TgZ(0,"p",27),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.hij("Pago em ",t.billData.billPaidDate,"")}}function ej(n,e){if(1&n&&(u.TgZ(0,"p",28),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.hij("por ",t.billData.paidBy,"")}}function tj(n,e){1&n&&(u.TgZ(0,"div",29)(1,"mat-icon"),u._uU(2,"access_time"),u.qZA(),u.TgZ(3,"p"),u._uU(4,"atraso"),u.qZA()())}function nj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",30),u.NdJ("ngModelChange",function(i){u.CHM(t);const c=u.oxw();return u.KtG(c.billData.billPaidDate=i)}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngModel",t.billData.billPaidDate)}}function rj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"mat-icon",31),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.billEdit())}),u._uU(2,"edit"),u.qZA()()}}function ij(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",32),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.deleteBill())}),u.TgZ(1,"p"),u._uU(2,"Deletar"),u.qZA(),u.TgZ(3,"mat-icon",33),u._uU(4,"delete_forever"),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(3),u.ekj("bill-editing",t.billData.isEditing)}}function oj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",34),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.saveEdit(i.billData.id))}),u.TgZ(1,"p"),u._uU(2,"Salvar"),u.qZA(),u.TgZ(3,"mat-icon",35),u._uU(4,"save"),u.qZA()()}if(2&n){const t=u.oxw();u.ekj("disabled",t.billData.billValue<=0),u.xp6(3),u.ekj("bill-editing",t.billData.isEditing)}}mm.\u0275fac=function(e){return new(e||mm)},mm.\u0275cmp=u.Xpm({type:mm,selectors:[["app-loader"]],inputs:{theme:"theme"},decls:1,vars:1,consts:[[1,"flipping",3,"ngClass"]],template:function(e,t){1&e&&u._UZ(0,"div",0),2&e&&u.Q6J("ngClass",t.theme)},dependencies:[yr],styles:[".flipping[_ngcontent-%COMP%]{width:50px;height:50px;background:var(--button);transform:perspective(168px) rotateX(0);animation:_ngcontent-%COMP%_flipping-qayox5md .75s infinite}@keyframes _ngcontent-%COMP%_flipping-qayox5md{to{transform:perspective(168px) rotateX(180deg)}}"]});class eC{constructor(e,t){this.firebaseService=e,this.firebaseFirestore=t,this.paidBy="",this.deleteEmitter=new u.vpe,this.billPaidEmitter=new u.vpe,this.isEditing=!1,this.lockIcon="lock_open",this.billData={billName:"",billValue:0,billDate:"",billPaidDate:"",isPaid:!1,isEditing:!0,isSaved:!1,isExpired:!1,createdAt:0,id:"",paidBy:""}}ngOnInit(){this.compareDates()}get formattedBillValue(){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}).format(this.billData.billValue)}billPaid(){this.billData.isPaid=!this.billData.isPaid,this.billData.paidBy=this.billData.isPaid?this.paidBy:"",this.billPaidEmitter.emit();const e=this.selectedPeriod.split("-");this.updateBill(e[0],e[1],this.billData.id,this.billData)}billEdit(){this.billData.isEditing=!0}saveEdit(e){var t=this;return(0,fe.Z)(function*(){if(t.billData.billValue>0){""===t.billData.billName&&(t.billData.billName="(nova conta)"),t.billData.isEditing=!1,t.formatDate();const r=t.selectedPeriod.split("-"),i=r[0],c=r[1];if(t.billData.isSaved&&t.billData.id)t.updateBill(i,c,e,t.billData),t.compareDates();else{if(t.billData.isSaved=!0,t.billData.createdAt=(new Date).getTime(),!localStorage.getItem("user"))return;yield t.firebaseFirestore.collection("Database").doc(t.selectedDb).collection("Years").doc(i).collection("Months").doc(c).collection("Bills").add(t.billData).then(function(){var m=(0,fe.Z)(function*(C){t.billData.id=C.id});return function(C){return m.apply(this,arguments)}}()),t.compareDates()}}})()}updateBill(e,t,r,i){this.firebaseFirestore.collection("Database").doc(this.selectedDb).collection("Years").doc(e).collection("Months").doc(t).collection("Bills").doc(r).update(i)}compareDates(){var e=this.billData.billDate,t=e.split("/");e=t[1]+"/"+t[0]+"/"+t[2];var r=new Date(e);let i=(new Date).getTime();var c=this.billData.billPaidDate,d=c.split("/"),m=d[1];parseInt(m)<=9&&(m="0"+m),c=m+"/"+d[0]+"/"+d[2],this.billData.isExpired=r.getTime()<i}formatDate(){this.billData.billDate=this.billData.billDate.split("-").reverse().join("/"),this.billData.billPaidDate=this.billData.billPaidDate.split("-").reverse().join("/")}deleteBill(){this.deleteEmitter.emit();const e=this.selectedPeriod.split("-");this.firebaseService.deleteBill(e[0],e[1],this.billData.id,this.selectedDb)}}function sj(n,e){if(1&n&&(u.TgZ(0,"p"),u._uU(1,"Conta selecionada: "),u.TgZ(2,"strong"),u._uU(3),u.qZA()()),2&n){const t=u.oxw();u.xp6(3),u.Oqu(t.dbOwner)}}function aj(n,e){1&n&&(u.TgZ(0,"p"),u._uU(1,"..."),u.qZA())}function cj(n,e){1&n&&u._UZ(0,"div",24)}function uj(n,e){if(1&n&&(u.TgZ(0,"div",24),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Oqu(t.selectedDate)}}function lj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",25),u.NdJ("ngModelChange",function(i){u.CHM(t);const c=u.oxw(2);return u.KtG(c.monthYear=i)}),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("ngModel",t.monthYear)}}function dj(n,e){1&n&&(u.TgZ(0,"mat-icon"),u._uU(1,"date_range"),u.qZA())}function hj(n,e){1&n&&(u.TgZ(0,"mat-icon"),u._uU(1,"save"),u.qZA())}function fj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",26)(1,"mat-icon",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.filterBills())}),u._uU(2,"view_headline"),u.qZA(),u.TgZ(3,"p",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.filterBills())}),u._uU(4),u.qZA()()}if(2&n){const t=u.oxw(2);u.xp6(4),u.hij("exibir: ",t.filterName,"")}}function pj(n,e){1&n&&(u.TgZ(0,"div",27)(1,"mat-icon"),u._uU(2,"error_outline"),u.qZA(),u._uU(3," N\xe3o h\xe1 contas cadastradas"),u._UZ(4,"br"),u._uU(5,"para o m\xeas selecionado. "),u.qZA())}function gj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"app-bill-card",30),u.NdJ("billPaidEmitter",function(){u.CHM(t);const i=u.oxw(3);return u.KtG(i.checkPaidBills())})("deleteEmitter",function(){const c=u.CHM(t).index,d=u.oxw(3);return u.KtG(d.removeBill(c))}),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.Q6J("billData",t)("today",r.today)("selectedPeriod",r.monthYear)("selectedDb",r.selectedDatabase)("paidBy",r.userName)}}function mj(n,e){if(1&n&&(u.TgZ(0,"div",28),u.YNc(1,gj,1,5,"app-bill-card",29),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",t.bills)}}function _j(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",8)(1,"div",9),u.YNc(2,cj,1,0,"div",10),u.YNc(3,uj,2,1,"div",10),u.YNc(4,lj,1,1,"input",11),u.TgZ(5,"div",12),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.editMonth())}),u.YNc(6,dj,2,0,"mat-icon",3),u.YNc(7,hj,2,0,"mat-icon",3),u.qZA()(),u.TgZ(8,"div",13)(9,"div",14)(10,"div",15),u._uU(11),u.qZA(),u.TgZ(12,"div",16),u._uU(13),u.qZA()(),u.TgZ(14,"div",17)(15,"p"),u._uU(16,"Nova Conta"),u.qZA(),u.TgZ(17,"mat-icon",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.createNewBill())}),u._uU(18,"note_add"),u.qZA()()(),u.TgZ(19,"div",19),u.YNc(20,fj,5,1,"div",20),u.TgZ(21,"div",21),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.refreshBills())}),u.TgZ(22,"mat-icon"),u._uU(23,"sync"),u.qZA(),u.TgZ(24,"p"),u._uU(25,"sincronizar"),u.qZA()()(),u.YNc(26,pj,6,0,"div",22),u.YNc(27,mj,2,1,"div",23),u.qZA()}if(2&n){const t=u.oxw();u.xp6(2),u.Q6J("ngIf",""===t.selectedDate),u.xp6(1),u.Q6J("ngIf",!t.isEditingMonth),u.xp6(1),u.Q6J("ngIf",t.isEditingMonth),u.xp6(2),u.Q6J("ngIf",!t.isEditingMonth),u.xp6(1),u.Q6J("ngIf",t.isEditingMonth),u.xp6(4),u.hij("Total Pago: ",t.valueCalc("paid"),""),u.xp6(2),u.hij("Em Aberto: ",t.valueCalc("unpaid"),""),u.xp6(7),u.Q6J("ngIf",t.allBills.length),u.xp6(6),u.Q6J("ngIf",!t.allBills.length),u.xp6(1),u.Q6J("ngIf",""!==t.selectedDate)}}function yj(n,e){1&n&&(u.TgZ(0,"p",71),u._uU(1,"Alterar Nome:"),u.qZA())}function vj(n,e){1&n&&(u.TgZ(0,"p",71),u._uU(1,"Novo Nome:"),u.qZA())}function Cj(n,e){if(1&n&&(u.TgZ(0,"p",72),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Oqu(t.userName)}}function bj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",73),u.NdJ("ngModelChange",function(i){u.CHM(t);const c=u.oxw(2);return u.KtG(c.newName=i)}),u.qZA()}if(2&n){const t=u.oxw(2);u.s9C("placeholder",t.userName),u.Q6J("ngModel",t.newName)}}function Ej(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"mat-icon",74),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.isEditingName=!0)}),u._uU(1,"edit"),u.qZA()}}function wj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"mat-icon",74),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.saveName())}),u._uU(1,"save"),u.qZA()}}function Ij(n,e){1&n&&(u.TgZ(0,"div",75),u._uU(1," Insira o email de um usu\xe1rio j\xe1 cadastrado para compartilhar sua conta. "),u.qZA())}function Dj(n,e){if(1&n&&(u.TgZ(0,"div",76),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.hij(" ",t.inviteErrorMessage," ")}}function Mj(n,e){1&n&&(u.TgZ(0,"div",77),u._uU(1," Usu\xe1rio convidado com sucesso. Agora ele(a) poder\xe1 acessar o seu banco de dados. "),u.qZA())}function Tj(n,e){if(1&n&&(u.TgZ(0,"option",78)(1,"p"),u._uU(2),u.qZA()()),2&n){const t=e.index,r=u.oxw(2);u.s9C("value",r.myDBs[t]),u.xp6(2),u.hij("Conta ",t+1,"")}}function Aj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",31)(1,"div",32),u._uU(2,"Op\xe7\xf5es"),u.qZA(),u.TgZ(3,"div",33)(4,"div",34)(5,"div",35),u.YNc(6,yj,2,0,"p",36),u.YNc(7,vj,2,0,"p",36),u.YNc(8,Cj,2,1,"p",37),u.YNc(9,bj,1,2,"input",38),u.YNc(10,Ej,2,0,"mat-icon",39),u.YNc(11,wj,2,0,"mat-icon",39),u.qZA(),u.TgZ(12,"div",40),u._uU(13," Altere o nome de exibi\xe7\xe3o. Tamb\xe9m altera o nome da conta. "),u.qZA()(),u.TgZ(14,"div",41)(15,"div",42)(16,"p"),u._uU(17,"Tema:"),u.qZA(),u.TgZ(18,"div",43)(19,"select",44,45),u.NdJ("change",function(){u.CHM(t);const i=u.MAs(20),c=u.oxw();return u.KtG(c.getValue(i.value))})("ngModelChange",function(i){u.CHM(t);const c=u.oxw();return u.KtG(c.theme=i)}),u.TgZ(21,"option",46),u._uU(22,"Padr\xe3o"),u.qZA(),u.TgZ(23,"option",47),u._uU(24,"Quente"),u.qZA(),u.TgZ(25,"option",48),u._uU(26,"Frio"),u.qZA(),u.TgZ(27,"option",49),u._uU(28,"Dinheiro"),u.qZA(),u.TgZ(29,"option",50),u._uU(30,"Doce"),u.qZA(),u.TgZ(31,"option",51),u._uU(32,"Natureza"),u.qZA(),u.TgZ(33,"option",52),u._uU(34,"Neg\xf3cios"),u.qZA(),u.TgZ(35,"option",53),u._uU(36,"Caf\xe9"),u.qZA(),u.TgZ(37,"option",54),u._uU(38,"Violeta"),u.qZA()()()(),u.TgZ(39,"div",55),u._uU(40," Altera o esquema de cores. "),u.qZA()(),u.TgZ(41,"div",56)(42,"div",57)(43,"p"),u._uU(44,"Convidar:"),u.qZA(),u.TgZ(45,"input",58),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.clearInviteInput())})("ngModelChange",function(i){u.CHM(t);const c=u.oxw();return u.KtG(c.inviteEmail=i)}),u.qZA(),u.TgZ(46,"mat-icon",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.checkEmailRegistration(i.inviteEmail))}),u._uU(47,"send"),u.qZA()(),u.YNc(48,Ij,2,0,"div",59),u.YNc(49,Dj,2,1,"div",60),u.YNc(50,Mj,2,0,"div",61),u.qZA(),u.TgZ(51,"div",62)(52,"div",63)(53,"p"),u._uU(54,"Conta:"),u.qZA(),u.TgZ(55,"div",64)(56,"select",44,65),u.NdJ("change",function(){u.CHM(t);const i=u.MAs(57),c=u.oxw();return u.KtG(c.changeMyDatabase(i.value))})("ngModelChange",function(i){u.CHM(t);const c=u.oxw();return u.KtG(c.selectedDatabase=i)}),u.TgZ(58,"option",66),u._uU(59,"Escolha..."),u.qZA(),u.YNc(60,Tj,3,2,"option",67),u.qZA()(),u.TgZ(61,"p",68),u._uU(62),u.qZA(),u.TgZ(63,"mat-icon",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.saveUserInfo())}),u._uU(64,"save"),u.qZA()(),u.TgZ(65,"div",69),u._uU(66," Alterne entre as contas que voc\xea tem acesso. "),u.qZA()()(),u.TgZ(67,"div",70)(68,"a",18),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.logout())}),u._uU(69,"Sair da Conta"),u.TgZ(70,"mat-icon"),u._uU(71,"exit_to_app"),u.qZA()()()()}if(2&n){const t=u.oxw();u.xp6(6),u.Q6J("ngIf",!t.isEditingName),u.xp6(1),u.Q6J("ngIf",t.isEditingName),u.xp6(1),u.Q6J("ngIf",!t.isEditingName),u.xp6(1),u.Q6J("ngIf",t.isEditingName),u.xp6(1),u.Q6J("ngIf",!t.isEditingName),u.xp6(1),u.Q6J("ngIf",t.isEditingName),u.xp6(8),u.Q6J("ngModel",t.theme),u.xp6(26),u.Q6J("ngModel",t.inviteEmail),u.xp6(3),u.Q6J("ngIf",!t.invitationError&&!t.invitationSuccess),u.xp6(1),u.Q6J("ngIf",t.invitationError&&!t.invitationSuccess),u.xp6(1),u.Q6J("ngIf",!t.invitationError&&t.invitationSuccess),u.xp6(6),u.Q6J("ngModel",t.selectedDatabase),u.xp6(4),u.Q6J("ngForOf",t.myDBs),u.xp6(2),u.Oqu(": "+t.dbOwner)}}function Sj(n,e){1&n&&(u.TgZ(0,"div",79),u._UZ(1,"app-loader"),u.qZA())}function xj(n,e){if(1&n&&u._UZ(0,"app-footer",80),2&n){const t=u.oxw();u.Q6J("theme",t.theme)}}eC.\u0275fac=function(e){return new(e||eC)(u.Y36(gl),u.Y36(dA))},eC.\u0275cmp=u.Xpm({type:eC,selectors:[["app-bill-card"]],inputs:{today:"today",selectedPeriod:"selectedPeriod",selectedDb:"selectedDb",paidBy:"paidBy",billData:"billData"},outputs:{deleteEmitter:"deleteEmitter",billPaidEmitter:"billPaidEmitter"},decls:21,vars:20,consts:[[1,"bill-card"],[1,"bill-header"],["class","bill-value",4,"ngIf"],["type","number","class","value-input","placeholder","R$ 0,00",3,"ngModel","ngModelChange",4,"ngIf"],["class","bill-date",3,"date-paid",4,"ngIf"],["class","editing-date",4,"ngIf"],[1,"bill-middle"],["class","bill-name",4,"ngIf"],["class","name-input","placeholder","Nova conta",3,"ngModel","ngModelChange",4,"ngIf"],[1,"bill-bottom"],[1,"payment-info"],["id","checkbox-paid","type","checkbox",3,"disabled","ngModel","ngModelChange","click"],[4,"ngIf"],["class","paid-notice",4,"ngIf"],["class","paid-by",4,"ngIf"],["class","expired-notice",4,"ngIf"],["type","date","class","paid-date-input",3,"ngModel","ngModelChange",4,"ngIf"],[1,"icons"],["class","delete",3,"click",4,"ngIf"],["class","save",3,"disabled","click",4,"ngIf"],[1,"bill-value"],["type","number","placeholder","R$ 0,00",1,"value-input",3,"ngModel","ngModelChange"],[1,"bill-date"],[1,"editing-date"],["type","date",1,"date-input",3,"ngModel","ngModelChange"],[1,"bill-name"],["placeholder","Nova conta",1,"name-input",3,"ngModel","ngModelChange"],[1,"paid-notice"],[1,"paid-by"],[1,"expired-notice"],["type","date",1,"paid-date-input",3,"ngModel","ngModelChange"],[1,"bill-edit",3,"click"],[1,"delete",3,"click"],[1,"bill-delete"],[1,"save",3,"click"],[1,"bill-save"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,qB,2,1,"div",2),u.YNc(3,WB,1,1,"input",3),u.YNc(4,ZB,2,3,"div",4),u.YNc(5,KB,4,1,"div",5),u.qZA(),u.TgZ(6,"div",6),u.YNc(7,YB,2,1,"div",7),u.YNc(8,QB,1,1,"input",8),u.qZA(),u.TgZ(9,"div",9)(10,"div",10)(11,"input",11),u.NdJ("ngModelChange",function(i){return t.billData.isPaid=i})("click",function(){return t.billPaid()}),u.qZA(),u.YNc(12,JB,2,0,"label",12),u.YNc(13,XB,2,1,"p",13),u.YNc(14,ej,2,1,"p",14),u.YNc(15,tj,5,0,"div",15),u.YNc(16,nj,1,1,"input",16),u.qZA(),u.TgZ(17,"div",17),u.YNc(18,rj,3,0,"div",12),u.YNc(19,ij,5,2,"div",18),u.YNc(20,oj,5,4,"div",19),u.qZA()()()),2&e&&(u.ekj("bill-paid",t.billData.isPaid)("bill-editing",t.billData.isEditing),u.xp6(2),u.Q6J("ngIf",!t.billData.isEditing),u.xp6(1),u.Q6J("ngIf",t.billData.isEditing),u.xp6(1),u.Q6J("ngIf",!t.billData.isEditing),u.xp6(1),u.Q6J("ngIf",t.billData.isEditing),u.xp6(2),u.Q6J("ngIf",!t.billData.isEditing),u.xp6(1),u.Q6J("ngIf",t.billData.isEditing),u.xp6(3),u.Q6J("disabled",t.billData.isEditing)("ngModel",t.billData.isPaid),u.xp6(1),u.Q6J("ngIf",!t.billData.isEditing&&!t.billData.isPaid),u.xp6(1),u.Q6J("ngIf",!t.billData.isEditing&&t.billData.isPaid),u.xp6(1),u.Q6J("ngIf",t.billData.isPaid&&!t.billData.isEditing),u.xp6(1),u.Q6J("ngIf",!t.billData.isEditing&&t.billData.isExpired&&!t.billData.isPaid),u.xp6(1),u.Q6J("ngIf",t.billData.isEditing&&t.billData.isPaid),u.xp6(2),u.Q6J("ngIf",!t.billData.isEditing),u.xp6(1),u.Q6J("ngIf",t.billData.isEditing),u.xp6(1),u.Q6J("ngIf",t.billData.isEditing))},dependencies:[hn,Fp,fm,tS,jA,ww,Rw],styles:[".bill-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;width:80vw;max-width:500px;padding:8px;border-radius:8px;background-color:var(--card-not-paid)}.bill-card[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;width:100%;color:#fafafa;margin-bottom:4px}.bill-card[_ngcontent-%COMP%]   .lock.bill-editing[_ngcontent-%COMP%]{color:#2e2e2e}.bill-card[_ngcontent-%COMP%]   .lock[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;padding-left:6px}.bill-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:1px;border-radius:5px;padding:3px;border-width:2px}.bill-card.bill-paid[_ngcontent-%COMP%]{background-color:var(--card-paid)}.bill-card.bill-editing[_ngcontent-%COMP%]{background-color:#fafafa;box-shadow:0 4px #0003}.bill-card[_ngcontent-%COMP%]   .bill-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;height:-moz-fit-content;height:fit-content;align-items:center}.bill-card[_ngcontent-%COMP%]   .bill-header[_ngcontent-%COMP%]   .bill-value[_ngcontent-%COMP%]{color:#fafafa;font-weight:700;font-size:22px;max-width:200px}.bill-card[_ngcontent-%COMP%]   .bill-header[_ngcontent-%COMP%]   .value-input[_ngcontent-%COMP%]{color:#2e2e2e;font-weight:700;font-size:18px;width:100px}.bill-card[_ngcontent-%COMP%]   .bill-header[_ngcontent-%COMP%]   .bill-date[_ngcontent-%COMP%]{font-size:14px;color:var(--bill-date-unpaid)}.bill-card[_ngcontent-%COMP%]   .bill-header[_ngcontent-%COMP%]   .bill-date.date-paid[_ngcontent-%COMP%]{color:var(--bill-date-paid)}.bill-card[_ngcontent-%COMP%]   .bill-header[_ngcontent-%COMP%]   .bill-date.date-expired[_ngcontent-%COMP%]{color:var(--error-red)}.bill-card[_ngcontent-%COMP%]   .bill-header[_ngcontent-%COMP%]   .editing-date[_ngcontent-%COMP%]{display:flex;align-items:center}.bill-card[_ngcontent-%COMP%]   .bill-header[_ngcontent-%COMP%]   .editing-date[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#2e2e2e;padding-right:10px}.bill-card[_ngcontent-%COMP%]   .bill-header[_ngcontent-%COMP%]   .editing-date[_ngcontent-%COMP%]   .date-input[_ngcontent-%COMP%]{color:#2e2e2e;font-size:14px;width:120px}.bill-card[_ngcontent-%COMP%]   .bill-middle[_ngcontent-%COMP%]{margin-top:4px;display:flex;height:-moz-fit-content;height:fit-content;width:100%}.bill-card[_ngcontent-%COMP%]   .bill-middle[_ngcontent-%COMP%]   .bill-name[_ngcontent-%COMP%]{padding-top:4px;font-size:17px;font-weight:500;color:#fafafa}.bill-card[_ngcontent-%COMP%]   .bill-middle[_ngcontent-%COMP%]   .name-input[_ngcontent-%COMP%]{color:#2e2e2e;font-size:16px;width:100%}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;margin-top:10px}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fafafa;margin-left:10px;font-size:14px}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   #checkbox-paid[_ngcontent-%COMP%]{width:20px;height:20px;accent-color:var(--checkbox-paid)}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   #checkbox-paid[_ngcontent-%COMP%]:checked{background-color:#fafafa}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .paid-notice[_ngcontent-%COMP%]{color:#fafafa;margin-left:10px;font-size:14px}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .paid-by[_ngcontent-%COMP%]{color:#fafafa;margin-left:4px;font-size:14px}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .paid-date-input[_ngcontent-%COMP%]{color:#2e2e2e;font-size:14px;margin-left:10px}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .expired-notice[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--bill-date-unpaid);font-size:14px;margin-left:10px}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .expired-notice[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:8px}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;justify-content:space-between;font-size:14px;font-weight:700}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .bill-edit[_ngcontent-%COMP%]{color:#fafafa;margin-left:4px}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .bill-edit.bill-editing[_ngcontent-%COMP%]{color:#2e2e2e}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{display:flex;align-items:center}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .delete.disabled[_ngcontent-%COMP%]{color:gray}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   .bill-delete[_ngcontent-%COMP%]{margin-left:4px}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   .bill-delete.bill-editing[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not(.disabled){color:#2e2e2e}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   .bill-delete.disabled[_ngcontent-%COMP%]{color:gray}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:8px}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .save.disabled[_ngcontent-%COMP%]{color:gray}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]   .bill-save[_ngcontent-%COMP%]{margin-left:4px}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]   .bill-save.bill-editing[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not(.disabled){color:#2e2e2e}.bill-card[_ngcontent-%COMP%]   .bill-bottom[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]   .bill-save.disabled[_ngcontent-%COMP%]{color:gray}"]});class tC{constructor(e,t,r,i){this.firebaseService=e,this.firebaseFirestore=t,this.router=r,this.firebaseAuth=i,this.date=new Date,this.weekDay="",this.day=0,this.month="",this.monthNumber="",this.year=0,this.bills=[],this.allBills=[],this.paidBills=[],this.monthYear="0",this.isEditingMonth=!1,this.selectedDate="Janeiro/2023",this.isLoading=!1,this.filterOptions=0,this.filterName="Todas",this.isEditingEarnings=!1,this.monthEarnings=0,this.isSettings=!1,this.userName="",this.newName="",this.isEditingName=!1,this.theme="",this.isEmailRegistered=!1,this.inviteEmail="",this.inviteUid=";",this.inviteErrorMessage="",this.myDBs=[],this.dbOwnerDisplay=[],this.invitationError=!1,this.invitationSuccess=!1}ngOnInit(){let e=localStorage.getItem("selectedTheme");this.theme=e||"default",this.init()}editMonth(){this.isEditingMonth?(""===this.monthYear&&(this.monthYear=`${this.year}-${this.monthNumber}`),this.isEditingMonth=!1,this.selectedDate=this.formatDate(this.monthYear),this.monthEarnings=0,this.getBills()):(this.isEditingMonth=!0,setTimeout(()=>{document.getElementById("input-month")?.click()},100))}init(){let e=(new Date).getTime(),t=new Date(e),r=t.getMonth()+1;r<=9&&(this.month="0"+r),this.today=t.getDate()+"/"+this.month+"/"+t.getFullYear(),this.year=this.date.getFullYear(),this.monthYear=`${this.year}-${this.month}`,this.monthNumber=this.month,this.weekDay=["Domingo","Segunda-feira","Ter\xe7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xe1bado"][this.date.getDay()],this.day=this.date.getDate(),this.month=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][this.date.getMonth()],this.userEmail=localStorage.getItem("email"),this.isLoading=!0,this.selectedDate=this.formatDate(this.monthYear),this.getUserData()}getMyDatabases(){let e=[],t=localStorage.getItem("user");this.firebaseFirestore.collection("Database",r=>r.where("members","array-contains",t)).get().subscribe(r=>{r.docs.forEach(i=>{e.unshift(i.id),this.myDBs=e,this.getDatabaseOwner()})})}changeMyDatabase(e){this.selectedDatabase=e,this.getDatabaseOwner(),this.getBills()}getUserData(){this.firebaseService.getUserData()?.subscribe(e=>{this.userName=e.name,this.getUserInfo()})}getUserInfo(){this.firebaseService.getUserInfo(this.userEmail)?.subscribe(e=>{this.selectedDatabase=e.savedDb,this.getMyDatabases()})}saveUserInfo(){this.firebaseService.saveUserInfo(this.userEmail,this.selectedDatabase),this.isSettings=!1}getDatabaseOwner(){this.firebaseService.getCurrentDatabaseOwner(this.selectedDatabase)?.subscribe(e=>{this.dbOwner=e.owner,this.getBills()})}getBills(){const e=this.monthYear.split("-");let i=this.firebaseService.getBills(e[0],e[1],this.selectedDatabase).pipe((0,st.U)(c=>c.map(d=>{const m=d.payload.doc.data();return{id:d.payload.doc.id,...m}}))).subscribe(c=>{c&&(setTimeout(()=>{this.checkPaidBills()},100),i.unsubscribe(),this.isLoading=!1,this.bills=c,this.allBills=c,this.filterOptions=0,this.filterName="todas")})}refreshBills(){this.isLoading=!0,this.getBills()}formatDate(e){const t=e.split("-"),r=t[0],i=t[1],d=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][parseInt(i)-1];return void 0!==i?`${d}/${r}`:""}filterBills(){switch(this.filterOptions<4?this.filterOptions++:this.filterOptions=0,this.bills=this.allBills,this.filterOptions){case 0:this.filterName="todas";break;case 1:this.bills=this.bills.filter(e=>e.isPaid),this.filterName="pagas";break;case 2:this.bills=this.bills.filter(e=>!e.isPaid),this.filterName="em aberto";break;case 3:this.bills=this.bills.filter(e=>e.isExpired&&!e.isPaid),this.filterName="em atraso";break;case 4:this.sortBills(),this.filterName="vencimento"}}sortBills(){this.bills=this.bills.filter(e=>!0!==e.isPaid).slice().sort((e,t)=>new Date(e.billDate.split("/").reverse().join("-")).valueOf()-new Date(t.billDate.split("/").reverse().join("-")).valueOf())}createNewBill(){""!==this.selectedDate&&this.bills.unshift({billName:"",billValue:"",billDate:this.today,billPaidDate:this.today,isPaid:!1,isLocked:!1,isEditing:!0})}checkPaidBills(){this.paidBills=this.bills.filter(e=>!0===e.isPaid)}valueCalc(e){if(""!==this.selectedDate){let t=0;return this.allBills.forEach(i=>{"paid"===e?i.isPaid&&!i.isEditing&&(t+=i.billValue):!i.isPaid&&!i.isEditing&&(t+=i.billValue)}),new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}).format(t)}return"R$ 0,00"}checkEmailRegistration(e){var t=this;return(0,fe.Z)(function*(){yield t.firebaseAuth.fetchSignInMethodsForEmail(e).then(r=>{r.length>0?(t.isEmailRegistered=!0,t.firebaseService.getInvitedUid(e).subscribe(i=>{t.firebaseService.addMember(i.uid),t.inviteEmail="",t.invitationSuccess=!0})):(t.invitationError=!0,t.inviteErrorMessage="Email n\xe3o encontrado. Certifique-se que o email inserido pertence a um usu\xe1rio cadastrado.")},r=>{"auth/invalid-email"===r.code&&(t.invitationError=!0,t.inviteErrorMessage="Email inv\xe1lido. Verifique se o email inserido est\xe1 correto.")})})()}clearInviteInput(){this.invitationError=!1,this.invitationSuccess=!1}stopEditing(){this.bills.forEach(e=>{e.isEditing&&(e.isEditing=!1)})}removeBill(e){this.bills.splice(e,1)}goToSettings(){this.isSettings=!this.isSettings,this.invitationSuccess&&(this.invitationSuccess=!1)}saveName(){this.isEditingName=!1,this.newName.length>=3&&this.firebaseService.updateName(this.newName)}getValue(e){this.theme=e,localStorage.setItem("selectedTheme",e)}logout(){this.firebaseService.isSignedIn=!1,this.firebaseService.logout(),this.router.navigate(["login"])}}function Oj(n,e){1&n&&u._UZ(0,"app-loader")}function Pj(n,e){if(1&n&&(u.TgZ(0,"div",23),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.hij(" ",t.errorMessage," ")}}function Rj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",9)(1,"div",10),u._uU(2,"ENTRAR"),u.qZA(),u.TgZ(3,"form",11)(4,"label",12),u._uU(5,"email"),u.qZA(),u.TgZ(6,"input",13,14),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.hasError=!1)}),u.qZA(),u.TgZ(8,"label",15),u._uU(9,"senha"),u.qZA(),u.TgZ(10,"input",16,17),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.hasError=!1)}),u.qZA(),u.TgZ(12,"button",18),u.NdJ("click",function(){u.CHM(t);const i=u.MAs(7),c=u.MAs(11),d=u.oxw();return u.KtG(d.onLogin(i.value,c.value))}),u._uU(13,"ENTRAR"),u.qZA()(),u.TgZ(14,"a",19),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.loginRegister())}),u._uU(15),u.qZA(),u.TgZ(16,"div",20)(17,"mat-icon"),u._uU(18,"info"),u.qZA(),u.TgZ(19,"a",21),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.isResettingPassword=!0)}),u._uU(20,"Esqueci minha senha"),u.qZA()(),u.YNc(21,Pj,2,1,"div",22),u.qZA()}if(2&n){const t=u.oxw();u.xp6(3),u.Q6J("formGroup",t.formLogin),u.xp6(9),u.ekj("disabled",!t.formLogin.valid),u.xp6(3),u.hij("N\xe3o tenho uma conta ",t.forwardArrows,""),u.xp6(6),u.Q6J("ngIf",t.hasError)}}function Nj(n,e){if(1&n&&(u.TgZ(0,"div",23),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.hij(" ",t.errorMessage," ")}}function kj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",24)(1,"div",25),u._uU(2,"CRIAR CONTA"),u.qZA(),u.TgZ(3,"form",26)(4,"label",27),u._uU(5,"nome"),u.qZA(),u.TgZ(6,"input",28,29),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.hasError=!1)}),u.qZA(),u.TgZ(8,"label",30),u._uU(9,"email"),u.qZA(),u.TgZ(10,"input",31,32),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.hasError=!1)}),u.qZA(),u.TgZ(12,"label",33),u._uU(13,"senha"),u.qZA(),u.TgZ(14,"input",34,35),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.hasError=!1)}),u.qZA(),u.TgZ(16,"button",36),u.NdJ("click",function(){u.CHM(t);const i=u.MAs(7),c=u.MAs(11),d=u.MAs(15),m=u.oxw();return u.KtG(m.onRegister(i.value,c.value,d.value))}),u._uU(17,"CRIAR CONTA"),u.qZA()(),u.TgZ(18,"a",37),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.loginRegister())}),u._uU(19),u.qZA(),u.YNc(20,Nj,2,1,"div",22),u.qZA()}if(2&n){const t=u.oxw();u.xp6(3),u.Q6J("formGroup",t.formRegister),u.xp6(3),u.Q6J("maxlength",15),u.xp6(10),u.ekj("disabled",!t.formRegister.valid),u.xp6(3),u.hij("",t.backArrows," J\xe1 tenho uma conta"),u.xp6(1),u.Q6J("ngIf",t.hasError)}}function Fj(n,e){if(1&n&&(u.TgZ(0,"div",23),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.hij(" ",t.errorMessage," ")}}function Lj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",38)(1,"div",39),u._uU(2,"RECUPERAR SENHA"),u.qZA(),u.TgZ(3,"label",40),u._uU(4,"email cadastrado"),u.qZA(),u.TgZ(5,"input",41,42),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.hasError=!1)}),u.qZA(),u.TgZ(7,"button",43),u.NdJ("click",function(){u.CHM(t);const i=u.MAs(6),c=u.oxw();return u.KtG(c.sendResetPasswordLink(i.value))}),u._uU(8,"ENVIAR"),u.qZA(),u.TgZ(9,"a",44),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.isResettingPassword=!1)}),u._uU(10),u.qZA(),u.YNc(11,Fj,2,1,"div",22),u.qZA()}if(2&n){const t=u.oxw();u.xp6(10),u.hij("",t.backArrows," voltar"),u.xp6(1),u.Q6J("ngIf",t.hasError)}}tC.\u0275fac=function(e){return new(e||tC)(u.Y36(gl),u.Y36(dA),u.Y36(zi),u.Y36(tw))},tC.\u0275cmp=u.Xpm({type:tC,selectors:[["app-home"]],decls:9,vars:13,consts:[[1,"container",3,"ngClass"],[3,"theme","weekDay","day","month","year","isSettings","settingsEmitter"],[1,"members"],[4,"ngIf"],["class","content",4,"ngIf"],["class","options-container",4,"ngIf"],["class","loader",4,"ngIf"],[3,"theme",4,"ngIf"],[1,"content"],[1,"content-header"],["class","selected-month",4,"ngIf"],["id","input-month","type","month",3,"ngModel","ngModelChange",4,"ngIf"],[1,"edit-save",3,"click"],[1,"expenses"],[1,"month-expenses"],[1,"paid-total"],[1,"unpaid-total"],[1,"add-new-bill"],[3,"click"],[1,"filter-and-refresh"],["class","bills-filter",4,"ngIf"],[1,"refresh",3,"click"],["class","no-bills",4,"ngIf"],["class","cards",4,"ngIf"],[1,"selected-month"],["id","input-month","type","month",3,"ngModel","ngModelChange"],[1,"bills-filter"],[1,"no-bills"],[1,"cards"],[3,"billData","today","selectedPeriod","selectedDb","paidBy","billPaidEmitter","deleteEmitter",4,"ngFor","ngForOf"],[3,"billData","today","selectedPeriod","selectedDb","paidBy","billPaidEmitter","deleteEmitter"],[1,"options-container"],[1,"options-title"],[1,"options-box"],[1,"options-name"],[1,"name-area"],["class","name-change",4,"ngIf"],["class","current-name",4,"ngIf"],["class","input-edit-name","type","text","minlength","3","maxlength","15",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],["class","icon-edit",3,"click",4,"ngIf"],[1,"name-help"],[1,"theme-selector"],[1,"theme-area"],[1,"selector"],[3,"ngModel","change","ngModelChange"],["themeSelector",""],["value","default"],["value","warm"],["value","ice"],["value","money"],["value","cute"],["value","grass"],["value","business"],["value","cafe"],["value","violet"],[1,"theme-help"],[1,"invitation"],[1,"invitation-area"],["type","text","placeholder","email@mail.com",1,"input-invite-email",3,"ngModel","click","ngModelChange"],["class","invitation-help",4,"ngIf"],["class","invitation-error",4,"ngIf"],["class","invitation-success",4,"ngIf"],[1,"change-database"],[1,"change-area"],[1,"change-selector"],["changeDatabase",""],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"current-owner"],[1,"change-help"],[1,"exit-app"],[1,"name-change"],[1,"current-name"],["type","text","minlength","3","maxlength","15",1,"input-edit-name",3,"ngModel","placeholder","ngModelChange"],[1,"icon-edit",3,"click"],[1,"invitation-help"],[1,"invitation-error"],[1,"invitation-success"],[3,"value"],[1,"loader"],[3,"theme"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"app-header",1),u.NdJ("settingsEmitter",function(){return t.goToSettings()}),u.qZA(),u.TgZ(2,"div",2),u.YNc(3,sj,4,1,"p",3),u.YNc(4,aj,2,0,"p",3),u.qZA(),u.YNc(5,_j,28,10,"div",4),u.YNc(6,Aj,72,14,"div",5),u.YNc(7,Sj,2,0,"div",6),u.YNc(8,xj,1,1,"app-footer",7),u.qZA()),2&e&&(u.Q6J("ngClass",t.theme),u.xp6(1),u.Q6J("theme",t.theme)("weekDay",t.weekDay)("day",t.day)("month",t.month)("year",t.year)("isSettings",t.isSettings),u.xp6(2),u.Q6J("ngIf",!t.isLoading),u.xp6(1),u.Q6J("ngIf",t.isLoading),u.xp6(1),u.Q6J("ngIf",!t.isLoading&&!t.isSettings),u.xp6(1),u.Q6J("ngIf",!t.isLoading&&t.isSettings),u.xp6(1),u.Q6J("ngIf",t.isLoading),u.xp6(1),u.Q6J("ngIf",!t.isLoading))},dependencies:[yr,Yi,hn,Fp,sN,cN,fm,kw,ww,cS,Fw,Rw,Jv,Xv,mm,eC],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:100%;background-color:var(--background);overflow-x:hidden}.container[_ngcontent-%COMP%]   .members[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:auto;background-color:var(--mid);color:var(--font-expenses);font-size:14px;font-weight:600;padding:4px 0 6px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px 0 40px;width:80vw;height:100%;min-height:100vh}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .expenses[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0;width:100%}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .expenses[_ngcontent-%COMP%]   .month-expenses[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:0 14px;border-radius:8px;font-size:15px;font-weight:600;width:auto;height:auto;background-color:var(--mid);color:var(--font-expenses);gap:4px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .expenses[_ngcontent-%COMP%]   .add-new-bill[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:20px;color:var(--darkest)}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .expenses[_ngcontent-%COMP%]   .add-new-bill[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:600;margin-bottom:6px;text-align:center}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .expenses[_ngcontent-%COMP%]   .add-new-bill[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:50px;width:auto;height:auto}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .bills-amount[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-end;width:80vw;max-width:500px;padding:4px;font-size:16px;font-weight:600}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .bills-amount[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:4px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .filter-and-refresh[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:80vw;max-width:500px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .filter-and-refresh[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:600;padding-left:5px;color:var(--font)}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .filter-and-refresh[_ngcontent-%COMP%]   .bills-filter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;width:auto}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .filter-and-refresh[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .no-bills[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding-top:40px;font-weight:600;gap:20px;color:var(--darkest)}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .no-bills[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:40px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]{display:flex;align-items:flex-end;margin-top:6px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .selected-month[_ngcontent-%COMP%]{color:var(--font);font-weight:700;font-size:26px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:10px;color:var(--font)}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;outline:#d3d3d3 solid 1px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .month-earnings[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:20px;height:34px;width:100vw;padding:12px 0;background-color:var(--darkest)}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .month-earnings[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#fafafa}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .month-earnings[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;max-width:100px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .month-earnings[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:10px;color:var(--lightest)}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:10px;gap:10px}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px 0;width:80vw;height:100%;min-height:100vh}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-title[_ngcontent-%COMP%]{color:var(--font);font-weight:700;font-size:26px;padding:6px;margin-bottom:10px}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;gap:10px;background-color:var(--mid);color:var(--font-options-box);width:85vw;max-width:500px;height:auto;padding:20px 14px;border-radius:8px}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .options-name[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .options-name[_ngcontent-%COMP%]   .name-area[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;width:100%;height:auto;color:var(--font-options-box)}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .options-name[_ngcontent-%COMP%]   .name-area[_ngcontent-%COMP%]   .name-change[_ngcontent-%COMP%]{font-weight:600}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .options-name[_ngcontent-%COMP%]   .name-area[_ngcontent-%COMP%]   .current-name[_ngcontent-%COMP%]{font-size:16px;margin-left:10px}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .options-name[_ngcontent-%COMP%]   .name-area[_ngcontent-%COMP%]   .input-edit-name[_ngcontent-%COMP%]{font-size:14px;margin-left:10px;width:100px;outline:#d3d3d3 solid 1px}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .options-name[_ngcontent-%COMP%]   .name-area[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--darkest);margin-left:10px}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .options-name[_ngcontent-%COMP%]   .name-help[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;margin-top:2px;width:100%;height:auto;font-size:13px;color:var(--font-options-box)}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .theme-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .theme-selector[_ngcontent-%COMP%]   .theme-area[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;width:100%;height:auto;margin-top:10px;color:var(--font-options-box)}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .theme-selector[_ngcontent-%COMP%]   .theme-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .theme-selector[_ngcontent-%COMP%]   .theme-area[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{display:flex;margin-left:10px;width:100%;width:100px;padding:4px 4px 4px 6px;border:1px solid gray;border-radius:5px;font-size:14px;background-color:#fafafa}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .theme-selector[_ngcontent-%COMP%]   .theme-area[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]:after{color:var(--darkest);content:"\\25bc";padding-right:6px}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .theme-selector[_ngcontent-%COMP%]   .theme-help[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;margin-top:2px;width:100%;height:auto;font-size:13px;color:var(--font-options-box)}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .invitation[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .invitation[_ngcontent-%COMP%]   .invitation-area[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;width:auto;height:auto;margin-top:10px;color:var(--font-options-box)}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .invitation[_ngcontent-%COMP%]   .invitation-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .invitation[_ngcontent-%COMP%]   .invitation-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:4px 4px 4px 6px;font-size:14px;margin-left:10px;width:120px;border:1px solid gray}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .invitation[_ngcontent-%COMP%]   .invitation-area[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--darkest);margin-left:10px}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .invitation[_ngcontent-%COMP%]   .invitation-help[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;margin-top:2px;width:100%;height:auto;font-size:13px;color:var(--font-options-box)}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .invitation[_ngcontent-%COMP%]   .invitation-error[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;margin-top:2px;padding:6px;height:auto;font-size:13px;border-radius:4px;background-color:#cf0023;color:#fff}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .invitation[_ngcontent-%COMP%]   .invitation-success[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;margin-top:2px;width:100%;height:auto;font-size:13px;background-color:var(--darkest);color:var(--font-header)}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .change-database[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .change-database[_ngcontent-%COMP%]   .change-area[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;width:100%;height:auto;margin-top:10px;color:var(--font-options-box)}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .change-database[_ngcontent-%COMP%]   .change-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .change-database[_ngcontent-%COMP%]   .change-area[_ngcontent-%COMP%]   .change-selector[_ngcontent-%COMP%]{display:flex;margin-left:10px;width:100px;padding:4px 4px 4px 6px;border:1px solid gray;border-radius:5px;font-size:14px;background-color:#fafafa}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .change-database[_ngcontent-%COMP%]   .change-area[_ngcontent-%COMP%]   .change-selector[_ngcontent-%COMP%]:after{color:var(--darkest);content:"\\25bc";padding-right:6px}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .change-database[_ngcontent-%COMP%]   .change-area[_ngcontent-%COMP%]   .change-selector[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#000}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .change-database[_ngcontent-%COMP%]   .change-area[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--darkest);margin-left:8px}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .change-database[_ngcontent-%COMP%]   .change-help[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;margin-top:2px;width:100%;height:auto;font-size:13px;color:var(--font-options-box)}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   .options-box[_ngcontent-%COMP%]   .change-database[_ngcontent-%COMP%]   .current-owner[_ngcontent-%COMP%]{color:var(--font-options-box);font-weight:500;font-size:14px;margin-left:6px}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:20px;width:auto;height:auto;font-size:15px;font-weight:600;color:var(--error-red)}.container[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:15px}.container[_ngcontent-%COMP%]   .loading-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:300px;max-width:300px;font-size:30px}.container[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center;width:100vw;height:100vh;margin:0 auto;padding-top:100px}app-footer[_ngcontent-%COMP%]{left:0;bottom:0;position:fixed}']});class nC{constructor(e,t,r){this.firebaseService=e,this.router=t,this.formBuilder=r,this.isLoginScreen=!0,this.isResettingPassword=!1,this.hasError=!1,this.errorMessage="",this.isLoading=!1,this.backArrows="  <<",this.forwardArrows=">>  ",this.theme=""}ngOnInit(){let e=localStorage.getItem("selectedTheme");this.theme=e||"default",null!==localStorage.getItem("user")?this.router.navigate(["home"]):this.router.navigate(["login"]),this.formRegister=this.formBuilder.group({nameRegister:["",_o.compose([_o.required,_o.minLength(3)])],emailRegister:["",_o.compose([_o.required,_o.pattern(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)])],passwordRegister:["",_o.compose([_o.required,_o.minLength(6)])]}),this.formLogin=this.formBuilder.group({emailLogin:["",_o.compose([_o.required,_o.pattern(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)])],passwordLogin:["",_o.compose([_o.required,_o.minLength(6)])]})}sendResetPasswordLink(e){var t=this;return(0,fe.Z)(function*(){t.isLoading=!0,yield t.firebaseService.recoveryPassword(e),t.firebaseService.resetPasswordSent?(t.isLoading=!1,t.isResettingPassword=!1):(t.isLoading=!1,t.hasError=!0,t.errorMessage=t.firebaseService.errorMessage)})()}loginRegister(){this.hasError=!1,this.isLoginScreen=!this.isLoginScreen}onLogin(e,t){var r=this;return(0,fe.Z)(function*(){r.isLoading=!0,r.formLogin.valid?(yield r.firebaseService.signIn(e,t),r.firebaseService.isSignedIn?(r.isLoading=!1,r.router.navigate(["home"])):(r.isLoading=!1,r.hasError=!0,r.errorMessage=r.firebaseService.errorMessage)):(r.isLoading=!1,r.hasError=!0,r.errorMessage="Preencha os dados corretamente!")})()}onRegister(e,t,r){var i=this;return(0,fe.Z)(function*(){i.isLoading=!0,i.formRegister.valid?(yield i.firebaseService.signUp(t,r,e),i.firebaseService.isSignedIn?(i.isLoading=!1,i.router.navigate(["home"])):(i.isLoading=!1,i.hasError=!0,i.errorMessage=i.firebaseService.errorMessage)):(i.isLoading=!1,i.hasError=!0,i.errorMessage="Preencha os dados corretamente!")})()}}nC.\u0275fac=function(e){return new(e||nC)(u.Y36(gl),u.Y36(zi),u.Y36(BB))},nC.\u0275cmp=u.Xpm({type:nC,selectors:[["app-login"]],decls:11,vars:5,consts:[[1,"container",3,"ngClass"],[1,"main"],[4,"ngIf"],[1,"app-name"],[1,"name"],[1,"sub"],["class","login-box",4,"ngIf"],["class","register-box",4,"ngIf"],["class","password-reset-box",4,"ngIf"],[1,"login-box"],[1,"login-title"],[1,"login-form",3,"formGroup"],["for","emailLogin"],["id","emailLogin","formControlName","emailLogin","type","text",1,"emailLogin",3,"click"],["emailLogin",""],["for","passwordLogin"],["id","passwordLogin","formControlName","passwordLogin","type","password",1,"passwordLogin",3,"click"],["passwordLogin",""],["type","button",1,"btn-enter",3,"click"],[1,"register",3,"click"],[1,"forgot-container"],[1,"forgot-password-link",3,"click"],["class","error",4,"ngIf"],[1,"error"],[1,"register-box"],[1,"register-title"],[1,"register-form",3,"formGroup"],["for","nameRegister"],["formControlName","nameRegister","type","text",1,"nameRegister",3,"maxlength","click"],["nameRegister",""],["for","emailRegister"],["formControlName","emailRegister","type","text",1,"emailRegister",3,"click"],["emailRegister",""],["for","passwordRegister"],["formControlName","passwordRegister","type","password",1,"passwordRegister",3,"click"],["passwordRegister",""],["type","button",1,"btn-register",3,"click"],[1,"login",3,"click"],[1,"password-reset-box"],[1,"reset-title"],["for","emailReset"],["id","emailReset","type","text",1,"emailReset",3,"click"],["emailReset",""],["type","button",1,"btn-send",3,"click"],[1,"return-login",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,Oj,1,0,"app-loader",2),u.TgZ(3,"div",3)(4,"p",4),u._uU(5,"BILL $HARE"),u.qZA(),u.TgZ(6,"p",5),u._uU(7,"Gerencie e compartilhe pagamentos de contas"),u.qZA()(),u.YNc(8,Rj,22,5,"div",6),u.YNc(9,kj,21,6,"div",7),u.YNc(10,Lj,12,2,"div",8),u.qZA()()),2&e&&(u.Q6J("ngClass",t.theme),u.xp6(2),u.Q6J("ngIf",t.isLoading),u.xp6(6),u.Q6J("ngIf",t.isLoginScreen&&!t.isResettingPassword&&!t.isLoading),u.xp6(1),u.Q6J("ngIf",!t.isLoginScreen&&!t.isResettingPassword&&!t.isLoading),u.xp6(1),u.Q6J("ngIf",t.isResettingPassword&&!t.isLoading))},dependencies:[yr,hn,Fp,X1,fm,ww,B1,Fw,Nw,oS,mm],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:5vw;background-color:var(--background);height:100vh}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:6px}.container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-bottom:6px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:var(--darkest);width:100%;max-width:600px;height:auto;max-height:650px;border-radius:12px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:70vw;margin-bottom:450px;position:absolute;color:var(--background)}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:40px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{text-align:center;font-size:14px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   app-loader[_ngcontent-%COMP%]{align-self:center;justify-self:center}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]{padding-top:100px;display:flex;flex-direction:column;align-items:left;justify-content:center}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .reset-title[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .reset-title[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .register-title[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .reset-title[_ngcontent-%COMP%]{font-size:22px;color:#fafafa;text-align:center;padding-bottom:30px;font-weight:700}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:left;justify-content:center}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .emailLogin[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .passwordLogin[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .emailLogin[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .passwordLogin[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .emailLogin[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .passwordLogin[_ngcontent-%COMP%]{margin-bottom:8px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-enter[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-enter[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-enter[_ngcontent-%COMP%]{background-color:var(--button);cursor:pointer;color:#2e2e2e;padding:10px;font-weight:700;border-width:0;margin-top:25px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-enter.disabled[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-enter.disabled[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-enter.disabled[_ngcontent-%COMP%]{background-color:#999}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-enter[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:not(.disabled), .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-enter[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:not(.disabled), .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-enter[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:not(.disabled){background-color:var(--button-hover)}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-enter[_ngcontent-%COMP%]:active, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-enter[_ngcontent-%COMP%]:active, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-enter[_ngcontent-%COMP%]:active{position:relative}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;color:#fafafa;margin-top:30px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:12px;text-align:center;margin-left:10px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .forgot-container[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]:hover{cursor:pointer}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:left;justify-content:center}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .emailRegister[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .nameRegister[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .passwordRegister[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .emailRegister[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .nameRegister[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .passwordRegister[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .emailRegister[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .nameRegister[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .passwordRegister[_ngcontent-%COMP%]{margin-bottom:8px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]{background-color:var(--button);cursor:pointer;color:#2e2e2e;padding:10px;font-weight:700;border-width:0;margin-top:25px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .btn-register.disabled[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .btn-register.disabled[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .btn-register.disabled[_ngcontent-%COMP%]{background-color:#999}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:not(.disabled), .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:not(.disabled), .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:not(.disabled){background-color:var(--button-hover)}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]:active, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]:active, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]:active{position:relative}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .return-login[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .return-login[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .return-login[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:14px;text-align:center;color:#fafafa;margin-top:30px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .return-login[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .return-login[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .return-login[_ngcontent-%COMP%]:hover{cursor:pointer}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]{background-color:var(--button);cursor:pointer;color:#2e2e2e;padding:10px;font-weight:700;border-width:0;margin-top:25px}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .btn-send.disabled[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .btn-send.disabled[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .btn-send.disabled[_ngcontent-%COMP%]{background-color:#999}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:not(.disabled), .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:not(.disabled), .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:not(.disabled){background-color:var(--button-hover)}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]:active, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]:active, .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]:active{position:relative}.container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .register-box[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .password-reset-box[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;align-self:center;background-color:var(--error-red);border-radius:4px;position:absolute;width:auto;height:auto;font-size:14px;font-weight:500;text-align:center;color:#fafafa;margin-top:450px;padding:8px}"]});const Vj=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:nC},{path:"home",component:tC}];class _m{}_m.\u0275fac=function(e){return new(e||_m)},_m.\u0275mod=u.oAB({type:_m}),_m.\u0275inj=u.cJS({imports:[p1.forRoot(Vj),p1]});class rC{constructor(){this.title="app-contas"}}rC.\u0275fac=function(e){return new(e||rC)},rC.\u0275cmp=u.Xpm({type:rC,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&u._UZ(0,"router-outlet")},dependencies:[TA]});class ym{}ym.\u0275fac=function(e){return new(e||ym)},ym.\u0275mod=u.oAB({type:ym,bootstrap:[rC]}),ym.\u0275inj=u.cJS({imports:[wu,_m,HI,_N,UB,Xo.hO.initializeApp({apiKey:"AIzaSyAeWO69xyayLcwk3DTldm8jPlMmeVGQxNU",authDomain:"app-contas-5f486.firebaseapp.com",projectId:"app-contas-5f486",storageBucket:"app-contas-5f486.appspot.com",messagingSenderId:"368034581475",appId:"1:368034581475:web:c35c340c1cabbf4cdfaed6"})]}),Vi().bootstrapModule(ym).catch(n=>console.error(n))},9751:(ct,Ee,k)=>{k.d(Ee,{y:()=>he});var u=k(930),X=k(727),N=k(8822),se=k(9635),ae=k(2416),ne=k(576),me=k(2806);let he=(()=>{class K{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const ze=new K;return ze.source=this,ze.operator=Ie,ze}subscribe(Ie,ze,rt){const ge=function j(K){return K&&K instanceof u.Lv||function B(K){return K&&(0,ne.m)(K.next)&&(0,ne.m)(K.error)&&(0,ne.m)(K.complete)}(K)&&(0,X.Nn)(K)}(Ie)?Ie:new u.Hp(Ie,ze,rt);return(0,me.x)(()=>{const{operator:De,source:we}=this;ge.add(De?De.call(ge,we):we?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(ze){Ie.error(ze)}}forEach(Ie,ze){return new(ze=de(ze))((rt,ge)=>{const De=new u.Hp({next:we=>{try{Ie(we)}catch(Fe){ge(Fe),De.unsubscribe()}},error:ge,complete:rt});this.subscribe(De)})}_subscribe(Ie){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(Ie)}[N.L](){return this}pipe(...Ie){return(0,se.U)(Ie)(this)}toPromise(Ie){return new(Ie=de(Ie))((ze,rt)=>{let ge;this.subscribe(De=>ge=De,De=>rt(De),()=>ze(ge))})}}return K.create=Le=>new K(Le),K})();function de(K){var Le;return null!==(Le=K??ae.v.Promise)&&void 0!==Le?Le:Promise}},7579:(ct,Ee,k)=>{k.d(Ee,{x:()=>me});var u=k(9751),X=k(727);const se=(0,k(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=k(8737),ne=k(2806);let me=(()=>{class de extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const K=new he(this,this);return K.operator=j,K}_throwIfClosed(){if(this.closed)throw new se}next(j){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(j)}})}error(j){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:K}=this;for(;K.length;)K.shift().error(j)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:K,isStopped:Le,observers:Ie}=this;return K||Le?X.Lc:(this.currentObservers=null,Ie.push(j),new X.w0(()=>{this.currentObservers=null,(0,ae.P)(Ie,j)}))}_checkFinalizedStatuses(j){const{hasError:K,thrownError:Le,isStopped:Ie}=this;K?j.error(Le):Ie&&j.complete()}asObservable(){const j=new u.y;return j.source=this,j}}return de.create=(B,j)=>new he(B,j),de})();class he extends me{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===K||K.call(j,B)}error(B){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===K||K.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,K;return null!==(K=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==K?K:X.Lc}}},930:(ct,Ee,k)=>{k.d(Ee,{Hp:()=>rt,Lv:()=>K});var u=k(576),X=k(727),N=k(2416),se=k(7849),ae=k(5032);const ne=de("C",void 0,void 0);function de(Se,Ce,Te){return{kind:Se,value:Ce,error:Te}}var B=k(3410),j=k(2806);class K extends X.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,X.Nn)(Ce)&&Ce.add(this)):this.destination=Fe}static create(Ce,Te,je){return new rt(Ce,Te,je)}next(Ce){this.isStopped?we(function he(Se){return de("N",Se,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?we(function me(Se){return de("E",void 0,Se)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?we(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Ie(Se,Ce){return Le.call(Se,Ce)}class ze{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Te}=this;if(Te.next)try{Te.next(Ce)}catch(je){ge(je)}}error(Ce){const{partialObserver:Te}=this;if(Te.error)try{Te.error(Ce)}catch(je){ge(je)}else ge(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Te){ge(Te)}}}class rt extends K{constructor(Ce,Te,je){let Ne;if(super(),(0,u.m)(Ce)||!Ce)Ne={next:Ce??void 0,error:Te??void 0,complete:je??void 0};else{let U;this&&N.v.useDeprecatedNextContext?(U=Object.create(Ce),U.unsubscribe=()=>this.unsubscribe(),Ne={next:Ce.next&&Ie(Ce.next,U),error:Ce.error&&Ie(Ce.error,U),complete:Ce.complete&&Ie(Ce.complete,U)}):Ne=Ce}this.destination=new ze(Ne)}}function ge(Se){N.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Se):(0,se.h)(Se)}function we(Se,Ce){const{onStoppedNotification:Te}=N.v;Te&&B.z.setTimeout(()=>Te(Se,Ce))}const Fe={closed:!0,next:ae.Z,error:function De(Se){throw Se},complete:ae.Z}},727:(ct,Ee,k)=>{k.d(Ee,{Lc:()=>ne,w0:()=>ae,Nn:()=>me});var u=k(576);const N=(0,k(3888).d)(de=>function(j){de(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((K,Le)=>`${Le+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var se=k(8737);class ae{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ie of j)Ie.remove(this);else j.remove(this);const{initialTeardown:K}=this;if((0,u.m)(K))try{K()}catch(Ie){B=Ie instanceof N?Ie.errors:[Ie]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const Ie of Le)try{he(Ie)}catch(ze){B=B??[],ze instanceof N?B=[...B,...ze.errors]:B.push(ze)}}if(B)throw new N(B)}}add(B){var j;if(B&&B!==this)if(this.closed)he(B);else{if(B instanceof ae){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,se.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,se.P)(j,B),B instanceof ae&&B._removeParent(this)}}ae.EMPTY=(()=>{const de=new ae;return de.closed=!0,de})();const ne=ae.EMPTY;function me(de){return de instanceof ae||de&&"closed"in de&&(0,u.m)(de.remove)&&(0,u.m)(de.add)&&(0,u.m)(de.unsubscribe)}function he(de){(0,u.m)(de)?de():de.unsubscribe()}},2416:(ct,Ee,k)=>{k.d(Ee,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,Ee,k)=>{k.d(Ee,{E:()=>X});const X=new(k(9751).y)(ae=>ae.complete())},8996:(ct,Ee,k)=>{k.d(Ee,{D:()=>Ce});var u=k(8421),X=k(5363),N=k(9468),ne=k(9751),he=k(2202),de=k(576),B=k(9672);function K(Te,je){if(!Te)throw new Error("Iterable cannot be null");return new ne.y(Ne=>{(0,B.f)(Ne,je,()=>{const U=Te[Symbol.asyncIterator]();(0,B.f)(Ne,je,()=>{U.next().then(ve=>{ve.done?Ne.complete():Ne.next(ve.value)})},0,!0)})})}var Le=k(3670),Ie=k(8239),ze=k(1144),rt=k(6495),ge=k(2206),De=k(4532),we=k(3260);function Ce(Te,je){return je?function Se(Te,je){if(null!=Te){if((0,Le.c)(Te))return function se(Te,je){return(0,u.Xf)(Te).pipe((0,N.R)(je),(0,X.Q)(je))}(Te,je);if((0,ze.z)(Te))return function me(Te,je){return new ne.y(Ne=>{let U=0;return je.schedule(function(){U===Te.length?Ne.complete():(Ne.next(Te[U++]),Ne.closed||this.schedule())})})}(Te,je);if((0,Ie.t)(Te))return function ae(Te,je){return(0,u.Xf)(Te).pipe((0,N.R)(je),(0,X.Q)(je))}(Te,je);if((0,ge.D)(Te))return K(Te,je);if((0,rt.T)(Te))return function j(Te,je){return new ne.y(Ne=>{let U;return(0,B.f)(Ne,je,()=>{U=Te[he.h](),(0,B.f)(Ne,je,()=>{let ve,q;try{({value:ve,done:q}=U.next())}catch(Q){return void Ne.error(Q)}q?Ne.complete():Ne.next(ve)},0,!0)}),()=>(0,de.m)(U?.return)&&U.return()})}(Te,je);if((0,we.L)(Te))return function Fe(Te,je){return K((0,we.Q)(Te),je)}(Te,je)}throw(0,De.z)(Te)}(Te,je):(0,u.Xf)(Te)}},8421:(ct,Ee,k)=>{k.d(Ee,{Xf:()=>Le});var u=k(655),X=k(1144),N=k(8239),se=k(9751),ae=k(3670),ne=k(2206),me=k(4532),he=k(6495),de=k(3260),B=k(576),j=k(7849),K=k(8822);function Le(Se){if(Se instanceof se.y)return Se;if(null!=Se){if((0,ae.c)(Se))return function Ie(Se){return new se.y(Ce=>{const Te=Se[K.L]();if((0,B.m)(Te.subscribe))return Te.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,X.z)(Se))return function ze(Se){return new se.y(Ce=>{for(let Te=0;Te<Se.length&&!Ce.closed;Te++)Ce.next(Se[Te]);Ce.complete()})}(Se);if((0,N.t)(Se))return function rt(Se){return new se.y(Ce=>{Se.then(Te=>{Ce.closed||(Ce.next(Te),Ce.complete())},Te=>Ce.error(Te)).then(null,j.h)})}(Se);if((0,ne.D)(Se))return De(Se);if((0,he.T)(Se))return function ge(Se){return new se.y(Ce=>{for(const Te of Se)if(Ce.next(Te),Ce.closed)return;Ce.complete()})}(Se);if((0,de.L)(Se))return function we(Se){return De((0,de.Q)(Se))}(Se)}throw(0,me.z)(Se)}function De(Se){return new se.y(Ce=>{(function Fe(Se,Ce){var Te,je,Ne,U;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Te=(0,u.KL)(Se);!(je=yield Te.next()).done;)if(Ce.next(je.value),Ce.closed)return}catch(ve){Ne={error:ve}}finally{try{je&&!je.done&&(U=Te.return)&&(yield U.call(Te))}finally{if(Ne)throw Ne.error}}Ce.complete()})})(Se,Ce).catch(Te=>Ce.error(Te))})}},6451:(ct,Ee,k)=>{k.d(Ee,{T:()=>ne});var u=k(8189),X=k(8421),N=k(515),se=k(7669),ae=k(8996);function ne(...me){const he=(0,se.yG)(me),de=(0,se._6)(me,1/0),B=me;return B.length?1===B.length?(0,X.Xf)(B[0]):(0,u.J)(de)((0,ae.D)(B,he)):N.E}},5403:(ct,Ee,k)=>{k.d(Ee,{x:()=>X});var u=k(930);function X(se,ae,ne,me,he){return new N(se,ae,ne,me,he)}class N extends u.Lv{constructor(ae,ne,me,he,de,B){super(ae),this.onFinalize=de,this.shouldUnsubscribe=B,this._next=ne?function(j){try{ne(j)}catch(K){ae.error(K)}}:super._next,this._error=he?function(j){try{he(j)}catch(K){ae.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(j){ae.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(ct,Ee,k)=>{k.d(Ee,{U:()=>N});var u=k(4482),X=k(5403);function N(se,ae){return(0,u.e)((ne,me)=>{let he=0;ne.subscribe((0,X.x)(me,de=>{me.next(se.call(ae,de,he++))}))})}},8189:(ct,Ee,k)=>{k.d(Ee,{J:()=>N});var u=k(5577),X=k(4671);function N(se=1/0){return(0,u.z)(X.y,se)}},5577:(ct,Ee,k)=>{k.d(Ee,{z:()=>he});var u=k(4004),X=k(8421),N=k(4482),se=k(9672),ae=k(5403),me=k(576);function he(de,B,j=1/0){return(0,me.m)(B)?he((K,Le)=>(0,u.U)((Ie,ze)=>B(K,Ie,Le,ze))((0,X.Xf)(de(K,Le))),j):("number"==typeof B&&(j=B),(0,N.e)((K,Le)=>function ne(de,B,j,K,Le,Ie,ze,rt){const ge=[];let De=0,we=0,Fe=!1;const Se=()=>{Fe&&!ge.length&&!De&&B.complete()},Ce=je=>De<K?Te(je):ge.push(je),Te=je=>{Ie&&B.next(je),De++;let Ne=!1;(0,X.Xf)(j(je,we++)).subscribe((0,ae.x)(B,U=>{Le?.(U),Ie?Ce(U):B.next(U)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(De--;ge.length&&De<K;){const U=ge.shift();ze?(0,se.f)(B,ze,()=>Te(U)):Te(U)}Se()}catch(U){B.error(U)}}))};return de.subscribe((0,ae.x)(B,Ce,()=>{Fe=!0,Se()})),()=>{rt?.()}}(K,Le,de,j)))}},5363:(ct,Ee,k)=>{k.d(Ee,{Q:()=>se});var u=k(9672),X=k(4482),N=k(5403);function se(ae,ne=0){return(0,X.e)((me,he)=>{me.subscribe((0,N.x)(he,de=>(0,u.f)(he,ae,()=>he.next(de),ne),()=>(0,u.f)(he,ae,()=>he.complete(),ne),de=>(0,u.f)(he,ae,()=>he.error(de),ne)))})}},3099:(ct,Ee,k)=>{k.d(Ee,{B:()=>ae});var u=k(8421),X=k(7579),N=k(930),se=k(4482);function ae(me={}){const{connector:he=(()=>new X.x),resetOnError:de=!0,resetOnComplete:B=!0,resetOnRefCountZero:j=!0}=me;return K=>{let Le,Ie,ze,rt=0,ge=!1,De=!1;const we=()=>{Ie?.unsubscribe(),Ie=void 0},Fe=()=>{we(),Le=ze=void 0,ge=De=!1},Se=()=>{const Ce=Le;Fe(),Ce?.unsubscribe()};return(0,se.e)((Ce,Te)=>{rt++,!De&&!ge&&we();const je=ze=ze??he();Te.add(()=>{rt--,0===rt&&!De&&!ge&&(Ie=ne(Se,j))}),je.subscribe(Te),!Le&&rt>0&&(Le=new N.Hp({next:Ne=>je.next(Ne),error:Ne=>{De=!0,we(),Ie=ne(Fe,de,Ne),je.error(Ne)},complete:()=>{ge=!0,we(),Ie=ne(Fe,B),je.complete()}}),(0,u.Xf)(Ce).subscribe(Le))})(K)}}function ne(me,he,...de){if(!0===he)return void me();if(!1===he)return;const B=new N.Hp({next:()=>{B.unsubscribe(),me()}});return he(...de).subscribe(B)}},9468:(ct,Ee,k)=>{k.d(Ee,{R:()=>X});var u=k(4482);function X(N,se=0){return(0,u.e)((ae,ne)=>{ne.add(N.schedule(()=>ae.subscribe(ne),se))})}},8505:(ct,Ee,k)=>{k.d(Ee,{b:()=>ae});var u=k(576),X=k(4482),N=k(5403),se=k(4671);function ae(ne,me,he){const de=(0,u.m)(ne)||me||he?{next:ne,error:me,complete:he}:ne;return de?(0,X.e)((B,j)=>{var K;null===(K=de.subscribe)||void 0===K||K.call(de);let Le=!0;B.subscribe((0,N.x)(j,Ie=>{var ze;null===(ze=de.next)||void 0===ze||ze.call(de,Ie),j.next(Ie)},()=>{var Ie;Le=!1,null===(Ie=de.complete)||void 0===Ie||Ie.call(de),j.complete()},Ie=>{var ze;Le=!1,null===(ze=de.error)||void 0===ze||ze.call(de,Ie),j.error(Ie)},()=>{var Ie,ze;Le&&(null===(Ie=de.unsubscribe)||void 0===Ie||Ie.call(de)),null===(ze=de.finalize)||void 0===ze||ze.call(de)}))}):se.y}},4408:(ct,Ee,k)=>{k.d(Ee,{o:()=>ae});var u=k(727);class X extends u.w0{constructor(me,he){super()}schedule(me,he=0){return this}}const N={setInterval(ne,me,...he){const{delegate:de}=N;return de?.setInterval?de.setInterval(ne,me,...he):setInterval(ne,me,...he)},clearInterval(ne){const{delegate:me}=N;return(me?.clearInterval||clearInterval)(ne)},delegate:void 0};var se=k(8737);class ae extends X{constructor(me,he){super(me,he),this.scheduler=me,this.work=he,this.pending=!1}schedule(me,he=0){var de;if(this.closed)return this;this.state=me;const B=this.id,j=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(j,B,he)),this.pending=!0,this.delay=he,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(j,this.id,he),this}requestAsyncId(me,he,de=0){return N.setInterval(me.flush.bind(me,this),de)}recycleAsyncId(me,he,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return he;null!=he&&N.clearInterval(he)}execute(me,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(me,he);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,he){let B,de=!1;try{this.work(me)}catch(j){de=!0,B=j||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:me,scheduler:he}=this,{actions:de}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(de,this),null!=me&&(this.id=this.recycleAsyncId(he,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,Ee,k)=>{k.d(Ee,{v:()=>N});var u=k(6063);class X{constructor(ae,ne=X.now){this.schedulerActionCtor=ae,this.now=ne}schedule(ae,ne=0,me){return new this.schedulerActionCtor(this,ae).schedule(me,ne)}}X.now=u.l.now;class N extends X{constructor(ae,ne=X.now){super(ae,ne),this.actions=[],this._active=!1}flush(ae){const{actions:ne}=this;if(this._active)return void ne.push(ae);let me;this._active=!0;do{if(me=ae.execute(ae.state,ae.delay))break}while(ae=ne.shift());if(this._active=!1,me){for(;ae=ne.shift();)ae.unsubscribe();throw me}}}},4986:(ct,Ee,k)=>{k.d(Ee,{z:()=>N});var u=k(4408);const N=new(k(7565).v)(u.o)},6063:(ct,Ee,k)=>{k.d(Ee,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(ct,Ee,k)=>{k.d(Ee,{z:()=>u});const u={setTimeout(X,N,...se){const{delegate:ae}=u;return ae?.setTimeout?ae.setTimeout(X,N,...se):setTimeout(X,N,...se)},clearTimeout(X){const{delegate:N}=u;return(N?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(ct,Ee,k)=>{k.d(Ee,{h:()=>X});const X=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,Ee,k)=>{k.d(Ee,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ct,Ee,k)=>{k.d(Ee,{_6:()=>ne,jO:()=>se,yG:()=>ae});var u=k(576);function N(me){return me[me.length-1]}function se(me){return(0,u.m)(N(me))?me.pop():void 0}function ae(me){return function X(me){return me&&(0,u.m)(me.schedule)}(N(me))?me.pop():void 0}function ne(me,he){return"number"==typeof N(me)?me.pop():he}},8737:(ct,Ee,k)=>{function u(X,N){if(X){const se=X.indexOf(N);0<=se&&X.splice(se,1)}}k.d(Ee,{P:()=>u})},3888:(ct,Ee,k)=>{function u(X){const se=X(ae=>{Error.call(ae),ae.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(Ee,{d:()=>u})},2806:(ct,Ee,k)=>{k.d(Ee,{O:()=>se,x:()=>N});var u=k(2416);let X=null;function N(ae){if(u.v.useDeprecatedSynchronousErrorHandling){const ne=!X;if(ne&&(X={errorThrown:!1,error:null}),ae(),ne){const{errorThrown:me,error:he}=X;if(X=null,me)throw he}}else ae()}function se(ae){u.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ae)}},9672:(ct,Ee,k)=>{function u(X,N,se,ae=0,ne=!1){const me=N.schedule(function(){se(),ne?X.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(X.add(me),!ne)return me}k.d(Ee,{f:()=>u})},4671:(ct,Ee,k)=>{function u(X){return X}k.d(Ee,{y:()=>u})},1144:(ct,Ee,k)=>{k.d(Ee,{z:()=>u});const u=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(ct,Ee,k)=>{k.d(Ee,{D:()=>X});var u=k(576);function X(N){return Symbol.asyncIterator&&(0,u.m)(N?.[Symbol.asyncIterator])}},576:(ct,Ee,k)=>{function u(X){return"function"==typeof X}k.d(Ee,{m:()=>u})},3670:(ct,Ee,k)=>{k.d(Ee,{c:()=>N});var u=k(8822),X=k(576);function N(se){return(0,X.m)(se[u.L])}},6495:(ct,Ee,k)=>{k.d(Ee,{T:()=>N});var u=k(2202),X=k(576);function N(se){return(0,X.m)(se?.[u.h])}},8239:(ct,Ee,k)=>{k.d(Ee,{t:()=>X});var u=k(576);function X(N){return(0,u.m)(N?.then)}},3260:(ct,Ee,k)=>{k.d(Ee,{L:()=>se,Q:()=>N});var u=k(655),X=k(576);function N(ae){return(0,u.FC)(this,arguments,function*(){const me=ae.getReader();try{for(;;){const{value:he,done:de}=yield(0,u.qq)(me.read());if(de)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(he)}}finally{me.releaseLock()}})}function se(ae){return(0,X.m)(ae?.getReader)}},4482:(ct,Ee,k)=>{k.d(Ee,{A:()=>X,e:()=>N});var u=k(576);function X(se){return(0,u.m)(se?.lift)}function N(se){return ae=>{if(X(ae))return ae.lift(function(ne){try{return se(ne,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ct,Ee,k)=>{function u(){}k.d(Ee,{Z:()=>u})},9635:(ct,Ee,k)=>{k.d(Ee,{U:()=>N,z:()=>X});var u=k(4671);function X(...se){return N(se)}function N(se){return 0===se.length?u.y:1===se.length?se[0]:function(ne){return se.reduce((me,he)=>he(me),ne)}}},7849:(ct,Ee,k)=>{k.d(Ee,{h:()=>N});var u=k(2416),X=k(3410);function N(se){X.z.setTimeout(()=>{const{onUnhandledError:ae}=u.v;if(!ae)throw se;ae(se)})}},4532:(ct,Ee,k)=>{function u(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ee,{z:()=>u})},655:(ct,Ee,k)=>{function se(q,Q){var oe={};for(var re in q)Object.prototype.hasOwnProperty.call(q,re)&&Q.indexOf(re)<0&&(oe[re]=q[re]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(re=Object.getOwnPropertySymbols(q);Ve<re.length;Ve++)Q.indexOf(re[Ve])<0&&Object.prototype.propertyIsEnumerable.call(q,re[Ve])&&(oe[re[Ve]]=q[re[Ve]])}return oe}function he(q,Q,oe,re){return new(oe||(oe=Promise))(function(ke,lt){function en(Ft){try{Ot(re.next(Ft))}catch(dt){lt(dt)}}function un(Ft){try{Ot(re.throw(Ft))}catch(dt){lt(dt)}}function Ot(Ft){Ft.done?ke(Ft.value):function Ve(ke){return ke instanceof oe?ke:new oe(function(lt){lt(ke)})}(Ft.value).then(en,un)}Ot((re=re.apply(q,Q||[])).next())})}function ge(q){return this instanceof ge?(this.v=q,this):new ge(q)}function De(q,Q,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,re=oe.apply(q,Q||[]),ke=[];return Ve={},lt("next"),lt("throw"),lt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function lt(Qt){re[Qt]&&(Ve[Qt]=function(fr){return new Promise(function(Dr,ft){ke.push([Qt,fr,Dr,ft])>1||en(Qt,fr)})})}function en(Qt,fr){try{!function un(Qt){Qt.value instanceof ge?Promise.resolve(Qt.value.v).then(Ot,Ft):dt(ke[0][2],Qt)}(re[Qt](fr))}catch(Dr){dt(ke[0][3],Dr)}}function Ot(Qt){en("next",Qt)}function Ft(Qt){en("throw",Qt)}function dt(Qt,fr){Qt(fr),ke.shift(),ke.length&&en(ke[0][0],ke[0][1])}}function Fe(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,Q=q[Symbol.asyncIterator];return Q?Q.call(q):(q=function K(q){var Q="function"==typeof Symbol&&Symbol.iterator,oe=Q&&q[Q],re=0;if(oe)return oe.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&re>=q.length&&(q=void 0),{value:q&&q[re++],done:!q}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),oe={},re("next"),re("throw"),re("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function re(ke){oe[ke]=q[ke]&&function(lt){return new Promise(function(en,un){!function Ve(ke,lt,en,un){Promise.resolve(un).then(function(Ot){ke({value:Ot,done:en})},lt)}(en,un,(lt=q[ke](lt)).done,lt.value)})}}}k.d(Ee,{FC:()=>De,KL:()=>Fe,_T:()=>se,mG:()=>he,qq:()=>ge})},4650:(ct,Ee,k)=>{k.d(Ee,{$8M:()=>Bl,$Z:()=>wI,AFp:()=>Gs,AaK:()=>he,CHM:()=>ou,CRH:()=>kb,CZH:()=>La,CqO:()=>$p,D6c:()=>cl,EJc:()=>LD,EiD:()=>Zw,EpF:()=>Hp,F$t:()=>qp,F4k:()=>E0,FYo:()=>a_,FiY:()=>Ea,GfV:()=>sI,Gpc:()=>j,Hsn:()=>L_,JOm:()=>xo,JVY:()=>z,JZr:()=>rt,KtG:()=>xl,L6k:()=>pe,LAX:()=>Qe,LFG:()=>$e,Lbi:()=>ev,Lck:()=>Iy,MAs:()=>v0,MMx:()=>qu,NdJ:()=>Gp,OlP:()=>an,Oqu:()=>ef,P3R:()=>Qw,PXZ:()=>iE,Q6J:()=>N_,QGY:()=>F_,QP$:()=>Un,Qsj:()=>UC,R0b:()=>fo,RDi:()=>Jo,Rgc:()=>Fa,SBq:()=>xp,Sil:()=>zs,Suo:()=>Nb,TTD:()=>ra,TgZ:()=>vd,X6Q:()=>Ai,XFs:()=>ht,Xpm:()=>Qs,Xts:()=>Xm,Y36:()=>so,YKP:()=>Cf,YNc:()=>es,Yjl:()=>Xs,Yz7:()=>ft,Z0I:()=>Mr,ZZ4:()=>Vg,_Bn:()=>Bn,_UZ:()=>k_,_Vd:()=>Sh,_c5:()=>jg,_uU:()=>rg,aQg:()=>Bg,c2e:()=>Wb,cJS:()=>Yr,cg1:()=>oy,dDg:()=>HD,dqk:()=>wt,eBb:()=>He,eFA:()=>sE,ekj:()=>Xp,eoX:()=>Yn,f3M:()=>Je,g9A:()=>tl,h0i:()=>Ge,hGG:()=>Vf,hij:()=>Uu,iGM:()=>Fy,ifc:()=>Gt,ip1:()=>Jy,jDz:()=>Dy,kL8:()=>sy,lG2:()=>Js,lqb:()=>od,lri:()=>rl,mCW:()=>bc,n5z:()=>Eu,oAB:()=>Tn,oxw:()=>M0,pB0:()=>yt,q3G:()=>er,q4F:()=>aI,qLn:()=>Pp,qOj:()=>nr,qZA:()=>$h,qzn:()=>T,rWj:()=>rv,s9C:()=>Wp,sBO:()=>Ng,sIi:()=>Lp,s_b:()=>Mf,soG:()=>is,tb:()=>qb,tp0:()=>w,uIk:()=>pd,vHH:()=>ge,vpe:()=>ko,wAp:()=>vt,xp6:()=>GC,z2F:()=>Va,z3N:()=>v,zSh:()=>t_,zs3:()=>sd});var u=k(7579),X=k(727),N=k(9751),se=k(6451),ae=k(3099);function ne(o){for(let s in o)if(o[s]===ne)return s;throw Error("Could not find renamed property on target object.")}function me(o,s){for(const a in s)s.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(o[a]=s[a])}function he(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(he).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function de(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const B=ne({__forward_ref__:ne});function j(o){return o.__forward_ref__=j,o.toString=function(){return he(this())},o}function K(o){return Le(o)?o():o}function Le(o){return"function"==typeof o&&o.hasOwnProperty(B)&&o.__forward_ref__===j}function Ie(o){return o&&!!o.\u0275providers}const rt="https://g.co/ng/security#xss";class ge extends Error{constructor(s,a){super(function De(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function we(o){return"string"==typeof o?o:null==o?"":String(o)}function je(o,s){throw new ge(-201,!1)}function Ft(o,s){null==o&&function dt(o,s,a,l){throw new Error(`ASSERTION ERROR: ${o}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,o,null,"!=")}function ft(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Yr(o){return{providers:o.providers||[],imports:o.imports||[]}}function Fr(o){return Tr(o,Ar)||Tr(o,ln)}function Mr(o){return null!==Fr(o)}function Tr(o,s){return o.hasOwnProperty(s)?o[s]:null}function hi(o){return o&&(o.hasOwnProperty(Vo)||o.hasOwnProperty(Lr))?o[Vo]:null}const Ar=ne({\u0275prov:ne}),Vo=ne({\u0275inj:ne}),ln=ne({ngInjectableDef:ne}),Lr=ne({ngInjectorDef:ne});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Wi;function In(o){const s=Wi;return Wi=o,s}function Sr(o,s,a){const l=Fr(o);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ht.Optional?null:void 0!==s?s:void je(he(o))}const wt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xn={},Dn="__NG_DI_FLAG__",pi="ngTempTokenPath",Ks=/\n/gm,Ki="__source";let qt;function gr(o){const s=qt;return qt=o,s}function Pi(o,s=ht.Default){if(void 0===qt)throw new ge(-203,!1);return null===qt?Sr(o,void 0,s):qt.get(o,s&ht.Optional?null:void 0,s)}function $e(o,s=ht.Default){return(function fi(){return Wi}()||Pi)(K(o),s)}function Je(o,s=ht.Default){return $e(o,Ct(s))}function Ct(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Et(o){const s=[];for(let a=0;a<o.length;a++){const l=K(o[a]);if(Array.isArray(l)){if(0===l.length)throw new ge(900,!1);let h,p=ht.Default;for(let y=0;y<l.length;y++){const b=l[y],E=H(b);"number"==typeof E?-1===E?h=b.token:p|=E:h=b}s.push($e(h,p))}else s.push($e(l))}return s}function Rt(o,s){return o[Dn]=s,o.prototype[Dn]=s,o}function H(o){return o[Dn]}function _e(o){return{toString:o}.toString()}var te=(()=>((te=te||{})[te.OnPush=0]="OnPush",te[te.Default=1]="Default",te))(),Gt=(()=>{return(o=Gt||(Gt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Gt;var o})();const Mn={},mt=[],Qn=ne({\u0275cmp:ne}),Bt=ne({\u0275dir:ne}),zn=ne({\u0275pipe:ne}),as=ne({\u0275mod:ne}),mr=ne({\u0275fac:ne}),Ys=ne({__NG_ELEMENT_ID__:ne});let Jd=0;function Qs(o){return _e(()=>{const a=!0===o.standalone,l={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===te.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||mt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Gt.Emulated,id:"c"+Jd++,styles:o.styles||mt,_:null,setInput:null,schemas:o.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=o.dependencies,y=o.features;return h.inputs=Yc(o.inputs,l),h.outputs=Yc(o.outputs),y&&y.forEach(b=>b(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Kc).filter(yl):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(Nn).filter(yl):null,h})}function Kc(o){return Wt(o)||qn(o)}function yl(o){return null!==o}function Tn(o){return _e(()=>({type:o.type,bootstrap:o.bootstrap||mt,declarations:o.declarations||mt,imports:o.imports||mt,exports:o.exports||mt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Yc(o,s){if(null==o)return Mn;const a={};for(const l in o)if(o.hasOwnProperty(l)){let h=o[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,s&&(s[h]=p)}return a}const Js=Qs;function Xs(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Wt(o){return o[Qn]||null}function qn(o){return o[Bt]||null}function Nn(o){return o[zn]||null}function Un(o){const s=Wt(o)||qn(o)||Nn(o);return null!==s&&s.standalone}function _r(o,s){const a=o[as]||null;if(!a&&!0===s)throw new Error(`Type ${he(o)} does not have '\u0275mod' property.`);return a}function Ur(o){return Array.isArray(o)&&"object"==typeof o[1]}function gi(o){return Array.isArray(o)&&!0===o[1]}function ea(o){return 0!=(4&o.flags)}function mi(o){return o.componentOffset>-1}function Qc(o){return 1==(1&o.flags)}function Br(o){return null!==o.template}function ta(o){return 0!=(256&o[2])}function $o(o,s){return o.hasOwnProperty(mr)?o[mr]:null}class Eo{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function ra(){return Go}function Go(o){return o.type.prototype.ngOnChanges&&(o.setInput=qa),za}function za(){const o=ia(this),s=o?.current;if(s){const a=o.previous;if(a===Mn)o.previous=s;else for(let l in s)a[l]=s[l];o.current=null,this.ngOnChanges(s)}}function qa(o,s,a,l){const h=this.declaredInputs[a],p=ia(o)||function Wa(o,s){return o[zo]=s}(o,{previous:Mn,current:null}),y=p.current||(p.current={}),b=p.previous,E=b[h];y[h]=new Eo(E&&E.currentValue,s,b===Mn),o[l]=s}ra.ngInherit=!0;const zo="__ngSimpleChanges__";function ia(o){return o[zo]||null}function Ln(o){for(;Array.isArray(o);)o=o[0];return o}function qo(o,s){return Ln(s[o])}function ar(o,s){return Ln(s[o.index])}function ps(o,s){return o.data[s]}function Jn(o,s){const a=s[o];return Ur(a)?a:a[0]}function aa(o){return 64==(64&o[2])}function ki(o,s){return null==s?null:o[s]}function ca(o){o[18]=0}function ua(o,s){o[5]+=s;let a=o,l=o[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const It={lFrame:vm(null),bindingsEnabled:!0};function Ja(){return It.bindingsEnabled}function Me(){return It.lFrame.lView}function Zt(){return It.lFrame.tView}function ou(o){return It.lFrame.contextLView=o,o[8]}function xl(o){return It.lFrame.contextLView=null,o}function cr(){let o=gs();for(;null!==o&&64===o.type;)o=o.parent;return o}function gs(){return It.lFrame.currentTNode}function Xr(o,s){const a=It.lFrame;a.currentTNode=o,a.isParent=s}function ec(){return It.lFrame.isParent}function ms(){It.lFrame.isParent=!1}function Ji(){return It.lFrame.bindingIndex++}function uu(o,s){const a=It.lFrame;a.bindingIndex=a.bindingRootIndex=o,Pl(s)}function Pl(o){It.lFrame.currentDirectiveIndex=o}function Rl(){return It.lFrame.currentQueryIndex}function lu(o){It.lFrame.currentQueryIndex=o}function Nl(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function rh(o,s,a){if(a&ht.SkipSelf){let h=s,p=o;for(;!(h=h.parent,null!==h||a&ht.Host||(h=Nl(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;s=h,o=p}const l=It.lFrame=ih();return l.currentTNode=s,l.lView=o,!0}function tc(o){const s=ih(),a=o[1];It.lFrame=s,s.currentTNode=a.firstChild,s.lView=o,s.tView=a,s.contextLView=o,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ih(){const o=It.lFrame,s=null===o?null:o.child;return null===s?vm(o):s}function vm(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function ip(){const o=It.lFrame;return It.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const nc=ip;function op(){const o=ip();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function jr(){return It.lFrame.selectedIndex}function da(o){It.lFrame.selectedIndex=o}function pn(){const o=It.lFrame;return ps(o.tView,o.selectedIndex)}function Io(o,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const p=o.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:b,ngAfterViewInit:E,ngAfterViewChecked:M,ngOnDestroy:O}=p;y&&(o.contentHooks||(o.contentHooks=[])).push(-a,y),b&&((o.contentHooks||(o.contentHooks=[])).push(a,b),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(a,b)),E&&(o.viewHooks||(o.viewHooks=[])).push(-a,E),M&&((o.viewHooks||(o.viewHooks=[])).push(a,M),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(a,M)),null!=O&&(o.destroyHooks||(o.destroyHooks=[])).push(a,O)}}function ti(o,s,a){fu(o,s,3,a)}function rc(o,s,a,l){(3&o[2])===a&&fu(o,s,a,l)}function yi(o,s){let a=o[2];(3&a)===s&&(a&=2047,a+=1,o[2]=a)}function fu(o,s,a,l){const p=l??-1,y=s.length-1;let b=0;for(let E=void 0!==l?65535&o[18]:0;E<y;E++)if("number"==typeof s[E+1]){if(b=s[E],null!=l&&b>=l)break}else s[E]<0&&(o[18]+=65536),(b<p||-1==p)&&(kl(o,a,s,E),o[18]=(4294901760&o[18])+E+2),E++}function kl(o,s,a,l){const h=a[l]<0,p=a[l+1],b=o[h?-a[l]:a[l]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class ha{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function vn(o,s,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const p=a[l++],y=a[l++],b=a[l++];o.setAttribute(s,y,b,p)}else{const p=h,y=a[++l];bs(p)?o.setProperty(s,p,y):o.setAttribute(s,p,y),l++}}return l}function Cs(o){return 3===o||4===o||6===o}function bs(o){return 64===o.charCodeAt(0)}function Mo(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const h=s[l];"number"==typeof h?a=h:0===a||ic(o,a,h,null,-1===a||2===a?s[++l]:null)}}return o}function ic(o,s,a,l,h){let p=0,y=o.length;if(-1===s)y=-1;else for(;p<o.length;){const b=o[p++];if("number"==typeof b){if(b===s){y=-1;break}if(b>s){y=p-1;break}}}for(;p<o.length;){const b=o[p];if("number"==typeof b)break;if(b===a){if(null===l)return void(null!==h&&(o[p+1]=h));if(l===o[p+1])return void(o[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==y&&(o.splice(y,0,s),p=y+1),o.splice(p++,0,a),null!==l&&o.splice(p++,0,l),null!==h&&o.splice(p++,0,h)}function Ll(o){return-1!==o}function oc(o){return 32767&o}function Es(o,s){let a=function sc(o){return o>>16}(o),l=s;for(;a>0;)l=l[15],a--;return l}let Xi=!0;function ac(o){const s=Xi;return Xi=o,s}let uc=0;const Rr={};function ws(o,s){const a=pa(o,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(o.injectorIndex=s.length,Ko(l.data,o),Ko(s,null),Ko(l.blueprint,null));const h=lc(o,s),p=o.injectorIndex;if(Ll(h)){const y=oc(h),b=Es(h,s),E=b[1].data;for(let M=0;M<8;M++)s[p+M]=b[y+M]|E[y+M]}return s[p+8]=h,p}function Ko(o,s){o.push(0,0,0,0,0,0,0,0,s)}function pa(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function lc(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let a=0,l=null,h=s;for(;null!==h;){if(l=Ul(h),null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function yu(o,s,a){!function _u(o,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Ys)&&(l=a[Ys]),null==l&&(l=a[Ys]=uc++);const h=255&l;s.data[o+(h>>5)]|=1<<h}(o,s,a)}function eo(o,s,a){if(a&ht.Optional||void 0!==o)return o;je()}function vu(o,s,a,l){if(a&ht.Optional&&void 0===l&&(l=null),0==(a&(ht.Self|ht.Host))){const h=o[9],p=In(void 0);try{return h?h.get(s,l,a&ht.Optional):Sr(s,l,a&ht.Optional)}finally{In(p)}}return eo(l,0,a)}function ah(o,s,a,l=ht.Default,h){if(null!==o){if(1024&s[2]){const y=function uh(o,s,a,l,h){let p=o,y=s;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const b=vi(p,y,a,l|ht.Self,Rr);if(b!==Rr)return b;let E=p.parent;if(!E){const M=y[21];if(M){const O=M.get(a,Rr,l);if(O!==Rr)return O}E=Ul(y),y=y[15]}p=E}return h}(o,s,a,l,Rr);if(y!==Rr)return y}const p=vi(o,s,a,l,Rr);if(p!==Rr)return p}return vu(s,a,l,h)}function vi(o,s,a,l,h){const p=function bu(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Ys)?o[Ys]:void 0;return"number"==typeof s?s>=0?255&s:ch:s}(a);if("function"==typeof p){if(!rh(s,o,l))return l&ht.Host?eo(h,0,l):vu(s,a,l,h);try{const y=p(l);if(null!=y||l&ht.Optional)return y;je()}finally{nc()}}else if("number"==typeof p){let y=null,b=pa(o,s),E=-1,M=l&ht.Host?s[16][6]:null;for((-1===b||l&ht.SkipSelf)&&(E=-1===b?lc(o,s):s[b+8],-1!==E&&Vi(l,!1)?(y=s[1],b=oc(E),s=Es(E,s)):b=-1);-1!==b;){const O=s[1];if(dc(p,b,O.data)){const F=Cu(b,s,a,y,l,M);if(F!==Rr)return F}E=s[b+8],-1!==E&&Vi(l,s[1].data[b+8]===M)&&dc(p,b,s)?(y=O,b=oc(E),s=Es(E,s)):b=-1}}return h}function Cu(o,s,a,l,h,p){const y=s[1],b=y.data[o+8],O=ga(b,y,a,null==l?mi(b)&&Xi:l!=y&&0!=(3&b.type),h&ht.Host&&p===b);return null!==O?Ci(s,y,O,b):Rr}function ga(o,s,a,l,h){const p=o.providerIndexes,y=s.data,b=1048575&p,E=o.directiveStart,O=p>>20,G=h?b+O:o.directiveEnd;for(let J=l?b:b+O;J<G;J++){const ye=y[J];if(J<E&&a===ye||J>=E&&ye.type===a)return J}if(h){const J=y[E];if(J&&Br(J)&&J.type===a)return E}return null}function Ci(o,s,a,l){let h=o[a];const p=s.data;if(function ni(o){return o instanceof ha}(h)){const y=h;y.resolving&&function Se(o,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new ge(-200,`Circular dependency in DI detected for ${o}${a}`)}(function Fe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():we(o)}(p[a]));const b=ac(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?In(y.injectImpl):null;rh(o,l,ht.Default);try{h=o[a]=y.factory(void 0,p,o,l),s.firstCreatePass&&a>=l.directiveStart&&function sh(o,s,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(l){const y=Go(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(o,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(o,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-o,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(o,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(o,p))}(a,p[a],s)}finally{null!==E&&In(E),ac(b),y.resolving=!1,nc()}}return h}function dc(o,s,a){return!!(a[s+(o>>5)]&1<<o)}function Vi(o,s){return!(o&ht.Self||o&ht.Host&&s)}class ri{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return ah(this._tNode,this._lView,s,Ct(l),a)}}function ch(){return new ri(cr(),Me())}function Eu(o){return _e(()=>{const s=o.prototype.constructor,a=s[mr]||wu(s),l=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==l;){const p=h[mr]||wu(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function wu(o){return Le(o)?()=>{const s=wu(K(o));return s&&s()}:$o(o)}function Ul(o){const s=o[1],a=s.type;return 2===a?s.declTNode:1===a?o[6]:null}function Bl(o){return function Vl(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const a=o.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(Cs(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===s)return a[h+1];h+=2}}}return null}(cr(),o)}const Is="__parameters__";function hc(o,s,a){return _e(()=>{const l=function lh(o){return function(...a){if(o){const l=o(...a);for(const h in l)this[h]=l[h]}}}(s);function h(...p){if(this instanceof h)return l.apply(this,p),this;const y=new h(...p);return b.annotation=y,b;function b(E,M,O){const F=E.hasOwnProperty(Is)?E[Is]:Object.defineProperty(E,Is,{value:[]})[Is];for(;F.length<=O;)F.push(null);return(F[O]=F[O]||[]).push(y),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class an{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ft({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ui(o,s){o.forEach(a=>Array.isArray(a)?Ui(a,s):s(a))}function pc(o,s,a){s>=o.length?o.push(a):o.splice(s,0,a)}function ya(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Ms(o,s){const a=[];for(let l=0;l<o;l++)a.push(s);return a}function lr(o,s,a){let l=va(o,s);return l>=0?o[1|l]=a:(l=~l,function Tu(o,s,a,l){let h=o.length;if(h==s)o.push(a,l);else if(1===h)o.push(l,o[0]),o[0]=a;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=a,o[s+1]=l}}(o,l,s,a)),l}function Ts(o,s){const a=va(o,s);if(a>=0)return o[1|a]}function va(o,s){return function gc(o,s,a){let l=0,h=o.length>>a;for(;h!==l;){const p=l+(h-l>>1),y=o[p<<a];if(s===y)return p<<a;y>s?h=p:l=p+1}return~(h<<a)}(o,s,1)}const Ea=Rt(hc("Optional"),8),w=Rt(hc("SkipSelf"),4);var xo=(()=>((xo=xo||{})[xo.Important=1]="Important",xo[xo.DashCase=2]="DashCase",xo))();const Zl=new Map;let dC=0;const mp="__ngContext__";function $r(o,s){Ur(s)?(o[mp]=s[20],function hC(o){Zl.set(o[20],o)}(s)):o[mp]=s}function vp(o,s){return undefined(o,s)}function _c(o){const s=o[3];return gi(s)?s[3]:s}function Ql(o){return km(o[13])}function Cp(o){return km(o[4])}function km(o){for(;null!==o&&!gi(o);)o=o[4];return o}function Pu(o,s,a,l,h){if(null!=l){let p,y=!1;gi(l)?p=l:Ur(l)&&(y=!0,l=l[0]);const b=Ln(l);0===o&&null!==a?null==h?Ru(s,a,b):yc(s,a,b,h||null,!0):1===o&&null!==a?yc(s,a,b,h||null,!0):2===o?function vc(o,s,a){const l=gh(o,s);l&&function $m(o,s,a,l){o.removeChild(s,a,l)}(o,l,s,a)}(s,b,y):3===o&&s.destroyNode(b),null!=p&&function DC(o,s,a,l,h){const p=a[7];p!==Ln(a)&&Pu(s,o,l,p,h);for(let b=10;b<a.length;b++){const E=a[b];td(E[1],E,o,s,l,p)}}(s,o,p,a,h)}}function Jl(o,s,a){return o.createElement(s,a)}function Xl(o,s){const a=o[9],l=a.indexOf(s),h=s[3];512&s[2]&&(s[2]&=-513,ua(h,-1)),a.splice(l,1)}function Ip(o,s){if(o.length<=10)return;const a=10+s,l=o[a];if(l){const h=l[17];null!==h&&h!==o&&Xl(h,l),s>0&&(o[a-1][4]=l[4]);const p=ya(o,10+s);!function vC(o,s){td(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=p[19];null!==y&&y.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Vm(o,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&td(o,s,a,3,null,null),function wp(o){let s=o[13];if(!s)return Dp(o[1],o);for(;s;){let a=null;if(Ur(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==o;)Ur(s)&&Dp(s[1],s),s=s[3];null===s&&(s=o),Ur(s)&&Dp(s[1],s),a=s&&s[4]}s=a}}(s)}}function Dp(o,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function wC(o,s){let a;if(null!=o&&null!=(a=o.destroyHooks))for(let l=0;l<a.length;l+=2){const h=s[a[l]];if(!(h instanceof ha)){const p=a[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const b=h[p[y]],E=p[y+1];try{E.call(b)}finally{}}else try{p.call(h)}finally{}}}}(o,s),function Um(o,s){const a=o.cleanup,l=s[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?l[h=y]():l[h=-y].unsubscribe(),p+=2}else{const y=l[h=a[p+1]];a[p].call(y)}if(null!==l){for(let p=h+1;p<l.length;p++)(0,l[p])();s[7]=null}}(o,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&gi(s[3])){a!==s[3]&&Xl(a,s);const l=s[19];null!==l&&l.detachView(o)}!function fC(o){Zl.delete(o[20])}(s)}}function Bm(o,s,a){return function jm(o,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:p}=o.data[l.directiveStart+h];if(p===Gt.None||p===Gt.Emulated)return null}return ar(l,a)}}(o,s.parent,a)}function yc(o,s,a,l,h){o.insertBefore(s,a,l,h)}function Ru(o,s,a){o.appendChild(s,a)}function Hm(o,s,a,l,h){null!==l?yc(o,s,a,l,h):Ru(o,s,a)}function gh(o,s){return o.parentNode(s)}function Gm(o,s,a){return mh(o,s,a)}let bh,ji,ku,mh=function Mp(o,s,a){return 40&o.type?ar(o,a):null};function _h(o,s,a,l){const h=Bm(o,l,s),p=s[11],b=Gm(l.parent||s[6],l,s);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)Hm(p,h,a[E],b,!1);else Hm(p,h,a,b,!1)}function Nu(o,s){if(null!==s){const a=s.type;if(3&a)return ar(s,o);if(4&a)return si(-1,o[s.index]);if(8&a){const l=s.child;if(null!==l)return Nu(o,l);{const h=o[s.index];return gi(h)?si(-1,h):Ln(h)}}if(32&a)return vp(s,o)()||Ln(o[s.index]);{const l=zm(o,s);return null!==l?Array.isArray(l)?l[0]:Nu(_c(o[16]),l):Nu(o,s.next)}}return null}function zm(o,s){return null!==s?o[16][6].projection[s.projection]:null}function si(o,s){const a=10+o+1;if(a<s.length){const l=s[a],h=l[1].firstChild;if(null!==h)return Nu(l,h)}return s[7]}function yh(o,s,a,l,h,p,y){for(;null!=a;){const b=l[a.index],E=a.type;if(y&&0===s&&(b&&$r(Ln(b),l),a.flags|=2),32!=(32&a.flags))if(8&E)yh(o,s,a.child,l,h,p,!1),Pu(s,o,h,b,p);else if(32&E){const M=vp(a,l);let O;for(;O=M();)Pu(s,o,h,O,p);Pu(s,o,h,b,p)}else 16&E?vh(o,s,l,a,h,p):Pu(s,o,h,b,p);a=y?a.projectionNext:a.next}}function td(o,s,a,l,h,p){yh(a,l,o.firstChild,s,h,p,!1)}function vh(o,s,a,l,h,p){const y=a[16],E=y[6].projection[l.projection];if(Array.isArray(E))for(let M=0;M<E.length;M++)Pu(s,o,h,E[M],p);else yh(o,s,E,y[3],h,p,!0)}function Ss(o,s,a){""===a?o.removeAttribute(s,"class"):o.setAttribute(s,"class",a)}function Ch(o,s,a){const{mergedAttrs:l,classes:h,styles:p}=a;null!==l&&vn(o,s,l),null!==h&&Ss(o,s,h),null!==p&&function Wm(o,s,a){o.setAttribute(s,"style",a)}(o,s,p)}function xs(o){return function Eh(){if(void 0===bh&&(bh=null,wt.trustedTypes))try{bh=wt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return bh}()?.createHTML(o)||o}function Jo(o){ji=o}function mn(o){return function nd(){if(void 0===ku&&(ku=null,wt.trustedTypes))try{ku=wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return ku}()?.createScriptURL(o)||o}class io{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rt})`}}class st extends io{getTypeName(){return"HTML"}}class Ym extends io{getTypeName(){return"Style"}}class _ extends io{getTypeName(){return"Script"}}class f extends io{getTypeName(){return"URL"}}class g extends io{getTypeName(){return"ResourceURL"}}function v(o){return o instanceof io?o.changingThisBreaksApplicationSecurity:o}function T(o,s){const a=function P(o){return o instanceof io&&o.getTypeName()||null}(o);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${rt})`)}return a===s}function z(o){return new st(o)}function pe(o){return new Ym(o)}function He(o){return new _(o)}function Qe(o){return new f(o)}function yt(o){return new g(o)}class Cn{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(xs(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class fn{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=xs(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=xs(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const ai=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function bc(o){return(o=String(o)).match(ai)?o:"unsafe:"+o}function oo(o){const s={};for(const a of o.split(","))s[a]=!0;return s}function Ec(...o){const s={};for(const a of o)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const Os=oo("area,br,col,hr,img,wbr"),Ia=oo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ih=oo("rp,rt"),Po=Ec(Os,Ec(Ia,oo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ec(Ih,oo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ec(Ih,Ia)),Dh=oo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),TC=Ec(Dh,oo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),AC=oo("script,style,template");class dS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Po.hasOwnProperty(a))return this.sanitizedSomething=!0,!AC.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let h=0;h<l.length;h++){const p=l.item(h),y=p.name,b=y.toLowerCase();if(!TC.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let E=p.value;Dh[b]&&(E=bc(E)),this.buf.push(" ",y,'="',Ww(E),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Po.hasOwnProperty(a)&&!Os.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Ww(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const SC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hS=/([^\#-~ |!])/g;function Ww(o){return o.replace(/&/g,"&amp;").replace(SC,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(hS,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mh;function Zw(o,s){let a=null;try{Mh=Mh||function ut(o){const s=new fn(o);return function Oo(){try{return!!(new window.DOMParser).parseFromString(xs(""),"text/html")}catch{return!1}}()?new Cn(s):s}(o);let l=s?String(s):"";a=Mh.getInertBodyElement(l);let h=5,p=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=p,p=a.innerHTML,a=Mh.getInertBodyElement(l)}while(l!==p);return xs((new dS).sanitizeChildren(Jm(a)||a))}finally{if(a){const l=Jm(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Jm(o){return"content"in o&&function fS(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var er=(()=>((er=er||{})[er.NONE=0]="NONE",er[er.HTML=1]="HTML",er[er.STYLE=2]="STYLE",er[er.SCRIPT=3]="SCRIPT",er[er.URL=4]="URL",er[er.RESOURCE_URL=5]="RESOURCE_URL",er))();function Kw(o){const s=Th();return s?s.sanitize(er.URL,o)||"":T(o,"URL")?v(o):bc(we(o))}function Yw(o){const s=Th();if(s)return mn(s.sanitize(er.RESOURCE_URL,o)||"");if(T(o,"ResourceURL"))return mn(v(o));throw new ge(904,!1)}function Qw(o,s,a){return function vS(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?Yw:Kw}(s,a)(o)}function Th(){const o=Me();return o&&o[12]}const Xm=new an("ENVIRONMENT_INITIALIZER"),xC=new an("INJECTOR",-1),OC=new an("INJECTOR_DEF_TYPES");class e_{get(s,a=xn){if(a===xn){const l=new Error(`NullInjectorError: No provider for ${he(s)}!`);throw l.name="NullInjectorError",l}return a}}function bS(...o){return{\u0275providers:Jw(0,o),\u0275fromNgModule:!0}}function Jw(o,...s){const a=[],l=new Set;let h;return Ui(s,p=>{const y=p;PC(y,a,[],l)&&(h||(h=[]),h.push(y))}),void 0!==h&&Xw(h,a),a}function Xw(o,s){for(let a=0;a<o.length;a++){const{providers:h}=o[a];RC(h,p=>{s.push(p)})}}function PC(o,s,a,l){if(!(o=K(o)))return!1;let h=null,p=hi(o);const y=!p&&Wt(o);if(p||y){if(y&&!y.standalone)return!1;h=o}else{const E=o.ngModule;if(p=hi(E),!p)return!1;h=E}const b=l.has(h);if(y){if(b)return!1;if(l.add(h),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const M of E)PC(M,s,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let M;l.add(h);try{Ui(p.imports,O=>{PC(O,s,a,l)&&(M||(M=[]),M.push(O))})}finally{}void 0!==M&&Xw(M,s)}if(!b){const M=$o(h)||(()=>new h);s.push({provide:h,useFactory:M,deps:mt},{provide:OC,useValue:h,multi:!0},{provide:Xm,useValue:()=>$e(h),multi:!0})}const E=p.providers;null==E||b||RC(E,O=>{s.push(O)})}}return h!==o&&void 0!==o.providers}function RC(o,s){for(let a of o)Ie(a)&&(a=a.\u0275providers),Array.isArray(a)?RC(a,s):s(a)}const ES=ne({provide:String,useValue:ne});function NC(o){return null!==o&&"object"==typeof o&&ES in o}function id(o){return"function"==typeof o}const t_=new an("Set Injector scope."),n_={},wS={};let kC;function r_(){return void 0===kC&&(kC=new e_),kC}class od{}class rI extends od{constructor(s,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,FC(s,y=>this.processProvider(y)),this.records.set(xC,Ah(void 0,this)),h.has("environment")&&this.records.set(od,Ah(void 0,this));const p=this.records.get(t_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(OC.multi,mt,ht.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=gr(this),l=In(void 0);try{return s()}finally{gr(a),In(l)}}get(s,a=xn,l=ht.Default){this.assertNotDestroyed(),l=Ct(l);const h=gr(this),p=In(void 0);try{if(!(l&ht.SkipSelf)){let b=this.records.get(s);if(void 0===b){const E=function AS(o){return"function"==typeof o||"object"==typeof o&&o instanceof an}(s)&&Fr(s);b=E&&this.injectableDefInScope(E)?Ah(i_(s),n_):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(l&ht.Self?r_():this.parent).get(s,a=l&ht.Optional&&a===xn?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[pi]=y[pi]||[]).unshift(he(s)),h)throw y;return function V(o,s,a,l){const h=o[pi];throw s[Ki]&&h.unshift(s[Ki]),o.message=function W(o,s,a,l=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=he(s);if(Array.isArray(s))h=s.map(he).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let b=s[y];p.push(y+":"+("string"==typeof b?JSON.stringify(b):he(b)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${o.replace(Ks,"\n  ")}`}("\n"+o.message,h,a,l),o.ngTokenPath=h,o[pi]=null,o}(y,s,"R3InjectorError",this.source)}throw y}finally{In(p),gr(h)}}resolveInjectorInitializers(){const s=gr(this),a=In(void 0);try{const l=this.get(Xm.multi,mt,ht.Self);for(const h of l)h()}finally{gr(s),In(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(he(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(s){let a=id(s=K(s))?s:K(s&&s.provide);const l=function DS(o){return NC(o)?Ah(void 0,o.useValue):Ah(iI(o),n_)}(s);if(id(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Ah(void 0,n_,!0),h.factory=()=>Et(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===n_&&(a.value=wS,a.value=a.factory()),"object"==typeof a.value&&a.value&&function TS(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=K(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function i_(o){const s=Fr(o),a=null!==s?s.factory:$o(o);if(null!==a)return a;if(o instanceof an)throw new ge(204,!1);if(o instanceof Function)return function IS(o){const s=o.length;if(s>0)throw Ms(s,"?"),new ge(204,!1);const a=function ss(o){const s=o&&(o[Ar]||o[ln]);if(s){const a=function vo(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(o);return null!==a?()=>a.factory(o):()=>new o}(o);throw new ge(204,!1)}function iI(o,s,a){let l;if(id(o)){const h=K(o);return $o(h)||i_(h)}if(NC(o))l=()=>K(o.useValue);else if(function tI(o){return!(!o||!o.useFactory)}(o))l=()=>o.useFactory(...Et(o.deps||[]));else if(function eI(o){return!(!o||!o.useExisting)}(o))l=()=>$e(K(o.useExisting));else{const h=K(o&&(o.useClass||o.provide));if(!function MS(o){return!!o.deps}(o))return $o(h)||i_(h);l=()=>new h(...Et(o.deps))}return l}function Ah(o,s,a=!1){return{factory:o,value:s,multi:a?[]:void 0}}function FC(o,s){for(const a of o)Array.isArray(a)?FC(a,s):a&&Ie(a)?FC(a.\u0275providers,s):s(a)}class LC{}class o_{}class SS{resolveComponentFactory(s){throw function s_(o){const s=Error(`No component factory found for ${he(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let Sh=(()=>{class o{}return o.NULL=new SS,o})();function oI(){return xh(cr(),Me())}function xh(o,s){return new xp(ar(o,s))}let xp=(()=>{class o{constructor(a){this.nativeElement=a}}return o.__NG_ELEMENT_ID__=oI,o})();function xS(o){return o instanceof xp?o.nativeElement:o}class a_{}let UC=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function OS(){const o=Me(),a=Jn(cr().index,o);return(Ur(a)?a:o)[11]}(),o})(),PS=(()=>{class o{}return o.\u0275prov=ft({token:o,providedIn:"root",factory:()=>null}),o})();class sI{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const aI=new sI("15.0.4"),BC={};function Op(o){return o.ngOriginalError}class Pp{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Op(s);for(;a&&Op(a);)a=Op(a);return a||null}}function Da(o){return o instanceof Function?o():o}function dI(o,s,a){let l=o.length;for(;;){const h=o.indexOf(s,a);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=s.length;if(h+p===l||o.charCodeAt(h+p)<=32)return h}a=h+1}}const hI="ng-template";function jS(o,s,a){let l=0;for(;l<o.length;){let h=o[l++];if(a&&"class"===h){if(h=o[l],-1!==dI(h.toLowerCase(),s,0))return!0}else if(1===h){for(;l<o.length&&"string"==typeof(h=o[l++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function fI(o){return 4===o.type&&o.value!==hI}function HS(o,s,a){return s===(4!==o.type||a?o.value:hI)}function $S(o,s,a){let l=4;const h=o.attrs||[],p=function qS(o){for(let s=0;s<o.length;s++)if(Cs(o[s]))return s;return o.length}(h);let y=!1;for(let b=0;b<s.length;b++){const E=s[b];if("number"!=typeof E){if(!y)if(4&l){if(l=2|1&l,""!==E&&!HS(o,E,a)||""===E&&1===s.length){if(Ps(l))return!1;y=!0}}else{const M=8&l?E:s[++b];if(8&l&&null!==o.attrs){if(!jS(o.attrs,M,a)){if(Ps(l))return!1;y=!0}continue}const F=GS(8&l?"class":E,h,fI(o),a);if(-1===F){if(Ps(l))return!1;y=!0;continue}if(""!==M){let G;G=F>p?"":h[F+1].toLowerCase();const J=8&l?G:null;if(J&&-1!==dI(J,M,0)||2&l&&M!==G){if(Ps(l))return!1;y=!0}}}}else{if(!y&&!Ps(l)&&!Ps(E))return!1;if(y&&Ps(E))continue;y=!1,l=E|1&l}}return Ps(l)||y}function Ps(o){return 0==(1&o)}function GS(o,s,a,l){if(null===s)return-1;let h=0;if(l||!a){let p=!1;for(;h<s.length;){const y=s[h];if(y===o)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let b=s[++h];for(;"string"==typeof b;)b=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function WS(o,s){let a=o.indexOf(4);if(a>-1)for(a++;a<o.length;){const l=o[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,o)}function pI(o,s,a=!1){for(let l=0;l<s.length;l++)if($S(o,s[l],a))return!0;return!1}function Ph(o,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(o.length===l.length){for(let h=0;h<o.length;h++)if(o[h]!==l[h])continue e;return!0}}return!1}function gI(o,s){return o?":not("+s.trim()+")":s}function mI(o){let s=o[0],a=1,l=2,h="",p=!1;for(;a<o.length;){let y=o[a];if("string"==typeof y)if(2&l){const b=o[++a];h+="["+y+(b.length>0?'="'+b+'"':"")+"]"}else 8&l?h+="."+y:4&l&&(h+=" "+y);else""!==h&&!Ps(y)&&(s+=gI(p,h),h=""),l=y,p=p||!Ps(l);a++}return""!==h&&(s+=gI(p,h)),s}const kt={};function GC(o){c_(Zt(),Me(),jr()+o,!1)}function c_(o,s,a,l){if(!l)if(3==(3&s[2])){const p=o.preOrderCheckHooks;null!==p&&ti(s,p,a)}else{const p=o.preOrderHooks;null!==p&&rc(s,p,0,a)}da(a)}function vI(o,s=null,a=null,l){const h=CI(o,s,a,l);return h.resolveInjectorInitializers(),h}function CI(o,s=null,a=null,l,h=new Set){const p=[a||mt,bS(o)];return l=l||("object"==typeof o?void 0:he(o)),new rI(p,s||r_(),l||null,h)}let sd=(()=>{class o{static create(a,l){if(Array.isArray(a))return vI({name:""},l,a,"");{const h=a.name??"";return vI({name:h},a.parent,a.providers,h)}}}return o.THROW_IF_NOT_FOUND=xn,o.NULL=new e_,o.\u0275prov=ft({token:o,providedIn:"any",factory:()=>$e(xC)}),o.__NG_ELEMENT_ID__=-1,o})();function so(o,s=ht.Default){const a=Me();return null===a?$e(o,s):ah(cr(),a,K(o),s)}function wI(){throw new Error("invalid")}function JC(o,s){const a=o.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],p=a[l+1];if(-1!==p){const y=o.data[p];lu(h),y.contentQueries(2,s[p],p)}}}function Rh(o,s,a,l,h,p,y,b,E,M,O){const F=s.blueprint.slice();return F[0]=h,F[2]=76|l,(null!==O||o&&1024&o[2])&&(F[2]|=1024),ca(F),F[3]=F[15]=o,F[8]=a,F[10]=y||o&&o[10],F[11]=b||o&&o[11],F[12]=E||o&&o[12]||null,F[9]=M||o&&o[9]||null,F[6]=p,F[20]=function hp(){return dC++}(),F[21]=O,F[16]=2==s.type?o[16]:F,F}function ud(o,s,a,l,h){let p=o.data[s];if(null===p)p=function Fu(o,s,a,l,h){const p=gs(),y=ec(),E=o.data[s]=function MI(o,s,a,l,h,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,s,l,h);return null===o.firstChild&&(o.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(o,s,a,l,h),function rp(){return It.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const y=function Xa(){const o=It.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Xr(p,!0),p}function tr(o,s,a,l){if(0===a)return-1;const h=s.length;for(let p=0;p<a;p++)s.push(l),o.blueprint.push(l),o.data.push(null);return h}function m_(o,s,a){tc(s);try{const l=o.viewQuery;null!==l&&d0(1,l,a);const h=o.template;null!==h&&kp(o,s,h,1,a),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&JC(o,s),o.staticViewQueries&&d0(2,o.viewQuery,a);const p=o.components;null!==p&&function e0(o,s){for(let a=0;a<s.length;a++)lx(o,s[a])}(s,p)}catch(l){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),l}finally{s[2]&=-5,op()}}function Nh(o,s,a,l){const h=s[2];if(128!=(128&h)){tc(s);try{ca(s),function au(o){return It.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==a&&kp(o,s,a,2,l);const y=3==(3&h);if(y){const M=o.preOrderCheckHooks;null!==M&&ti(s,M,null)}else{const M=o.preOrderHooks;null!==M&&rc(s,M,0,null),yi(s,0)}if(function c0(o){for(let s=Ql(o);null!==s;s=Cp(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const h=a[l],p=h[3];0==(512&h[2])&&ua(p,1),h[2]|=512}}}(s),function cx(o){for(let s=Ql(o);null!==s;s=Cp(s))for(let a=10;a<s.length;a++){const l=s[a],h=l[1];aa(l)&&Nh(h,l,h.template,l[8])}}(s),null!==o.contentQueries&&JC(o,s),y){const M=o.contentCheckHooks;null!==M&&ti(s,M)}else{const M=o.contentHooks;null!==M&&rc(s,M,1),yi(s,1)}!function II(o,s){const a=o.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)da(~h);else{const p=h,y=a[++l],b=a[++l];uu(y,p),b(2,s[p])}}}finally{da(-1)}}(o,s);const b=o.components;null!==b&&function XC(o,s){for(let a=0;a<s.length;a++)ux(o,s[a])}(s,b);const E=o.viewQuery;if(null!==E&&d0(2,E,l),y){const M=o.viewCheckHooks;null!==M&&ti(s,M)}else{const M=o.viewHooks;null!==M&&rc(s,M,2),yi(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,ua(s[3],-1))}finally{op()}}}function kp(o,s,a,l,h){const p=jr(),y=2&l;try{da(-1),y&&s.length>22&&c_(o,s,22,!1),a(l,h)}finally{da(p)}}function t0(o,s,a){if(ea(s)){const h=s.directiveEnd;for(let p=s.directiveStart;p<h;p++){const y=o.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function kh(o,s,a){!Ja()||(function ax(o,s,a,l){const h=a.directiveStart,p=a.directiveEnd;mi(a)&&function RI(o,s,a){const l=ar(s,o),h=n0(a),p=o[10],y=w_(o,Rh(o,h,null,a.onPush?32:16,l,s,p,p.createRenderer(l,a),null,null,null));o[s.index]=y}(s,a,o.data[h+a.componentOffset]),o.firstCreatePass||ws(a,s),$r(l,s);const y=a.initialInputs;for(let b=h;b<p;b++){const E=o.data[b],M=Ci(s,o,b,a);$r(M,s),null!==y&&ld(0,b-h,M,E,0,y),Br(E)&&(Jn(a.index,s)[8]=Ci(s,o,b,a))}}(o,s,a,ar(a,s)),64==(64&a.flags)&&xI(o,s,a))}function Fh(o,s,a=ar){const l=s.localNames;if(null!==l){let h=s.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],b=-1===y?a(s,o):o[y];o[h++]=b}}}function n0(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=__(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function __(o,s,a,l,h,p,y,b,E,M){const O=22+l,F=O+h,G=function tx(o,s){const a=[];for(let l=0;l<s;l++)a.push(l<o?null:kt);return a}(O,F),J="function"==typeof M?M():M;return G[1]={type:o,blueprint:G,template:a,queries:null,viewQuery:b,declTNode:s,data:G.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:J,incompleteFirstPass:!1}}function Lh(o,s,a,l){const h=Vh(s);null===a?h.push(l):(h.push(a),o.firstCreatePass&&h0(o).push(l,h.length-1))}function y_(o,s,a,l){for(let h in o)if(o.hasOwnProperty(h)){a=null===a?{}:a;const p=o[h];null===l?TI(a,s,h,p):l.hasOwnProperty(h)&&TI(a,s,l[h],p)}return a}function TI(o,s,a,l){o.hasOwnProperty(a)?o[a].push(s,l):o[a]=[s,l]}function Ro(o,s,a,l,h,p,y,b){const E=ar(s,a);let O,M=s.inputs;!b&&null!=M&&(O=M[l])?(M_(o,a,O,l,h),mi(s)&&AI(a,s.index)):3&s.type&&(l=function rx(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(l),h=null!=y?y(h,s.value||"",l):h,p.setProperty(E,l,h))}function AI(o,s){const a=Jn(s,o);16&a[2]||(a[2]|=32)}function v_(o,s,a,l){let h=!1;if(Ja()){const p=null===l?null:{"":-1},y=function b_(o,s){const a=o.directiveRegistry;let l=null,h=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(pI(s,y.selectors,!1))if(l||(l=[]),Br(y))if(null!==y.findHostDirectiveDefs){const b=[];h=h||new Map,y.findHostDirectiveDefs(y,b,h),l.unshift(...b,y),E_(o,s,b.length)}else l.unshift(y),E_(o,s,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,l,h),l.push(y)}return null===l?null:[l,h]}(o,a);let b,E;null===y?b=E=null:[b,E]=y,null!==b&&(h=!0,C_(o,s,a,b,p,E)),p&&function OI(o,s,a){if(s){const l=o.localNames=[];for(let h=0;h<s.length;h+=2){const p=a[s[h+1]];if(null==p)throw new ge(-301,!1);l.push(s[h],p)}}}(a,l,p)}return a.mergedAttrs=Mo(a.mergedAttrs,a.attrs),h}function C_(o,s,a,l,h,p){for(let M=0;M<l.length;M++)yu(ws(a,s),o,l[M].type);!function o0(o,s,a){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+a,o.providerIndexes=s}(a,o.data.length,l.length);for(let M=0;M<l.length;M++){const O=l[M];O.providersResolver&&O.providersResolver(O)}let y=!1,b=!1,E=tr(o,s,l.length,null);for(let M=0;M<l.length;M++){const O=l[M];a.mergedAttrs=Mo(a.mergedAttrs,O.hostAttrs),s0(o,a,s,E,O),PI(E,O,h),null!==O.contentQueries&&(a.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=64);const F=O.type.prototype;!y&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(a.index),y=!0),!b&&(F.ngOnChanges||F.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(a.index),b=!0),E++}!function nx(o,s,a){const h=s.directiveEnd,p=o.data,y=s.attrs,b=[];let E=null,M=null;for(let O=s.directiveStart;O<h;O++){const F=p[O],G=a?a.get(F):null,ye=G?G.outputs:null;E=y_(F.inputs,O,E,G?G.inputs:null),M=y_(F.outputs,O,M,ye);const Ue=null===E||null===y||fI(s)?null:dd(E,O,y);b.push(Ue)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=8),E.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=b,s.inputs=E,s.outputs=M}(o,a,p)}function xI(o,s,a){const l=a.directiveStart,h=a.directiveEnd,p=a.index,y=function la(){return It.lFrame.currentDirectiveIndex}();try{da(p);for(let b=l;b<h;b++){const E=o.data[b],M=s[b];Pl(b),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&r0(E,M)}}finally{da(-1),Pl(y)}}function r0(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function E_(o,s,a){s.componentOffset=a,(o.components||(o.components=[])).push(s.index)}function PI(o,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=o;Br(s)&&(a[""]=o)}}function s0(o,s,a,l,h){o.data[l]=h;const p=h.factory||(h.factory=$o(h.type)),y=new ha(p,Br(h),so);o.blueprint[l]=y,a[l]=y,function SI(o,s,a,l,h){const p=h.hostBindings;if(p){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const b=~s.index;(function sx(o){let s=o.length;for(;s>0;){const a=o[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=b&&y.push(b),y.push(a,l,p)}}(o,s,l,tr(o,a,h.hostVars,kt),h)}function Ns(o,s,a,l,h,p){const y=ar(o,s);!function a0(o,s,a,l,h,p,y){if(null==p)o.removeAttribute(s,h,a);else{const b=null==y?we(p):y(p,l||"",h);o.setAttribute(s,h,b,a)}}(s[11],y,p,o.value,a,l,h)}function ld(o,s,a,l,h,p){const y=p[s];if(null!==y){const b=l.setInput;for(let E=0;E<y.length;){const M=y[E++],O=y[E++],F=y[E++];null!==b?l.setInput(a,F,M,O):a[O]=F}}}function dd(o,s,a){let l=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===l&&(l=[]);const y=o[p];for(let b=0;b<y.length;b+=2)if(y[b]===s){l.push(p,y[b+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function NI(o,s,a,l){return[o,!0,!1,s,null,0,l,a,null,null]}function ux(o,s){const a=Jn(s,o);if(aa(a)){const l=a[1];48&a[2]?Nh(l,a,l.template,a[8]):a[5]>0&&u0(a)}}function u0(o){for(let l=Ql(o);null!==l;l=Cp(l))for(let h=10;h<l.length;h++){const p=l[h];if(aa(p))if(512&p[2]){const y=p[1];Nh(y,p,y.template,p[8])}else p[5]>0&&u0(p)}const a=o[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=Jn(a[l],o);aa(h)&&h[5]>0&&u0(h)}}function lx(o,s){const a=Jn(s,o),l=a[1];(function dx(o,s){for(let a=s.length;a<o.blueprint.length;a++)s.push(o.blueprint[a])})(l,a),m_(l,a,a[8])}function w_(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function l0(o){for(;o;){o[2]|=32;const s=_c(o);if(ta(o)&&!s)return o;o=s}return null}function I_(o,s,a,l=!0){const h=s[10];h.begin&&h.begin();try{Nh(o,s,o.template,a)}catch(y){throw l&&D_(s,y),y}finally{h.end&&h.end()}}function d0(o,s,a){lu(0),s(o,a)}function Vh(o){return o[7]||(o[7]=[])}function h0(o){return o.cleanup||(o.cleanup=[])}function D_(o,s){const a=o[9],l=a?a.get(Pp,null):null;l&&l.handleError(s)}function M_(o,s,a,l,h){for(let p=0;p<a.length;){const y=a[p++],b=a[p++],E=s[y],M=o.data[y];null!==M.setInput?M.setInput(E,h,l,b):E[b]=h}}function Uh(o,s,a){let l=a?o.styles:null,h=a?o.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const b=s[y];"number"==typeof b?p=b:1==p?h=de(h,b):2==p&&(l=de(l,b+": "+s[++y]+";"))}a?o.styles=l:o.stylesWithoutHost=l,a?o.classes=h:o.classesWithoutHost=h}function Fs(o,s,a,l,h=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&l.push(Ln(p)),gi(p))for(let b=10;b<p.length;b++){const E=p[b],M=E[1].firstChild;null!==M&&Fs(E[1],E,M,l)}const y=a.type;if(8&y)Fs(o,s,a.child,l);else if(32&y){const b=vp(a,s);let E;for(;E=b();)l.push(E)}else if(16&y){const b=zm(s,a);if(Array.isArray(b))l.push(...b);else{const E=_c(s[16]);Fs(E[1],E,b,l,!0)}}a=h?a.projectionNext:a.next}return l}class Mc{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Fs(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(gi(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Ip(s,l),ya(a,l))}this._attachedToViewContainer=!1}Vm(this._lView[1],this._lView)}onDestroy(s){Lh(this._lView[1],this._lView,null,s)}markForCheck(){l0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){I_(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ep(o,s){td(o,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=s}}class kI extends Mc{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;I_(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class FI extends Sh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Wt(s);return new jh(a,this.ngModule)}}function Bh(o){const s=[];for(let a in o)o.hasOwnProperty(a)&&s.push({propName:o[a],templateName:a});return s}class LI{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){l=Ct(l);const h=this.injector.get(s,BC,l);return h!==BC||a===BC?h:this.parentInjector.get(s,a,l)}}class jh extends o_{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function $C(o){return o.map(mI).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Bh(this.componentDef.inputs)}get outputs(){return Bh(this.componentDef.outputs)}create(s,a,l,h){let p=(h=h||this.ngModule)instanceof od?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new LI(s,p):s,b=y.get(a_,null);if(null===b)throw new ge(407,!1);const E=y.get(PS,null),M=b.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",F=l?function DI(o,s,a){return o.selectRootElement(s,a===Gt.ShadowDom)}(M,l,this.componentDef.encapsulation):Jl(M,O,function f0(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(O)),G=this.componentDef.onPush?288:272,J=__(0,null,null,1,0,null,null,null,null,null),ye=Rh(null,J,null,G,null,null,b,M,E,y,null);let Ue,qe;tc(ye);try{const We=this.componentDef;let bt,xe=null;We.findHostDirectiveDefs?(bt=[],xe=new Map,We.findHostDirectiveDefs(We,bt,xe),bt.push(We)):bt=[We];const Tt=function UI(o,s){const a=o[1];return o[22]=s,ud(a,22,2,"#host",null)}(ye,F),Rn=function p0(o,s,a,l,h,p,y,b){const E=h[1];!function BI(o,s,a,l){for(const h of o)s.mergedAttrs=Mo(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(Uh(s,s.mergedAttrs,!0),null!==a&&Ch(l,a,s))}(l,o,s,y);const M=p.createRenderer(s,a),O=Rh(h,n0(a),null,a.onPush?32:16,h[o.index],o,p,M,b||null,null,null);return E.firstCreatePass&&E_(E,o,l.length-1),w_(h,O),h[o.index]=O}(Tt,F,We,bt,ye,b,M);qe=ps(J,22),F&&function Fp(o,s,a,l){if(l)vn(o,a,["ng-version",aI.full]);else{const{attrs:h,classes:p}=function _I(o){const s=[],a=[];let l=1,h=2;for(;l<o.length;){let p=o[l];if("string"==typeof p)2===h?""!==p&&s.push(p,o[++l]):8===h&&a.push(p);else{if(!Ps(h))break;h=p}l++}return{attrs:s,classes:a}}(s.selectors[0]);h&&vn(o,a,h),p&&p.length>0&&Ss(o,a,p.join(" "))}}(M,We,F,l),void 0!==a&&function HI(o,s,a){const l=o.projection=[];for(let h=0;h<s.length;h++){const p=a[h];l.push(null!=p?Array.from(p):null)}}(qe,this.ngContentSelectors,a),Ue=function jI(o,s,a,l,h,p){const y=cr(),b=h[1],E=ar(y,h);C_(b,h,y,a,null,l);for(let O=0;O<a.length;O++)$r(Ci(h,b,y.directiveStart+O,y),h);xI(b,h,y),E&&$r(E,h);const M=Ci(h,b,y.directiveStart+y.componentOffset,y);if(o[8]=h[8]=M,null!==p)for(const O of p)O(M,s);return t0(b,y,o),M}(Rn,We,bt,xe,ye,[Xo]),m_(J,ye,null)}finally{op()}return new VI(this.componentType,Ue,xh(qe,ye),ye,qe)}}class VI extends LC{constructor(s,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new kI(h),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[s])){const p=this._rootLView;M_(p[1],p,h,s,a),AI(p,this._tNode.index)}}get injector(){return new ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Xo(){const o=cr();Io(Me()[1],o)}function nr(o){let s=function fe(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),a=!0;const l=[o];for(;s;){let h;if(Br(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ge(903,!1);h=s.\u0275dir}if(h){if(a){l.push(h);const y=o;y.inputs=Lu(o.inputs),y.declaredInputs=Lu(o.declaredInputs),y.outputs=Lu(o.outputs);const b=h.hostBindings;b&&GI(o,b);const E=h.viewQuery,M=h.contentQueries;if(E&&$I(o,E),M&&px(o,M),me(o.inputs,h.inputs),me(o.declaredInputs,h.declaredInputs),me(o.outputs,h.outputs),Br(h)&&h.data.animation){const O=o.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const b=p[y];b&&b.ngInherit&&b(o),b===nr&&(a=!1)}}s=Object.getPrototypeOf(s)}!function g0(o){let s=0,a=null;for(let l=o.length-1;l>=0;l--){const h=o[l];h.hostVars=s+=h.hostVars,h.hostAttrs=Mo(h.hostAttrs,a=Mo(a,h.hostAttrs))}}(l)}function Lu(o){return o===Mn?{}:o===mt?[]:o}function $I(o,s){const a=o.viewQuery;o.viewQuery=a?(l,h)=>{s(l,h),a(l,h)}:s}function px(o,s){const a=o.contentQueries;o.contentQueries=a?(l,h,p)=>{s(l,h,p),a(l,h,p)}:s}function GI(o,s){const a=o.hostBindings;o.hostBindings=a?(l,h)=>{s(l,h),a(l,h)}:s}let A_=null;function fd(){if(!A_){const o=wt.Symbol;if(o&&o.iterator)A_=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(A_=l)}}}return A_}function Lp(o){return!!Ls(o)&&(Array.isArray(o)||!(o instanceof Map)&&fd()in o)}function Ls(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ke(o,s,a){return!Object.is(o[s],a)&&(o[s]=a,!0)}function pd(o,s,a,l){const h=Me();return Ke(h,Ji(),s)&&(Zt(),Ns(pn(),h,o,s,a,l)),pd}function gd(o,s,a,l){return Ke(o,Ji(),a)?s+we(a)+l:kt}function es(o,s,a,l,h,p,y,b){const E=Me(),M=Zt(),O=o+22,F=M.firstCreatePass?function Bp(o,s,a,l,h,p,y,b,E){const M=s.consts,O=ud(s,o,4,y||null,ki(M,b));v_(s,a,O,ki(M,E)),Io(s,O);const F=O.tViews=__(2,O,l,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M);return null!==s.queries&&(s.queries.template(s,O),F.queries=s.queries.embeddedTView(O)),O}(O,M,E,s,a,l,h,p,y):M.data[O];Xr(F,!1);const G=E[11].createComment("");_h(M,E,G,F),$r(G,E),w_(E,E[O]=NI(G,E,G,F)),Qc(F)&&kh(M,E,F),null!=y&&Fh(E,F,b)}function v0(o){return function wo(o,s){return o[s]}(function su(){return It.lFrame.contextLView}(),22+o)}function N_(o,s,a){const l=Me();return Ke(l,Ji(),s)&&Ro(Zt(),pn(),l,o,s,l[11],a,!1),N_}function Ac(o,s,a,l,h){const y=h?"class":"style";M_(o,a,s.inputs[y],y,l)}function vd(o,s,a,l){const h=Me(),p=Zt(),y=22+o,b=h[11],E=h[y]=Jl(b,s,function sp(){return It.lFrame.currentNamespace}()),M=p.firstCreatePass?function C0(o,s,a,l,h,p,y){const b=s.consts,M=ud(s,o,2,h,ki(b,p));return v_(s,a,M,ki(b,y)),null!==M.attrs&&Uh(M,M.attrs,!1),null!==M.mergedAttrs&&Uh(M,M.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,M),M}(y,p,h,0,s,a,l):p.data[y];return Xr(M,!0),Ch(b,E,M),32!=(32&M.flags)&&_h(p,h,E,M),0===function Qa(){return It.lFrame.elementDepthCount}()&&$r(E,h),function iu(){It.lFrame.elementDepthCount++}(),Qc(M)&&(kh(p,h,M),t0(p,M,h)),null!==l&&Fh(h,M),vd}function $h(){let o=cr();ec()?ms():(o=o.parent,Xr(o,!1));const s=o;!function Al(){It.lFrame.elementDepthCount--}();const a=Zt();return a.firstCreatePass&&(Io(a,o),ea(o)&&a.queries.elementEnd(o)),null!=s.classesWithoutHost&&function gu(o){return 0!=(8&o.flags)}(s)&&Ac(a,s,Me(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Fl(o){return 0!=(16&o.flags)}(s)&&Ac(a,s,Me(),s.stylesWithoutHost,!1),$h}function k_(o,s,a,l){return vd(o,s,a,l),$h(),k_}function Hp(){return Me()}function F_(o){return!!o&&"function"==typeof o.then}function E0(o){return!!o&&"function"==typeof o.subscribe}const $p=E0;function Gp(o,s,a,l){const h=Me(),p=Zt(),y=cr();return function I0(o,s,a,l,h,p,y){const b=Qc(l),M=o.firstCreatePass&&h0(o),O=s[8],F=Vh(s);let G=!0;if(3&l.type||y){const Ue=ar(l,s),qe=y?y(Ue):Ue,We=F.length,bt=y?Tt=>y(Ln(Tt[l.index])):l.index;let xe=null;if(!y&&b&&(xe=function zh(o,s,a,l){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===l){const b=s[7],E=h[p+2];return b.length>E?b[E]:null}"string"==typeof y&&(p+=2)}return null}(o,s,h,l.index)),null!==xe)(xe.__ngLastListenerFn__||xe).__ngNextListenerFn__=p,xe.__ngLastListenerFn__=p,G=!1;else{p=D0(l,s,O,p,!1);const Tt=a.listen(qe,h,p);F.push(p,Tt),M&&M.push(h,bt,We,We+1)}}else p=D0(l,s,O,p,!1);const J=l.outputs;let ye;if(G&&null!==J&&(ye=J[h])){const Ue=ye.length;if(Ue)for(let qe=0;qe<Ue;qe+=2){const Rn=s[ye[qe]][ye[qe+1]].subscribe(p),_n=F.length;F.push(p,Rn),M&&M.push(h,l.index,_n,-(_n+1))}}}(p,h,h[11],y,o,s,l),Gp}function bd(o,s,a,l){try{return!1!==a(l)}catch(h){return D_(o,h),!1}}function D0(o,s,a,l,h){return function p(y){if(y===Function)return l;l0(o.componentOffset>-1?Jn(o.index,s):s);let E=bd(s,0,l,y),M=p.__ngNextListenerFn__;for(;M;)E=bd(s,0,M,y)&&E,M=M.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function M0(o=1){return function Cm(o){return(It.lFrame.contextLView=function du(o,s){for(;o>0;)s=s[15],o--;return s}(o,It.lFrame.contextLView))[8]}(o)}function zp(o,s){let a=null;const l=function zS(o){const s=o.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(o);for(let h=0;h<s.length;h++){const p=s[h];if("*"!==p){if(null===l?pI(o,p,!0):Ph(l,p))return h}else a=h}return a}function qp(o){const s=Me()[16][6];if(!s.projection){const l=s.projection=Ms(o?o.length:1,null),h=l.slice();let p=s.child;for(;null!==p;){const y=o?zp(p,o):0;null!==y&&(h[y]?h[y].projectionNext=p:l[y]=p,h[y]=p),p=p.next}}}function L_(o,s=0,a){const l=Me(),h=Zt(),p=ud(h,22+o,16,null,a||null);null===p.projection&&(p.projection=s),ms(),32!=(32&p.flags)&&function Ap(o,s,a){vh(s[11],0,s,a,Bm(o,a,s),Gm(a.parent||s[6],a,s))}(h,l,p)}function Wp(o,s,a){return Zp(o,"",s,"",a),Wp}function Zp(o,s,a,l,h){const p=Me(),y=gd(p,s,a,l);return y!==kt&&Ro(Zt(),pn(),p,o,y,p[11],h,!1),Zp}function Wh(o,s){return o<<17|s<<2}function Sa(o){return o>>17&32767}function j_(o){return 2|o}function xa(o){return(131068&o)>>2}function Zh(o,s){return-131069&o|s<<2}function dr(o){return 1|o}function S0(o,s,a,l,h){const p=o[a+1],y=null===s;let b=l?Sa(p):xa(p),E=!1;for(;0!==b&&(!1===E||y);){const O=o[b+1];x0(o[b],s)&&(E=!0,o[b+1]=l?dr(O):j_(O)),b=l?Sa(O):xa(O)}E&&(o[a+1]=l?j_(p):dr(p))}function x0(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&va(o,s)>=0}function Xp(o,s){return function ts(o,s,a,l){const h=Me(),p=Zt(),y=function ei(o){const s=It.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,a}(2);p.firstUpdatePass&&function J_(o,s,a,l){const h=o.data;if(null===h[a+1]){const p=h[jr()],y=function Sc(o,s){return s>=o.expandoStartIndex}(o,a);(function ng(o,s){return 0!=(o.flags&(s?8:16))})(p,l)&&null===s&&!y&&(s=!1),s=function eg(o,s,a,l){const h=function Wo(o){const s=It.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let p=l?s.residualClasses:s.residualStyles;if(null===h)0===(l?s.classBindings:s.styleBindings)&&(a=wd(a=qr(null,o,s,a,l),s.attrs,l),p=null);else{const y=s.directiveStylingLast;if(-1===y||o[y]!==h)if(a=qr(h,o,s,a,l),null===p){let E=function k0(o,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==xa(l))return o[Sa(l)]}(o,s,l);void 0!==E&&Array.isArray(E)&&(E=qr(null,o,s,E[1],l),E=wd(E,s.attrs,l),function Kh(o,s,a,l){o[Sa(a?s.classBindings:s.styleBindings)]=l}(o,s,l,E))}else p=function F0(o,s,a){let l;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)l=wd(l,o[p].hostAttrs,a);return wd(l,s.attrs,a)}(o,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),a}(h,p,s,l),function G_(o,s,a,l,h,p){let y=p?s.classBindings:s.styleBindings,b=Sa(y),E=xa(y);o[l]=a;let O,M=!1;if(Array.isArray(a)){const F=a;O=F[1],(null===O||va(F,O)>0)&&(M=!0)}else O=a;if(h)if(0!==E){const G=Sa(o[b+1]);o[l+1]=Wh(G,b),0!==G&&(o[G+1]=Zh(o[G+1],l)),o[b+1]=function A0(o,s){return 131071&o|s<<17}(o[b+1],l)}else o[l+1]=Wh(b,0),0!==b&&(o[b+1]=Zh(o[b+1],l)),b=l;else o[l+1]=Wh(E,0),0===b?b=l:o[E+1]=Zh(o[E+1],l),E=l;M&&(o[l+1]=j_(o[l+1])),S0(o,O,l,!0),S0(o,O,l,!1),function ZI(o,s,a,l,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof s&&va(p,s)>=0&&(a[l+1]=dr(a[l+1]))}(s,O,o,l,p),y=Wh(b,E),p?s.classBindings=y:s.styleBindings=y}(h,p,s,a,y,l)}}(p,o,y,l),s!==kt&&Ke(h,y,s)&&function tg(o,s,a,l,h,p,y,b){if(!(3&s.type))return;const E=o.data,M=E[b+1],O=function H_(o){return 1==(1&o)}(M)?X_(E,s,a,h,xa(M),y):void 0;Jh(O)||(Jh(p)||function B_(o){return 2==(2&o)}(M)&&(p=X_(E,null,a,h,b,y)),function qm(o,s,a,l,h){if(s)h?o.addClass(a,l):o.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:xo.DashCase;null==h?o.removeStyle(a,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=xo.Important),o.setStyle(a,l,h,p))}}(l,y,qo(jr(),a),h,p))}(p,p.data[jr()],h,h[11],o,h[y+1]=function Xh(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=he(v(o)))),o}(s,a),l,y)}(o,s,null,!0),Xp}function qr(o,s,a,l,h){let p=null;const y=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<y&&(p=s[b],l=wd(l,p.hostAttrs,h),p!==o);)b++;return null!==o&&(a.directiveStylingLast=b),l}function wd(o,s,a){const l=a?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?h=y:h===l&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),lr(o,y,!!a||s[++p]))}return void 0===o?null:o}function X_(o,s,a,l,h,p){const y=null===s;let b;for(;h>0;){const E=o[h],M=Array.isArray(E),O=M?E[1]:E,F=null===O;let G=a[h+1];G===kt&&(G=F?mt:void 0);let J=F?Ts(G,l):O===l?G:void 0;if(M&&!Jh(J)&&(J=Ts(E,l)),Jh(J)&&(b=J,y))return b;const ye=o[h+1];h=y?Sa(ye):xa(ye)}if(null!==s){let E=p?s.residualClasses:s.residualStyles;null!=E&&(b=Ts(E,l))}return b}function Jh(o){return void 0!==o}function rg(o,s=""){const a=Me(),l=Zt(),h=o+22,p=l.firstCreatePass?ud(l,h,1,s,null):l.data[h],y=a[h]=function bp(o,s){return o.createText(s)}(a[11],s);_h(l,a,y,p),Xr(p,!1)}function ef(o){return Uu("",o,""),ef}function Uu(o,s,a){const l=Me(),h=gd(l,o,s,a);return h!==kt&&function ks(o,s,a){const l=qo(s,o);!function Fm(o,s,a){o.setValue(s,a)}(o[11],l,a)}(l,jr(),h),Uu}const Hi=void 0;var Y0=["en",[["a","p"],["AM","PM"],Hi],[["AM","PM"],Hi,Hi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hi,"{1} 'at' {0}",Hi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function K0(o){const a=Math.floor(Math.abs(o)),l=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Hu={};function oy(o){const s=function ay(o){return o.toLowerCase().replace(/_/g,"-")}(o);let a=Q0(s);if(a)return a;const l=s.split("-")[0];if(a=Q0(l),a)return a;if("en"===l)return Y0;throw new ge(701,!1)}function sy(o){return oy(o)[vt.PluralCase]}function Q0(o){return o in Hu||(Hu[o]=wt.ng&&wt.ng.common&&wt.ng.common.locales&&wt.ng.common.locales[o]),Hu[o]}var vt=(()=>((vt=vt||{})[vt.LocaleId=0]="LocaleId",vt[vt.DayPeriodsFormat=1]="DayPeriodsFormat",vt[vt.DayPeriodsStandalone=2]="DayPeriodsStandalone",vt[vt.DaysFormat=3]="DaysFormat",vt[vt.DaysStandalone=4]="DaysStandalone",vt[vt.MonthsFormat=5]="MonthsFormat",vt[vt.MonthsStandalone=6]="MonthsStandalone",vt[vt.Eras=7]="Eras",vt[vt.FirstDayOfWeek=8]="FirstDayOfWeek",vt[vt.WeekendRange=9]="WeekendRange",vt[vt.DateFormat=10]="DateFormat",vt[vt.TimeFormat=11]="TimeFormat",vt[vt.DateTimeFormat=12]="DateTimeFormat",vt[vt.NumberSymbols=13]="NumberSymbols",vt[vt.NumberFormats=14]="NumberFormats",vt[vt.CurrencyCode=15]="CurrencyCode",vt[vt.CurrencySymbol=16]="CurrencySymbol",vt[vt.CurrencyName=17]="CurrencyName",vt[vt.Currencies=18]="Currencies",vt[vt.Directionality=19]="Directionality",vt[vt.PluralCase=20]="PluralCase",vt[vt.ExtraData=21]="ExtraData",vt))();const $u="en-US";let Ad=$u;function xt(o,s,a,l,h){if(o=K(o),Array.isArray(o))for(let p=0;p<o.length;p++)xt(o[p],s,a,l,h);else{const p=Zt(),y=Me();let b=id(o)?o:K(o.provide),E=iI(o);const M=cr(),O=1048575&M.providerIndexes,F=M.directiveStart,G=M.providerIndexes>>20;if(id(o)||!o.multi){const J=new ha(E,h,so),ye=Sn(b,s,h?O:O+G,F);-1===ye?(yu(ws(M,y),p,b),Pc(p,o,s.length),s.push(b),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(J),y.push(J)):(a[ye]=J,y[ye]=J)}else{const J=Sn(b,s,O+G,F),ye=Sn(b,s,O,O+G),Ue=J>=0&&a[J],qe=ye>=0&&a[ye];if(h&&!qe||!h&&!Ue){yu(ws(M,y),p,b);const We=function vD(o,s,a,l,h){const p=new ha(o,a,so);return p.multi=[],p.index=s,p.componentProviders=0,wy(p,h,l&&!a),p}(h?vf:gt,a.length,h,l,E);!h&&qe&&(a[ye].providerFactory=We),Pc(p,o,s.length,0),s.push(b),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(We),y.push(We)}else Pc(p,o,J>-1?J:ye,wy(a[h?ye:J],E,!h&&l));!h&&l&&qe&&a[ye].componentProviders++}}}function Pc(o,s,a,l){const h=id(s),p=function nI(o){return!!o.useClass}(s);if(h||p){const E=(p?K(s.useClass):s).prototype.ngOnDestroy;if(E){const M=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const O=M.indexOf(a);-1===O?M.push(a,[l,E]):M[O+1].push(l,E)}else M.push(a,E)}}}function wy(o,s,a){return a&&o.componentProviders++,o.multi.push(s)-1}function Sn(o,s,a,l){for(let h=a;h<l;h++)if(s[h]===o)return h;return-1}function gt(o,s,a,l){return Jt(this.multi,[])}function vf(o,s,a,l){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,b=Ci(a,a[1],this.providerFactory.index,l);p=b.slice(0,y),Jt(h,p);for(let E=y;E<b.length;E++)p.push(b[E])}else p=[],Jt(h,p);return p}function Jt(o,s){for(let a=0;a<o.length;a++)s.push((0,o[a])());return s}function Bn(o,s=[]){return a=>{a.providersResolver=(l,h)=>function vb(o,s,a){const l=Zt();if(l.firstCreatePass){const h=Br(o);xt(a,l.data,l.blueprint,h,!0),xt(s,l.data,l.blueprint,h,!1)}}(l,h?h(o):o,s)}}class Ge{}class Cf{}function Iy(o,s){return new Cb(o,s??null)}class Cb extends Ge{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new FI(this);const l=_r(s);this._bootstrapComponents=Da(l.bootstrap),this._r3Injector=CI(s,a,[{provide:Ge,useValue:this},{provide:Sh,useValue:this.componentFactoryResolver}],he(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class kd extends Cf{constructor(s){super(),this.moduleType=s}create(s){return new Cb(this.moduleType,s)}}class CD extends Ge{constructor(s,a,l){super(),this.componentFactoryResolver=new FI(this),this.instance=null;const h=new rI([...s,{provide:Ge,useValue:this},{provide:Sh,useValue:this.componentFactoryResolver}],a||r_(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function qu(o,s,a=null){return new CD(o,s,a).injector}let bb=(()=>{class o{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Jw(0,a.type),h=l.length>0?qu([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=ft({token:o,providedIn:"environment",factory:()=>new o($e(od))}),o})();function Dy(o){o.getStandaloneInjector=s=>s.get(bb).getOrCreateStandaloneInjector(o)}function Fc(o){return s=>{setTimeout(o,void 0,s)}}const ko=class Ab extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let h=s,p=a||(()=>null),y=l;if(s&&"object"==typeof s){const E=s;h=E.next?.bind(E),p=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(p=Fc(p),h&&(h=Fc(h)),y&&(y=Fc(y)));const b=super.subscribe({next:h,error:p,complete:y});return s instanceof X.w0&&s.add(b),b}};function Yu(){return this._results[fd()]()}class Df{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=fd(),l=Df.prototype;l[a]||(l[a]=Yu)}get changes(){return this._changes||(this._changes=new ko)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const h=function Hr(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function ap(o,s,a){if(o.length!==s.length)return!1;for(let l=0;l<o.length;l++){let h=o[l],p=s[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Fa=(()=>{class o{}return o.__NG_ELEMENT_ID__=yg,o})();const Sb=Fa,xb=class extends Sb{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tViews,h=Rh(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(l)),m_(l,h,s),new Mc(h)}};function yg(){return Lc(cr(),Me())}function Lc(o,s){return 4&o.type?new xb(s,o,xh(o,s)):null}let Mf=(()=>{class o{}return o.__NG_ELEMENT_ID__=MD,o})();function MD(){return Ry(cr(),Me())}const TD=Mf,Oy=class extends TD{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return xh(this._hostTNode,this._hostLView)}get injector(){return new ri(this._hostTNode,this._hostLView)}get parentInjector(){const s=lc(this._hostTNode,this._hostLView);if(Ll(s)){const a=Es(s,this._hostLView),l=oc(s);return new ri(a[1].data[l+8],a)}return new ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Py(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const y=s.createEmbeddedView(a||{},p);return this.insert(y,h),y}createComponent(s,a,l,h,p){const y=s&&!function Ds(o){return"function"==typeof o}(s);let b;if(y)b=a;else{const F=a||{};b=F.index,l=F.injector,h=F.projectableNodes,p=F.environmentInjector||F.ngModuleRef}const E=y?s:new jh(Wt(s)),M=l||this.parentInjector;if(!p&&null==E.ngModule){const G=(y?M:this.parentInjector).get(od,null);G&&(p=G)}const O=E.create(M,h,void 0,p);return this.insert(O.hostView,b),O}insert(s,a){const l=s._lView,h=l[1];if(function Ka(o){return gi(o[3])}(l)){const O=this.indexOf(s);if(-1!==O)this.detach(O);else{const F=l[3],G=new Oy(F,F[6],F[3]);G.detach(G.indexOf(s))}}const p=this._adjustIndex(a),y=this._lContainer;!function bC(o,s,a,l){const h=10+l,p=a.length;l>0&&(a[h-1][4]=s),l<p-10?(s[4]=a[h],pc(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function EC(o,s){const a=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===a?o[9]=[s]:a.push(s)}(y,s);const b=s[19];null!==b&&b.insertView(o),s[2]|=64}(h,l,y,p);const b=si(p,y),E=l[11],M=gh(E,y[7]);return null!==M&&function CC(o,s,a,l,h,p){l[0]=h,l[6]=s,td(o,l,a,1,h,p)}(h,y[6],E,l,M,b),s.attachToViewContainerRef(),pc($s(y),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Py(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Ip(this._lContainer,a);l&&(ya($s(this._lContainer),a),Vm(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Ip(this._lContainer,a);return l&&null!=ya($s(this._lContainer),a)?new Mc(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function Py(o){return o[8]}function $s(o){return o[8]||(o[8]=[])}function Ry(o,s){let a;const l=s[o.index];if(gi(l))a=l;else{let h;if(8&o.type)h=Ln(l);else{const p=s[11];h=p.createComment("");const y=ar(o,s);yc(p,gh(p,y),h,function IC(o,s){return o.nextSibling(s)}(p,y),!1)}s[o.index]=a=NI(l,s,h,o),w_(s,a)}return new Oy(a,o,s)}class vg{constructor(s){this.queryList=s,this.matches=null}clone(){return new vg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Cg(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Vb(s,a).matches&&this.queries[a].setDirty()}}class Kt{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class cn{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(s,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new cn(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Vc{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Vc(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(s,a,Ny(a,p)),this.matchTNodeWithReadOption(s,a,ga(a,s,p,!1,!1))}else l===Fa?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,ga(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===xp||h===Mf||h===Fa&&4&a.type)this.addMatch(a.index,-2);else{const p=ga(a,s,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Ny(o,s){const a=o.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function Pb(o,s,a,l){return-1===a?function Ob(o,s){return 11&o.type?xh(o,s):4&o.type?Lc(o,s):null}(s,o):-2===a?function Rb(o,s,a){return a===xp?xh(s,o):a===Fa?Lc(s,o):a===Mf?Ry(s,o):void 0}(o,s,l):Ci(o,o[1],a,s)}function ky(o,s,a,l){const h=s[19].queries[l];if(null===h.matches){const p=o.data,y=a.matches,b=[];for(let E=0;E<y.length;E+=2){const M=y[E];b.push(M<0?null:Pb(s,p[M],y[E+1],a.metadata.read))}h.matches=b}return h.matches}function bg(o,s,a,l){const h=o.queries.getByIndex(a),p=h.matches;if(null!==p){const y=ky(o,s,h,a);for(let b=0;b<p.length;b+=2){const E=p[b];if(E>0)l.push(y[b/2]);else{const M=p[b+1],O=s[-E];for(let F=10;F<O.length;F++){const G=O[F];G[17]===G[3]&&bg(G[1],G,M,l)}if(null!==O[9]){const F=O[9];for(let G=0;G<F.length;G++){const J=F[G];bg(J[1],J,M,l)}}}}}return l}function Fy(o){const s=Me(),a=Zt(),l=Rl();lu(l+1);const h=Vb(a,l);if(o.dirty&&function sa(o){return 4==(4&o[2])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const p=h.crossesNgTemplate?bg(a,s,l,[]):ky(a,s,h,l);o.reset(p,xS),o.notifyOnChanges()}return!0}return!1}function Nb(o,s,a,l){const h=Zt();if(h.firstCreatePass){const p=cr();(function Ly(o,s,a){null===o.queries&&(o.queries=new cn),o.queries.track(new Vc(s,a))})(h,new Kt(s,a,l),p.index),function SD(o,s){const a=o.contentQueries||(o.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(o.queries.length-1,s)}(h,o),2==(2&a)&&(h.staticContentQueries=!0)}!function Lb(o,s,a){const l=new Df(4==(4&a));Lh(o,s,l,l.destroy),null===s[19]&&(s[19]=new Cg),s[19].queries.push(new vg(l))}(h,Me(),a)}function kb(){return function Fb(o,s){return o[19].queries[s].queryList}(Me(),Rl())}function Vb(o,s){return o.queries.getByIndex(s)}function Hc(...o){}const Jy=new an("Application Initializer");let La=(()=>{class o{constructor(a){this.appInits=a,this.resolve=Hc,this.reject=Hc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(F_(p))a.push(p);else if($p(p)){const y=new Promise((b,E)=>{p.subscribe({complete:b,error:E})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return o.\u0275fac=function(a){return new(a||o)($e(Jy,8))},o.\u0275prov=ft({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Gs=new an("AppId",{providedIn:"root",factory:function Xy(){return`${Ag()}${Ag()}${Ag()}`}});function Ag(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tl=new an("Platform Initializer"),ev=new an("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qb=new an("appBootstrapListener");let Wb=(()=>{class o{log(a){console.log(a)}warn(a){console.warn(a)}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=ft({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const is=new an("LocaleId",{providedIn:"root",factory:()=>Je(is,ht.Optional|ht.SkipSelf)||function Zb(){return typeof $localize<"u"&&$localize.locale||$u}()}),LD=new an("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Kb{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let zs=(()=>{class o{compileModuleSync(a){return new kd(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=Da(_r(a).declarations).reduce((y,b)=>{const E=Wt(b);return E&&y.push(new jh(E)),y},[]);return new Kb(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=ft({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Pf=(()=>Promise.resolve(0))();function nl(o){typeof Zone>"u"?Pf.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class fo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ko(!1),this.onMicrotaskEmpty=new ko(!1),this.onStable=new ko(!1),this.onError=new ko(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Og(){let o=wt.requestAnimationFrame,s=wt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const a=o[Zone.__symbol__("OriginalDelegate")];a&&(o=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function eE(o){const s=()=>{!function Xb(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(wt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,nv(o),o.isCheckStableRunning=!0,tv(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),nv(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,y,b)=>{try{return tE(o),a.invokeTask(h,p,y,b)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&s(),nE(o)}},onInvoke:(a,l,h,p,y,b,E)=>{try{return tE(o),a.invoke(h,p,y,b,E)}finally{o.shouldCoalesceRunChangeDetection&&s(),nE(o)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,nv(o),tv(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fo.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(fo.isInAngularZone())throw new ge(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,s,Jb,Hc,Hc);try{return p.runTask(y,a,l)}finally{p.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const Jb={};function tv(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function nv(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function tE(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function nE(o){o._nesting--,tv(o)}class jD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ko,this.onMicrotaskEmpty=new ko,this.onStable=new ko,this.onError=new ko}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,h){return s.apply(a,l)}}const rl=new an(""),rv=new an("");let Pg,HD=(()=>{class o{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Pg||(function iv(o){Pg=o}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fo.assertNotInAngularZone(),nl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nl(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return o.\u0275fac=function(a){return new(a||o)($e(fo),$e(Yn),$e(rv))},o.\u0275prov=ft({token:o,factory:o.\u0275fac}),o})(),Yn=(()=>{class o{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Pg?.findTestabilityInTree(this,a,l)??null}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=ft({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Lo=null;const os=new an("AllowMultipleToken"),Rf=new an("PlatformDestroyListeners");class iE{constructor(s,a){this.name=s,this.token=a}}function sE(o,s,a=[]){const l=`Platform: ${s}`,h=new an(l);return(p=[])=>{let y=ov();if(!y||y.injector.get(os,!1)){const b=[...a,...p,{provide:h,useValue:!0}];o?o(b):function GD(o){if(Lo&&!Lo.get(os,!1))throw new ge(400,!1);Lo=o;const s=o.get(sv);(function Ud(o){const s=o.get(tl,null);s&&s.forEach(a=>a())})(o)}(function Rg(o=[],s){return sd.create({name:s,providers:[{provide:t_,useValue:"platform"},{provide:Rf,useValue:new Set([()=>Lo=null])},...o]})}(b,l))}return function aE(o){const s=ov();if(!s)throw new ge(401,!1);return s}()}}function ov(){return Lo?.get(sv)??null}let sv=(()=>{class o{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function uE(o,s){let a;return a="noop"===o?new jD:("zone.js"===o?void 0:o)||new fo(s),a}(l?.ngZone,function cE(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:fo,useValue:h}];return h.run(()=>{const y=sd.create({providers:p,parent:this.injector,name:a.moduleType.name}),b=a.create(y),E=b.injector.get(Pp,null);if(!E)throw new ge(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:O=>{E.handleError(O)}});b.onDestroy(()=>{kf(this._modules,b),M.unsubscribe()})}),function lE(o,s,a){try{const l=a();return F_(l)?l.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):l}catch(l){throw s.runOutsideAngular(()=>o.handleError(l)),l}}(E,h,()=>{const M=b.injector.get(La);return M.runInitializers(),M.donePromise.then(()=>(function cf(o){Ft(o,"Expected localeId to be defined"),"string"==typeof o&&(Ad=o.toLowerCase().replace(/_/g,"-"))}(b.injector.get(is,$u)||$u),this._moduleDoBootstrap(b),b))})})}bootstrapModule(a,l=[]){const h=il({},l);return function Nf(o,s,a){const l=new kd(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(Va);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new ge(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Rf,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(a){return new(a||o)($e(sd))},o.\u0275prov=ft({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function il(o,s){return Array.isArray(s)?s.reduce(il,o):{...o,...s}}let Va=(()=>{class o{constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new N.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),y=new N.y(b=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{fo.assertNotInAngularZone(),nl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{fo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{E.unsubscribe(),M.unsubscribe()}});this.isStable=(0,se.T)(p,y.pipe((0,ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const h=a instanceof o_;if(!this._injector.get(La).done)throw!h&&Un(a),new ge(405,false);let y;y=h?a:this._injector.get(Sh).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const b=function rE(o){return o.isBoundToModule}(y)?void 0:this._injector.get(Ge),M=y.create(sd.NULL,[],l||y.selector,b),O=M.location.nativeElement,F=M.injector.get(rl,null);return F?.registerApplication(O),M.onDestroy(()=>{this.detachView(M.hostView),kf(this.components,M),F?.unregisterApplication(O)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;kf(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(qb,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>kf(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ge(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(a){return new(a||o)($e(fo),$e(od),$e(Pp))},o.\u0275prov=ft({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function kf(o,s){const a=o.indexOf(s);a>-1&&o.splice(a,1)}function Ai(){return!1}let Ng=(()=>{class o{}return o.__NG_ELEMENT_ID__=fE,o})();function fE(o){return function ZD(o,s,a){if(mi(o)&&!a){const l=Jn(o.index,s);return new Mc(l,l)}return 47&o.type?new Mc(s[16],s):null}(cr(),Me(),16==(16&o))}class Lg{constructor(){}supports(s){return Lp(s)}create(s){return new $c(s)}}const dv=(o,s)=>s;class $c{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||dv}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const y=!l||a&&a.currentIndex<Lf(l,h,p)?a:l,b=Lf(y,h,p),E=y.currentIndex;if(y===l)h--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const M=b-h,O=E-h;if(M!=O){for(let G=0;G<M;G++){const J=G<p.length?p[G]:p[G]=0,ye=J+G;O<=ye&&ye<M&&(p[G]=J+1)}p[y.previousIndex]=O-M}}b!==E&&s(y,b,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Lp(s))throw new ge(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)p=s[b],y=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,p,y,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,b),l=!0),a=a._next}else h=0,function Vp(o,s){if(Array.isArray(o))for(let a=0;a<o.length;a++)s(o[a]);else{const a=o[fd()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,b=>{y=this._trackByFn(h,b),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,b,y,h)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,y,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,h)):s=this._addAfter(new vE(a,l),p,h),s}_verifyReinsertion(s,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new hv),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class vE{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class hv{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new JD,this.map.set(a,l)),l.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lf(o,s,a){const l=o.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+s+h}class Gc{constructor(){}supports(s){return s instanceof Map||Ls(s)}create(){return new sl}}class sl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Ls(s)))throw new ge(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const l=new al(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class al{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bd(){return new Vg([new Lg])}let Vg=(()=>{class o{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:l=>o.create(a,l||Bd()),deps:[[o,new w,new Ea]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new ge(901,!1)}}return o.\u0275prov=ft({token:o,providedIn:"root",factory:Bd}),o})();function Ug(){return new Bg([new Gc])}let Bg=(()=>{class o{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:l=>o.create(a,l||Ug()),deps:[[o,new w,new Ea]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new ge(901,!1)}}return o.\u0275prov=ft({token:o,providedIn:"root",factory:Ug}),o})();const jg=sE(null,"core",[]);let Vf=(()=>{class o{constructor(a){}}return o.\u0275fac=function(a){return new(a||o)($e(Va))},o.\u0275mod=Tn({type:o}),o.\u0275inj=Yr({}),o})();function cl(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(ct,Ee,k)=>{k.d(Ee,{Z:()=>ze});var u=k(2090),X=k(4859),N=k(9681),se=k(1877);class ae{constructor(ge,De){this._delegate=ge,this.firebase=De,(0,N._addComponent)(ge,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ge,De=N._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(ge);return!Fe.isInitialized()&&"EXPLICIT"===(null===(we=Fe.getComponent())||void 0===we?void 0:we.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:De})}_removeServiceInstance(ge,De=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(De)}_addComponent(ge){(0,N._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,N._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function de(){const rt=function he(rt){const ge={},De={__esModule:!0,initializeApp:function Se(Ne,U={}){const ve=N.initializeApp(Ne,U);if((0,u.r3)(ge,ve.name))return ge[ve.name];const q=new rt(ve,De);return ge[ve.name]=q,q},app:Fe,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Te(Ne){const U=Ne.name,ve=U.replace("-compat","");if(N._registerComponent(Ne)&&"PUBLIC"===Ne.type){const q=(Q=Fe())=>{if("function"!=typeof Q[ve])throw me.create("invalid-app-argument",{appName:U});return Q[ve]()};void 0!==Ne.serviceProps&&(0,u.ZB)(q,Ne.serviceProps),De[ve]=q,rt.prototype[ve]=function(...Q){return this._getService.bind(this,U).apply(this,Ne.multipleInstances?Q:[])}}return"PUBLIC"===Ne.type?De[ve]:null},removeApp:function we(Ne){delete ge[Ne]},useAsService:function je(Ne,U){return"serverAuth"===U?null:U},modularAPIs:N}};function Fe(Ne){if(!(0,u.r3)(ge,Ne=Ne||N._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Ne});return ge[Ne]}return De.default=De,Object.defineProperty(De,"apps",{get:function Ce(){return Object.keys(ge).map(Ne=>ge[Ne])}}),Fe.App=rt,De}(ae);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function ge(De){(0,u.ZB)(rt,De)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),rt}(),j=new se.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=B;!function Ie(rt){(0,N.registerVersion)("@firebase/app-compat","0.2.0",rt)}()},9681:(ct,Ee,k)=>{k.r(Ee),k.d(Ee,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>ss,_DEFAULT_ENTRY_NAME:()=>un,_addComponent:()=>Qt,_addOrOverwriteComponent:()=>fr,_apps:()=>Ft,_clearComponents:()=>Yr,_components:()=>dt,_getProvider:()=>ft,_registerComponent:()=>Dr,_removeServiceInstance:()=>yn,deleteApp:()=>Vo,getApp:()=>hi,getApps:()=>Ar,initializeApp:()=>vo,onLog:()=>ht,registerVersion:()=>Lr,setLogLevel:()=>Wi});var u=k(5861),X=k(4859),N=k(1877),se=k(2090),ae=k(8766);class ne{constructor(be){this.container=be}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function me($e){return"VERSION"===$e.getComponent()?.type}(Je)){const Ct=Je.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(Je=>Je).join(" ")}}const he="@firebase/app",B=new N.Yd("@firebase/app"),un="[DEFAULT]",Ot={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ft=new Map,dt=new Map;function Qt($e,be){try{$e.container.addComponent(be)}catch(Je){B.debug(`Component ${be.name} failed to register with FirebaseApp ${$e.name}`,Je)}}function fr($e,be){$e.container.addOrOverwriteComponent(be)}function Dr($e){const be=$e.name;if(dt.has(be))return B.debug(`There were multiple attempts to register component ${be}.`),!1;dt.set(be,$e);for(const Je of Ft.values())Qt(Je,$e);return!0}function ft($e,be){const Je=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),$e.container.getProvider(be)}function yn($e,be,Je=un){ft($e,be).clearInstance(Je)}function Yr(){dt.clear()}const Mr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Tr{constructor(be,Je,Ct){this._isDeleted=!1,this._options=Object.assign({},be),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this.checkDestroyed(),this._automaticDataCollectionEnabled=be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(be){this._isDeleted=be}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}const ss="9.15.0";function vo($e,be={}){let Je=$e;"object"!=typeof be&&(be={name:be});const Ct=Object.assign({name:un,automaticDataCollectionEnabled:!1},be),Et=Ct.name;if("string"!=typeof Et||!Et)throw Mr.create("bad-app-name",{appName:String(Et)});if(Je||(Je=(0,se.aH)()),!Je)throw Mr.create("no-options");const Rt=Ft.get(Et);if(Rt){if((0,se.vZ)(Je,Rt.options)&&(0,se.vZ)(Ct,Rt.config))return Rt;throw Mr.create("duplicate-app",{appName:Et})}const H=new X.H0(Et);for(const W of dt.values())H.addComponent(W);const V=new Tr(Je,Ct,H);return Ft.set(Et,V),V}function hi($e=un){const be=Ft.get($e);if(!be&&$e===un)return vo();if(!be)throw Mr.create("no-app",{appName:$e});return be}function Ar(){return Array.from(Ft.values())}function Vo($e){return ln.apply(this,arguments)}function ln(){return(ln=(0,u.Z)(function*($e){const be=$e.name;Ft.has(be)&&(Ft.delete(be),yield Promise.all($e.container.getProviders().map(Je=>Je.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function Lr($e,be,Je){var Ct;let Et=null!==(Ct=Ot[$e])&&void 0!==Ct?Ct:$e;Je&&(Et+=`-${Je}`);const Rt=Et.match(/\s|\//),H=be.match(/\s|\//);if(Rt||H){const V=[`Unable to register library "${Et}" with version "${be}":`];return Rt&&V.push(`library name "${Et}" contains illegal characters (whitespace or "/")`),Rt&&H&&V.push("and"),H&&V.push(`version name "${be}" contains illegal characters (whitespace or "/")`),void B.warn(V.join(" "))}Dr(new X.wA(`${Et}-version`,()=>({library:Et,version:be}),"VERSION"))}function ht($e,be){if(null!==$e&&"function"!=typeof $e)throw Mr.create("invalid-log-argument");(0,N.Am)($e,be)}function Wi($e){(0,N.Ub)($e)}const Sr="firebase-heartbeat-store";let Co=null;function wt(){return Co||(Co=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:($e,be)=>{0===be&&$e.createObjectStore(Sr)}}).catch($e=>{throw Mr.create("idb-open",{originalErrorMessage:$e.message})})),Co}function _t(){return(_t=(0,u.Z)(function*($e){try{return(yield wt()).transaction(Sr).objectStore(Sr).get(Dn($e))}catch(be){if(be instanceof se.ZR)B.warn(be.message);else{const Je=Mr.create("idb-get",{originalErrorMessage:be?.message});B.warn(Je.message)}}})).apply(this,arguments)}function Zi($e,be){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*($e,be){try{const Ct=(yield wt()).transaction(Sr,"readwrite");return yield Ct.objectStore(Sr).put(be,Dn($e)),Ct.done}catch(Je){if(Je instanceof se.ZR)B.warn(Je.message);else{const Ct=Mr.create("idb-set",{originalErrorMessage:Je?.message});B.warn(Ct.message)}}})).apply(this,arguments)}function Dn($e){return`${$e.name}!${$e.options.appId}`}class Ks{constructor(be){this.container=be,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new qt(Je),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var be=this;return(0,u.Z)(function*(){const Ct=be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Et=rn();if(null===be._heartbeatsCache&&(be._heartbeatsCache=yield be._heartbeatsCachePromise),be._heartbeatsCache.lastSentHeartbeatDate!==Et&&!be._heartbeatsCache.heartbeats.some(Rt=>Rt.date===Et))return be._heartbeatsCache.heartbeats.push({date:Et,agent:Ct}),be._heartbeatsCache.heartbeats=be._heartbeatsCache.heartbeats.filter(Rt=>{const H=new Date(Rt.date).valueOf();return Date.now()-H<=2592e6}),be._storage.overwrite(be._heartbeatsCache)})()}getHeartbeatsHeader(){var be=this;return(0,u.Z)(function*(){if(null===be._heartbeatsCache&&(yield be._heartbeatsCachePromise),null===be._heartbeatsCache||0===be._heartbeatsCache.heartbeats.length)return"";const Je=rn(),{heartbeatsToSend:Ct,unsentEntries:Et}=function Ki($e,be=1024){const Je=[];let Ct=$e.slice();for(const Et of $e){const Rt=Je.find(H=>H.agent===Et.agent);if(Rt){if(Rt.dates.push(Et.date),gr(Je)>be){Rt.dates.pop();break}}else if(Je.push({agent:Et.agent,dates:[Et.date]}),gr(Je)>be){Je.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:Je,unsentEntries:Ct}}(be._heartbeatsCache.heartbeats),Rt=(0,se.L)(JSON.stringify({version:2,heartbeats:Ct}));return be._heartbeatsCache.lastSentHeartbeatDate=Je,Et.length>0?(be._heartbeatsCache.heartbeats=Et,yield be._storage.overwrite(be._heartbeatsCache)):(be._heartbeatsCache.heartbeats=[],be._storage.overwrite(be._heartbeatsCache)),Rt})()}}function rn(){return(new Date).toISOString().substring(0,10)}class qt{constructor(be){this.app=be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var be=this;return(0,u.Z)(function*(){return(yield be._canUseIndexedDBPromise)&&(yield function pt($e){return _t.apply(this,arguments)}(be.app))||{heartbeats:[]}})()}overwrite(be){var Je=this;return(0,u.Z)(function*(){var Ct;if(yield Je._canUseIndexedDBPromise){const Rt=yield Je.read();return Zi(Je.app,{lastSentHeartbeatDate:null!==(Ct=be.lastSentHeartbeatDate)&&void 0!==Ct?Ct:Rt.lastSentHeartbeatDate,heartbeats:be.heartbeats})}})()}add(be){var Je=this;return(0,u.Z)(function*(){var Ct;if(yield Je._canUseIndexedDBPromise){const Rt=yield Je.read();return Zi(Je.app,{lastSentHeartbeatDate:null!==(Ct=be.lastSentHeartbeatDate)&&void 0!==Ct?Ct:Rt.lastSentHeartbeatDate,heartbeats:[...Rt.heartbeats,...be.heartbeats]})}})()}}function gr($e){return(0,se.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function Pi($e){Dr(new X.wA("platform-logger",be=>new ne(be),"PRIVATE")),Dr(new X.wA("heartbeat",be=>new Ks(be),"PRIVATE")),Lr(he,"0.9.0",$e),Lr(he,"0.9.0","esm2017"),Lr("fire-js","")}("")},4859:(ct,Ee,k)=>{k.d(Ee,{H0:()=>he,wA:()=>N});var u=k(5861),X=k(2090);class N{constructor(B,j,K){this.name=B,this.instanceFactory=j,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const se="[DEFAULT]";class ae{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const K=new X.BH;if(this.instancesDeferred.set(j,K),this.isInitialized(j)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:j});Le&&K.resolve(Le)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const K=this.normalizeInstanceIdentifier(B?.identifier),Le=null!==(j=B?.optional)&&void 0!==j&&j;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ie){if(Le)return null;throw Ie}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function me(de){return"EAGER"===de.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[j,K]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(j);try{const Ie=this.getOrInitializeService({instanceIdentifier:Le});K.resolve(Ie)}catch{}}}}clearInstance(B=se){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,u.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...j.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=se){return this.instances.has(B)}getOptions(B=se){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,K=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:K,options:j});for(const[Ie,ze]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ie)&&ze.resolve(Le);return Le}onInit(B,j){var K;const Le=this.normalizeInstanceIdentifier(j),Ie=null!==(K=this.onInitCallbacks.get(Le))&&void 0!==K?K:new Set;Ie.add(B),this.onInitCallbacks.set(Le,Ie);const ze=this.instances.get(Le);return ze&&B(ze,Le),()=>{Ie.delete(B)}}invokeOnInitCallbacks(B,j){const K=this.onInitCallbacks.get(j);if(K)for(const Le of K)try{Le(B,j)}catch{}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let K=this.instances.get(B);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(de=B,de===se?void 0:de),options:j}),this.instances.set(B,K),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(K,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,K)}catch{}var de;return K||null}normalizeInstanceIdentifier(B=se){return this.component?this.component.multipleInstances?B:se:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new ae(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,Ee,k)=>{k.d(Ee,{Am:()=>de,Ub:()=>he,Yd:()=>me,in:()=>X});const u=[];var X=(()=>{return(B=X||(X={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",X;var B})();const N={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},se=X.INFO,ae={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ne=(B,j,...K)=>{if(j<B.logLevel)return;const Le=(new Date).toISOString(),Ie=ae[j];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ie](`[${Le}]  ${B.name}:`,...K)};class me{constructor(j){this.name=j,this._logLevel=se,this._logHandler=ne,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in X))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?N[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...j),this._logHandler(this,X.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...j),this._logHandler(this,X.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,X.INFO,...j),this._logHandler(this,X.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,X.WARN,...j),this._logHandler(this,X.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...j),this._logHandler(this,X.ERROR,...j)}}function he(B){u.forEach(j=>{j.setLogLevel(B)})}function de(B,j){for(const K of u){let Le=null;j&&j.level&&(Le=N[j.level]),K.userLogHandler=null===B?null:(Ie,ze,...rt)=>{const ge=rt.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch{return null}}).filter(De=>De).join(" ");ze>=(Le??Ie.logLevel)&&B({level:X[ze].toLowerCase(),message:ge,args:rt,type:Ie.name})}}}},259:(ct,Ee,k)=>{k.d(Ee,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=k(9681);(0,u.registerVersion)("firebase","9.15.0","app")},9260:(ct,Ee,k)=>{k.d(Ee,{Z:()=>u.Z});var u=k(3942);u.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(ct,Ee,k)=>{k.r(Ee);var u=k(5861),X=k(3942),N=k(2090),se=k(9681),ae=k(1877),ne=k(655),me=k(4859);const ze=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},rt=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new ae.Yd("@firebase/auth");function Fe(_,...f){we.logLevel<=ae.in.ERROR&&we.error(`Auth (${se.SDK_VERSION}): ${_}`,...f)}function Se(_,...f){throw Ne(_,...f)}function Ce(_,...f){return Ne(_,...f)}function Te(_,f,g){const v=Object.assign(Object.assign({},rt()),{[f]:g});return new N.LL("auth","Firebase",v).create(f,{appName:_.name})}function je(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Se(_,"argument-error"),Te(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(_,...f){if("string"!=typeof _){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(g,...v)}return ge.create(_,...f)}function U(_,f,...g){if(!_)throw Ne(f,...g)}function ve(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Fe(f),new Error(f)}function q(_,f){_||ve(f)}const Q=new Map;function oe(_){q(_ instanceof Function,"Expected a class definition");let f=Q.get(_);return f?(q(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,Q.set(_,f),f)}function ke(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function lt(){return"http:"===en()||"https:"===en()}function en(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ft{constructor(f,g){this.shortDelay=f,this.longDelay=g,q(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function un(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dt(_,f){q(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Qt{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dr=new Ft(3e4,6e4);function ft(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function yn(_,f,g,v){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(_,f,g,v,T={}){return Fr(_,T,(0,u.Z)(function*(){let P={},z={};v&&("GET"===f?z=v:P={body:JSON.stringify(v)});const pe=(0,N.xO)(Object.assign({key:_.config.apiKey},z)).slice(1),He=yield _._getAdditionalHeaders();return He["Content-Type"]="application/json",_.languageCode&&(He["X-Firebase-Locale"]=_.languageCode),Qt.fetch()(vo(_,_.config.apiHost,g,pe),Object.assign({method:f,headers:He,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Fr(_,f,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,u.Z)(function*(_,f,g){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},fr),f);try{const T=new hi(_),P=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const z=yield P.json();if("needConfirmation"in z)throw Ar(_,"account-exists-with-different-credential",z);if(P.ok&&!("errorMessage"in z))return z;{const pe=P.ok?z.errorMessage:z.error.message,[He,Qe]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw Ar(_,"credential-already-in-use",z);if("EMAIL_EXISTS"===He)throw Ar(_,"email-already-in-use",z);if("USER_DISABLED"===He)throw Ar(_,"user-disabled",z);const yt=v[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw Te(_,yt,Qe);Se(_,yt)}}catch(T){if(T instanceof N.ZR)throw T;Se(_,"network-request-failed")}})).apply(this,arguments)}function Tr(_,f,g,v){return ss.apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(_,f,g,v,T={}){const P=yield yn(_,f,g,v,T);return"mfaPendingCredential"in P&&Se(_,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function vo(_,f,g,v){const T=`${f}${g}?${v}`;return _.config.emulator?dt(_.config,T):`${_.config.apiScheme}://${T}`}class hi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(Ce(this.auth,"network-request-failed")),Dr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ar(_,f,g){const v={appName:_.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const T=Ce(_,f,v);return T.customData._tokenResponse=g,T}function ln(){return(ln=(0,u.Z)(function*(_,f){return yn(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Lr(_,f){return ht.apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(_,f){return yn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Wi(_,f){return fi.apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(_,f){return yn(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function In(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function wt(){return(wt=(0,u.Z)(function*(_,f=!1){const g=(0,N.m9)(_),v=yield g.getIdToken(f),T=_t(v);U(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const P="object"==typeof T.firebase?T.firebase:void 0,z=P?.sign_in_provider;return{claims:T,token:v,authTime:In(pt(T.auth_time)),issuedAtTime:In(pt(T.iat)),expirationTime:In(pt(T.exp)),signInProvider:z||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function pt(_){return 1e3*Number(_)}function _t(_){const[f,g,v]=_.split(".");if(void 0===f||void 0===g||void 0===v)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,N.tV)(g);return T?JSON.parse(T):(Fe("Failed to decode base64 JWT payload"),null)}catch(T){return Fe("Caught error parsing JWT payload as JSON",T?.toString()),null}}function xn(_,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof N.ZR&&pi(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}function pi({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class pr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Ks{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=In(this.lastLoginAt),this.creationTime=In(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rn(_){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,u.Z)(function*(_){var f;const g=_.auth,v=yield _.getIdToken(),T=yield xn(_,Wi(g,{idToken:v}));U(T?.users.length,g,"internal-error");const P=T.users[0];_._notifyReloadListener(P);const z=null!==(f=P.providerUserInfo)&&void 0!==f&&f.length?$e(P.providerUserInfo):[],pe=Pi(_.providerData,z),yt=!!_.isAnonymous&&!(_.email&&P.passwordHash||pe?.length),ut={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:pe,metadata:new Ks(P.createdAt,P.lastLoginAt),isAnonymous:yt};Object.assign(_,ut)})).apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(_){const f=(0,N.m9)(_);yield rn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Pi(_,f){return[..._.filter(v=>!f.some(T=>T.providerId===v.providerId)),...f]}function $e(_){return _.map(f=>{var{providerId:g}=f,v=(0,ne._T)(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Je(){return(Je=(0,u.Z)(function*(_,f){const g=yield Fr(_,{},(0,u.Z)(function*(){const v=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:P}=_.config,z=vo(_,T,"/v1/token",`key=${P}`),pe=yield _._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",Qt.fetch()(z,{method:"POST",headers:pe,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){U(f.idToken,"internal-error"),U(typeof f.idToken<"u","internal-error"),U(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Zi(_){const f=_t(_);return U(f,"internal-error"),U(typeof f.exp<"u","internal-error"),U(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,u.Z)(function*(){return U(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,u.Z)(function*(){const{accessToken:T,refreshToken:P,expiresIn:z}=yield function be(_,f){return Je.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(T,P,Number(z))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:T,expirationTime:P}=g,z=new Ct;return v&&(U("string"==typeof v,"internal-error",{appName:f}),z.refreshToken=v),T&&(U("string"==typeof T,"internal-error",{appName:f}),z.accessToken=T),P&&(U("number"==typeof P,"internal-error",{appName:f}),z.expirationTime=P),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ct,this.toJSON())}_performRefresh(){return ve("not implemented")}}function Et(_,f){U("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class Rt{constructor(f){var{uid:g,auth:v,stsTokenManager:T}=f,P=(0,ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Ks(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,u.Z)(function*(){const v=yield xn(g,g.stsTokenManager.getToken(g.auth,f));return U(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function Co(_){return wt.apply(this,arguments)}(this,f)}reload(){return function qt(_){return gr.apply(this,arguments)}(this)}_assign(f){this!==f&&(U(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Rt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,u.Z)(function*(){let T=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield rn(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,u.Z)(function*(){const g=yield f.getIdToken();return yield xn(f,function Vo(_,f){return ln.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,T,P,z,pe,He,Qe,yt;const ut=null!==(v=g.displayName)&&void 0!==v?v:void 0,Cn=null!==(T=g.email)&&void 0!==T?T:void 0,fn=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,Oo=null!==(z=g.photoURL)&&void 0!==z?z:void 0,ai=null!==(pe=g.tenantId)&&void 0!==pe?pe:void 0,bc=null!==(He=g._redirectEventId)&&void 0!==He?He:void 0,oo=null!==(Qe=g.createdAt)&&void 0!==Qe?Qe:void 0,Ec=null!==(yt=g.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:Os,emailVerified:Ia,isAnonymous:Ih,providerData:Sp,stsTokenManager:MC}=g;U(Os&&MC,f,"internal-error");const Qm=Ct.fromJSON(this.name,MC);U("string"==typeof Os,f,"internal-error"),Et(ut,f.name),Et(Cn,f.name),U("boolean"==typeof Ia,f,"internal-error"),U("boolean"==typeof Ih,f,"internal-error"),Et(fn,f.name),Et(Oo,f.name),Et(ai,f.name),Et(bc,f.name),Et(oo,f.name),Et(Ec,f.name);const Po=new Rt({uid:Os,auth:f,email:Cn,emailVerified:Ia,displayName:ut,isAnonymous:Ih,photoURL:Oo,phoneNumber:fn,tenantId:ai,stsTokenManager:Qm,createdAt:oo,lastLoginAt:Ec});return Sp&&Array.isArray(Sp)&&(Po.providerData=Sp.map(Dh=>Object.assign({},Dh))),bc&&(Po._redirectEventId=bc),Po}static _fromIdTokenResponse(f,g,v=!1){return(0,u.Z)(function*(){const T=new Ct;T.updateFromServerResponse(g);const P=new Rt({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:v});return yield rn(P),P})()}}const V=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,v){var T=this;return(0,u.Z)(function*(){T.storage[g]=v})()}_get(g){var v=this;return(0,u.Z)(function*(){const T=v.storage[g];return void 0===T?null:T})()}_remove(g){var v=this;return(0,u.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return _.type="NONE",_})();function W(_,f,g){return`firebase:${_}:${f}:${g}`}class _e{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:T,name:P}=this.auth;this.fullUserKey=W(this.userKey,T.apiKey,P),this.fullPersistenceKey=W("persistence",T.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Rt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,u.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,u.Z)(function*(){if(!g.length)return new _e(oe(V),f,v);const T=(yield Promise.all(g.map(function(){var Qe=(0,u.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let P=T[0]||oe(V);const z=W(v,f.config.apiKey,f.name);let pe=null;for(const Qe of g)try{const yt=yield Qe._get(z);if(yt){const ut=Rt._fromJSON(f,yt);Qe!==P&&(pe=ut),P=Qe;break}}catch{}const He=T.filter(Qe=>Qe._shouldAllowMigration);return P._shouldAllowMigration&&He.length?(P=He[0],pe&&(yield P._set(z,pe.toJSON())),yield Promise.all(g.map(function(){var Qe=(0,u.Z)(function*(yt){if(yt!==P)try{yield yt._remove(z)}catch{}});return function(yt){return Qe.apply(this,arguments)}}())),new _e(P,f,v)):new _e(P,f,v)})()}}function te(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Mn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(nt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Qn(f))return"Blackberry";if(Bt(f))return"Webos";if(Nt(f))return"Safari";if((f.includes("chrome/")||Gt(f))&&!f.includes("edge/"))return"Chrome";if(mt(f))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function nt(_=(0,N.z$)()){return/firefox\//i.test(_)}function Nt(_=(0,N.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Gt(_=(0,N.z$)()){return/crios\//i.test(_)}function Mn(_=(0,N.z$)()){return/iemobile/i.test(_)}function mt(_=(0,N.z$)()){return/android/i.test(_)}function Qn(_=(0,N.z$)()){return/blackberry/i.test(_)}function Bt(_=(0,N.z$)()){return/webos/i.test(_)}function zn(_=(0,N.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Jd(_=(0,N.z$)()){return zn(_)||mt(_)||Bt(_)||Qn(_)||/windows phone/i.test(_)||Mn(_)}function ja(_,f=[]){let g;switch(_){case"Browser":g=te((0,N.z$)());break;case"Worker":g=`${te((0,N.z$)())}-${_}`;break;default:g=_}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${se.SDK_VERSION}/${v}`}class Kc{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const v=P=>new Promise((z,pe)=>{try{z(f(P))}catch(He){pe(He)}});v.onAbort=g,this.queue.push(v);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===f)return;const v=[];try{for(const T of g.queue)yield T(f),T.onAbort&&v.push(T.onAbort)}catch(T){v.reverse();for(const P of v)try{P()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class yl{constructor(f,g,v){this.app=f,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vl(this),this.idTokenSubscription=new vl(this),this.beforeStateQueue=new Kc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var T,P;if(!v._deleted&&(v.persistenceManager=yield _e.create(v,f),!v._deleted)){if(null!==(T=v._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(P=v.currentUser)||void 0===P?void 0:P.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,u.Z)(function*(){var v;const T=yield g.assertedPersistence.getCurrentUser();let P=T,z=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const pe=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,He=P?._redirectEventId,Qe=yield g.tryRedirectSignIn(f);(!pe||pe===He)&&Qe?.user&&(P=Qe.user,z=!0)}if(!P)return g.directlySetCurrentUser(null);if(!P._redirectEventId){if(z)try{yield g.beforeStateQueue.runMiddleware(P)}catch(pe){P=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(pe))}return P?g.reloadAndSetCurrentUserOrClear(P):g.directlySetCurrentUser(null)}return U(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===P._redirectEventId?g.directlySetCurrentUser(P):g.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(f){var g=this;return(0,u.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,u.Z)(function*(){try{yield rn(f)}catch(v){if("auth/network-request-failed"!==v?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ot(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,u.Z)(function*(){const v=f?(0,N.m9)(f):null;return v&&U(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f,g=!1){var v=this;return(0,u.Z)(function*(){if(!v._deleted)return f&&U(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),g||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,u.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,u.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(g);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&oe(f)||g._popupRedirectResolver;U(v,g,"argument-error"),g.redirectPersistenceManager=yield _e.create(g,[oe(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,u.Z)(function*(){var v,T;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,u.Z)(function*(){if(f===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,T){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),z=this._isInitialized?Promise.resolve():this._initializationPromise;return U(z,this,"internal-error"),z.then(()=>P(this.currentUser)),"function"==typeof g?f.addObserver(g,v,T):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ja(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var g;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return T&&(v["X-Firebase-Client"]=T),v})()}}function Tn(_){return(0,N.m9)(_)}class vl{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Js(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Wt(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Nn{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ve("not implemented")}_getIdTokenResponse(f){return ve("not implemented")}_linkToIdToken(f,g){return ve("not implemented")}_getReauthenticationResolver(f){return ve("not implemented")}}function Un(_,f){return _r.apply(this,arguments)}function _r(){return(_r=(0,u.Z)(function*(_,f){return yn(_,"POST","/v1/accounts:resetPassword",ft(_,f))})).apply(this,arguments)}function yr(_,f){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,u.Z)(function*(_,f){return yn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function At(_,f){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(_,f){return yn(_,"POST","/v1/accounts:update",ft(_,f))})).apply(this,arguments)}function Yi(){return(Yi=(0,u.Z)(function*(_,f){return Tr(_,"POST","/v1/accounts:signInWithPassword",ft(_,f))})).apply(this,arguments)}function kn(_,f){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.Z)(function*(_,f){return yn(_,"POST","/v1/accounts:sendOobCode",ft(_,f))})).apply(this,arguments)}function hn(_,f){return cs.apply(this,arguments)}function cs(){return(cs=(0,u.Z)(function*(_,f){return kn(_,f)})).apply(this,arguments)}function Uo(_,f){return St.apply(this,arguments)}function St(){return(St=(0,u.Z)(function*(_,f){return kn(_,f)})).apply(this,arguments)}function Ha(_,f){return us.apply(this,arguments)}function us(){return(us=(0,u.Z)(function*(_,f){return kn(_,f)})).apply(this,arguments)}function Xd(_,f){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,u.Z)(function*(_,f){return kn(_,f)})).apply(this,arguments)}function Bo(){return(Bo=(0,u.Z)(function*(_,f){return Tr(_,"POST","/v1/accounts:signInWithEmailLink",ft(_,f))})).apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(_,f){return Tr(_,"POST","/v1/accounts:signInWithEmailLink",ft(_,f))})).apply(this,arguments)}class bo extends Nn{constructor(f,g,v,T=null){super("password",v),this._email=f,this._password=g,this._tenantId=T}static _fromEmailAndPassword(f,g){return new bo(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new bo(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function Vr(_,f){return Yi.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function sr(_,f){return Bo.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Se(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,u.Z)(function*(){switch(v.signInMethod){case"password":return yr(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ls(_,f){return Qr.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:Se(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Fn(_,f){return sn.apply(this,arguments)}function sn(){return(sn=(0,u.Z)(function*(_,f){return Tr(_,"POST","/v1/accounts:signInWithIdp",ft(_,f))})).apply(this,arguments)}class Jr extends Nn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Jr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:T}=g,P=(0,ne._T)(g,["providerId","signInMethod"]);if(!v||!T)return null;const z=new Jr(v,T);return z.idToken=P.idToken||void 0,z.accessToken=P.accessToken||void 0,z.secret=P.secret,z.nonce=P.nonce,z.pendingToken=P.pendingToken||null,z}_getIdTokenResponse(f){return Fn(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,Fn(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Fn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,N.xO)(g)}return f}}function Cl(_,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,u.Z)(function*(_,f){return yn(_,"POST","/v1/accounts:sendVerificationCode",ft(_,f))})).apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(_,f){return Tr(_,"POST","/v1/accounts:signInWithPhoneNumber",ft(_,f))})).apply(this,arguments)}function bl(){return(bl=(0,u.Z)(function*(_,f){const g=yield Tr(_,"POST","/v1/accounts:signInWithPhoneNumber",ft(_,f));if(g.temporaryProof)throw Ar(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ur={USER_NOT_FOUND:"user-not-found"};function ea(){return(ea=(0,u.Z)(function*(_,f){return Tr(_,"POST","/v1/accounts:signInWithPhoneNumber",ft(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ur)})).apply(this,arguments)}class mi extends Nn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new mi({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new mi({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function jo(_,f){return xr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function vr(_,f){return bl.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function gi(_,f){return ea.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:T,temporaryProof:P}=f;return v||g||T||P?new mi({verificationId:g,verificationCode:v,phoneNumber:T,temporaryProof:P}):null}}class ta{constructor(f){var g,v,T,P,z,pe;const He=(0,N.zd)((0,N.pd)(f)),Qe=null!==(g=He.apiKey)&&void 0!==g?g:null,yt=null!==(v=He.oobCode)&&void 0!==v?v:null,ut=function Qc(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=He.mode)&&void 0!==T?T:null);U(Qe&&yt&&ut,"argument-error"),this.apiKey=Qe,this.operation=ut,this.code=yt,this.continueUrl=null!==(P=He.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(z=He.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(pe=He.tenantId)&&void 0!==pe?pe:null}static parseLink(f){const g=function Br(_){const f=(0,N.zd)((0,N.pd)(_)).link,g=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,v=(0,N.zd)((0,N.pd)(_)).deep_link_id;return(v?(0,N.zd)((0,N.pd)(v)).link:null)||v||g||f||_}(f);try{return new ta(g)}catch{return null}}}let Jc=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,v){return bo._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const T=ta.parseLink(v);return U(T,"argument-error"),bo._fromEmailAndCode(g,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Qi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ho extends Qi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class na extends Ho{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return U("providerId"in g&&"signInMethod"in g,"argument-error"),Jr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return U(f.idToken||f.accessToken,"argument-error"),Jr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return na.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return na.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:P,nonce:z,providerId:pe}=f;if(!v&&!T&&!g&&!P||!pe)return null;try{return new na(pe)._credential({idToken:g,accessToken:v,nonce:z,pendingToken:P})}catch{return null}}}let El=(()=>{class _ extends Ho{constructor(){super("facebook.com")}static credential(g){return Jr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),th=(()=>{class _ extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return Jr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:T}=g;if(!v&&!T)return null;try{return _.credential(v,T)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Xc=(()=>{class _ extends Ho{constructor(){super("github.com")}static credential(g){return Jr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class $a extends Nn{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Fn(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,Fn(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Fn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:T,pendingToken:P}=g;return v&&T&&P&&v===T?new $a(v,P):null}static _create(f,g){return new $a(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _i extends Qi{constructor(f){U(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return _i.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return _i.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=$a.fromJSON(f);return U(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return $a._create(v,g)}catch{return null}}}let Il=(()=>{class _ extends Ho{constructor(){super("twitter.com")}static credential(g,v){return Jr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=g;if(!v||!T)return null;try{return _.credential(v,T)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function eu(_,f){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,u.Z)(function*(_,f){return Tr(_,"POST","/v1/accounts:signUp",ft(_,f))})).apply(this,arguments)}class Or{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,T=!1){return(0,u.Z)(function*(){const P=yield Rt._fromIdTokenResponse(f,v,T),z=tu(v);return new Or({user:P,providerId:z,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const T=tu(v);return new Or({user:f,providerId:T,_tokenResponse:v,operationType:g})})()}}function tu(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function nh(){return(nh=(0,u.Z)(function*(_){var f;const g=Tn(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Or({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield eu(g,{returnSecureToken:!0}),T=yield Or._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ml extends N.ZR{constructor(f,g,v,T){var P;super(g.code,g.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,Ml.prototype),this.customData={appName:f.name,tenantId:null!==(P=f.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,T){return new Ml(f,g,v,T)}}function $o(_,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Ml._fromErrorAndOperation(_,P,f,v):P})}function Eo(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Go(){return(Go=(0,u.Z)(function*(_,f){const g=(0,N.m9)(_);yield zo(!0,g,f);const{providerUserInfo:v}=yield Lr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=Eo(v||[]);return g.providerData=g.providerData.filter(P=>T.has(P.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function za(_,f){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(_,f,g=!1){const v=yield xn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Or._forOperation(_,"link",v)})).apply(this,arguments)}function zo(_,f,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(_,f,g){yield rn(f);const T=!1===_?"provider-already-linked":"no-such-provider";U(Eo(f.providerData).has(g)===_,f.auth,T)})).apply(this,arguments)}function Wa(_,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(_,f,g=!1){const{auth:v}=_,T="reauthenticate";try{const P=yield xn(_,$o(v,T,f,_),g);U(P.idToken,v,"internal-error");const z=_t(P.idToken);U(z,v,"internal-error");const{sub:pe}=z;return U(_.uid===pe,v,"user-mismatch"),Or._forOperation(_,T,P)}catch(P){throw"auth/user-not-found"===P?.code&&Se(v,"user-mismatch"),P}})).apply(this,arguments)}function Za(_,f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,u.Z)(function*(_,f,g=!1){const v="signIn",T=yield $o(_,v,f),P=yield Or._fromIdTokenResponse(_,v,T);return g||(yield _._updateCurrentUser(P.user)),P})).apply(this,arguments)}function On(_,f){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(_,f){return Za(Tn(_),f)})).apply(this,arguments)}function Ln(_,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,u.Z)(function*(_,f){const g=(0,N.m9)(_);return yield zo(!1,g,f.providerId),za(g,f)})).apply(this,arguments)}function qo(_,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(_,f){return Wa((0,N.m9)(_),f)})).apply(this,arguments)}function Tl(_,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(_,f){return Tr(_,"POST","/v1/accounts:signInWithCustomToken",ft(_,f))})).apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(_,f){const g=Tn(_),v=yield Tl(g,{token:f,returnSecureToken:!0}),T=yield Or._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class sa{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?aa._fromServerResponse(f,g):Se(f,"internal-error")}}class aa extends sa{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new aa(g)}}function Ka(_,f,g){var v;U((null===(v=g.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),U(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(U(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(U(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ca(){return(ca=(0,u.Z)(function*(_,f,g){const v=(0,N.m9)(_),T={requestType:"PASSWORD_RESET",email:f};g&&Ka(v,T,g),yield Uo(v,T)})).apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(_,f,g){yield Un((0,N.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function ru(){return(ru=(0,u.Z)(function*(_,f){yield At((0,N.m9)(_),{oobCode:f})})).apply(this,arguments)}function Qa(_,f){return iu.apply(this,arguments)}function iu(){return(iu=(0,u.Z)(function*(_,f){const g=(0,N.m9)(_),v=yield Un(g,{oobCode:f}),T=v.requestType;switch(U(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(v.mfaInfo,g,"internal-error");default:U(v.email,g,"internal-error")}let P=null;return v.mfaInfo&&(P=sa._fromServerResponse(Tn(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:P},operation:T}})).apply(this,arguments)}function Ja(){return(Ja=(0,u.Z)(function*(_,f){const{data:g}=yield Qa((0,N.m9)(_),f);return g.email})).apply(this,arguments)}function Sl(){return(Sl=(0,u.Z)(function*(_,f,g){const v=Tn(_),T=yield eu(v,{returnSecureToken:!0,email:f,password:g}),P=yield Or._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(P.user),P})).apply(this,arguments)}function ou(){return(ou=(0,u.Z)(function*(_,f,g){const v=(0,N.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};U(g.handleCodeInApp,v,"argument-error"),g&&Ka(v,T,g),yield Ha(v,T)})).apply(this,arguments)}function gs(){return(gs=(0,u.Z)(function*(_,f,g){const v=(0,N.m9)(_),T=Jc.credentialWithLink(f,g||ke());return U(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),On(v,T)})).apply(this,arguments)}function Xa(_,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,u.Z)(function*(_,f){return yn(_,"POST","/v1/accounts:createAuthUri",ft(_,f))})).apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(_,f){const v={identifier:f,continueUri:lt()?ke():"http://localhost"},{signinMethods:T}=yield Xa((0,N.m9)(_),v);return T||[]})).apply(this,arguments)}function Ol(){return(Ol=(0,u.Z)(function*(_,f){const g=(0,N.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Ka(g.auth,T,f);const{email:P}=yield hn(g.auth,T);P!==_.email&&(yield _.reload())})).apply(this,arguments)}function An(){return(An=(0,u.Z)(function*(_,f,g){const v=(0,N.m9)(_),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Ka(v.auth,P,g);const{email:z}=yield Xd(v.auth,P);z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Fi(_,f){return au.apply(this,arguments)}function au(){return(au=(0,u.Z)(function*(_,f){return yn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,N.m9)(_),P={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},z=yield xn(v,Fi(v.auth,P));v.displayName=z.displayName||null,v.photoURL=z.photoUrl||null;const pe=v.providerData.find(({providerId:He})=>"password"===He);pe&&(pe.displayName=v.displayName,pe.photoURL=v.photoURL),yield v._updateTokensIfNecessary(z)})).apply(this,arguments)}function uu(_,f,g){return la.apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(_,f,g){const{auth:v}=_,P={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(P.email=f),g&&(P.password=g);const z=yield xn(_,yr(v,P));yield _._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Wo{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class Rl extends Wo{constructor(f,g,v,T){super(f,g,v),this.username=T}}class lu extends Wo{constructor(f,g){super(f,"facebook.com",g)}}class Nl extends Rl{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class rh extends Wo{constructor(f,g){super(f,"google.com",g)}}class tc extends Rl{constructor(f,g,v){super(f,"twitter.com",g,v)}}function ih(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Pl(_){var f,g;if(!_)return null;const{providerId:v}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},P=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&_?.idToken){const z=null===(g=null===(f=_t(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(z)return new Wo(P,"anonymous"!==z&&"custom"!==z?z:null)}if(!v)return null;switch(v){case"facebook.com":return new lu(P,T);case"github.com":return new Nl(P,T);case"google.com":return new rh(P,T);case"twitter.com":return new tc(P,T,_.screenName||null);case"custom":case"anonymous":return new Wo(P,null);default:return new Wo(P,v,T)}}(g)}class ys{constructor(f,g,v){this.type=f,this.credential=g,this.auth=v}static _fromIdtoken(f,g){return new ys("enroll",f,g)}static _fromMfaPendingCredential(f){return new ys("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ys._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(v=f.multiFactorSession)&&void 0!==v&&v.idToken)return ys._fromIdtoken(f.multiFactorSession.idToken)}return null}}class hu{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=Tn(f),T=g.customData._serverResponse,P=(T.mfaInfo||[]).map(pe=>sa._fromServerResponse(v,pe));U(T.mfaPendingCredential,v,"internal-error");const z=ys._fromMfaPendingCredential(T.mfaPendingCredential);return new hu(z,P,function(){var pe=(0,u.Z)(function*(He){const Qe=yield He._process(v,z);delete T.mfaInfo,delete T.mfaPendingCredential;const yt=Object.assign(Object.assign({},T),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(g.operationType){case"signIn":const ut=yield Or._fromIdTokenResponse(v,g.operationType,yt);return yield v._updateCurrentUser(ut.user),ut;case"reauthenticate":return U(g.user,v,"internal-error"),Or._forOperation(g.user,g.operationType,yt);default:Se(v,"internal-error")}});return function(He){return pe.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,u.Z)(function*(){return g.signInResolver(f)})()}}function oh(_,f){return yn(_,"POST","/v2/accounts/mfaEnrollment:start",ft(_,f))}class Io{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>sa._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new Io(f)}getSession(){var f=this;return(0,u.Z)(function*(){return ys._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var v=this;return(0,u.Z)(function*(){const T=f,P=yield v.getSession(),z=yield xn(v.user,T._process(v.user.auth,P,g));return yield v.user._updateTokensIfNecessary(z),v.user.reload()})()}unenroll(f){var g=this;return(0,u.Z)(function*(){const v="string"==typeof f?f:f.uid,T=yield g.user.getIdToken(),P=yield xn(g.user,function sh(_,f){return yn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(_,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:z})=>z!==v),yield g.user._updateTokensIfNecessary(P);try{yield g.user.reload()}catch(z){if("auth/user-token-expired"!==z?.code)throw z}})()}}const ti=new WeakMap,yi="__sak";class fu{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(yi,"1"),this.storage.removeItem(yi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const pu=(()=>{class _ extends fu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kl(){const _=(0,N.z$)();return Nt(_)||zn(_)}()&&function Qs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Jd(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),P=this.localCache[v];T!==P&&g(v,P,T)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((pe,He,Qe)=>{this.notifyListeners(pe,Qe)});const T=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(T);if(g.newValue!==pe)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!v)return}const P=()=>{const pe=this.storage.getItem(T);!v&&this.localCache[T]===pe||this.notifyListeners(T,pe)},z=this.storage.getItem(T);!function Ys(){return(0,N.w1)()&&10===document.documentMode}()||z===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,v){this.localCache[g]=v;const T=this.listeners[g];if(T)for(const P of Array.from(T))P(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var T=()=>super._set,P=this;return(0,u.Z)(function*(){yield T().call(P,g,v),P.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,T=this;return(0,u.Z)(function*(){const P=yield v().call(T,g);return T.localCache[g]=JSON.stringify(P),P})()}_remove(g){var v=()=>super._remove,T=this;return(0,u.Z)(function*(){yield v().call(T,g),delete T.localCache[g]})()}}return _.type="LOCAL",_})(),Li=(()=>{class _ extends fu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return _.type="SESSION",_})();let Fl=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(P=>P.isListeningto(g));if(v)return v;const T=new _(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,u.Z)(function*(){const T=g,{eventId:P,eventType:z,data:pe}=T.data,He=v.handlersMap[z];if(!He?.size)return;T.ports[0].postMessage({status:"ack",eventId:P,eventType:z});const Qe=Array.from(He).map(function(){var ut=(0,u.Z)(function*(Cn){return Cn(T.origin,pe)});return function(Cn){return ut.apply(this,arguments)}}()),yt=yield function gu(_){return Promise.all(_.map(function(){var f=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}(Qe);T.ports[0].postMessage({status:"done",eventId:P,eventType:z,response:yt})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Do(_="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return _+g}class mu{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var T=this;return(0,u.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let z,pe;return new Promise((He,Qe)=>{const yt=Do("",20);P.port1.start();const ut=setTimeout(()=>{Qe(new Error("unsupported_event"))},v);pe={messageChannel:P,onMessage(Cn){const fn=Cn;if(fn.data.eventId===yt)switch(fn.data.status){case"ack":clearTimeout(ut),z=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),He(fn.data.response);break;default:clearTimeout(ut),clearTimeout(z),Qe(new Error("invalid_response"))}}},T.handlers.add(pe),P.port1.addEventListener("message",pe.onMessage),T.target.postMessage({eventType:f,eventId:yt,data:g},[P.port2])}).finally(()=>{pe&&T.removeMessageHandler(pe)})})()}}function vn(){return window}function bs(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}function ic(){return(ic=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const sc="firebaseLocalStorageDb",Xi="firebaseLocalStorage",ac="fbase_key";class To{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Zo(_,f){return _.transaction([Xi],f?"readwrite":"readonly").objectStore(Xi)}function uc(){const _=indexedDB.open(sc,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(Xi,{keyPath:ac})}catch(T){g(T)}}),_.addEventListener("success",(0,u.Z)(function*(){const v=_.result;v.objectStoreNames.contains(Xi)?f(v):(v.close(),yield function cc(){const _=indexedDB.deleteDatabase(sc);return new To(_).toPromise()}(),f(yield uc()))}))})}function Rr(_,f,g){return _u.apply(this,arguments)}function _u(){return(_u=(0,u.Z)(function*(_,f,g){const v=Zo(_,!0).put({[ac]:f,value:g});return new To(v).toPromise()})).apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(_,f){const g=Zo(_,!1).get(f),v=yield new To(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function pa(_,f){const g=Zo(_,!0).delete(f);return new To(g).toPromise()}const eo=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield uc()),g.db})()}_withRetries(g){var v=this;return(0,u.Z)(function*(){let T=0;for(;;)try{const P=yield v._openDb();return yield g(P)}catch(P){if(T++>3)throw P;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return bs()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Fl._getInstance(function oc(){return bs()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,u.Z)(function*(T,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(T,P){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,u.Z)(function*(T,P){return["keyChanged"]});return function(T,P){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var v,T;if(g.activeServiceWorker=yield function Mo(){return ic.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new mu(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(v=P[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=P[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,u.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Ll(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield uc();return yield Rr(g,yi,"1"),yield pa(g,yi),!0}catch{}return!1})()}_withPendingWrite(g){var v=this;return(0,u.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(P=>Rr(P,g,v)),T.localCache[g]=v,T.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,u.Z)(function*(){const T=yield v._withRetries(P=>function ws(_,f){return Ko.apply(this,arguments)}(P,g));return v.localCache[g]=T,T})()}_remove(g){var v=this;return(0,u.Z)(function*(){return v._withPendingWrite((0,u.Z)(function*(){return yield v._withRetries(T=>pa(T,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const v=yield g._withRetries(z=>{const pe=Zo(z,!1).getAll();return new To(pe).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const T=[],P=new Set;for(const{fbase_key:z,value:pe}of v)P.add(z),JSON.stringify(g.localCache[z])!==JSON.stringify(pe)&&(g.notifyListeners(z,pe),T.push(z));for(const z of Object.keys(g.localCache))g.localCache[z]&&!P.has(z)&&(g.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(g,v){this.localCache[g]=v;const T=this.listeners[g];if(T)for(const P of Array.from(T))P(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function vu(_,f){return yn(_,"POST","/v2/accounts/mfaSignIn:start",ft(_,f))}function Cu(){return(Cu=(0,u.Z)(function*(_){return(yield yn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ci(_){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=f,v.onerror=T=>{const P=Ce("internal-error");P.customData=T,g(P)},v.type="text/javascript",v.charset="UTF-8",function ga(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(v)})}function bu(_){return`__${_}${Math.floor(1e6*Math.random())}`}const ri=1e12;class ch{constructor(f){this.auth=f,this.counter=ri,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new Eu(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||ri;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||ri))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,u.Z)(function*(){var v;return null===(v=g._widgets.get(f||ri))||void 0===v||v.execute(),""})()}}class Eu{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;U(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wu(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const uh=bu("rcb"),Ul=new Ft(3e4,6e4);class Ao{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=vn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return U(function Is(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(vn().grecaptcha):new Promise((v,T)=>{const P=vn().setTimeout(()=>{T(Ce(f,"network-request-failed"))},Ul.get());vn()[uh]=()=>{vn().clearTimeout(P),delete vn()[uh];const pe=vn().grecaptcha;if(!pe)return void T(Ce(f,"internal-error"));const He=pe.render;pe.render=(Qe,yt)=>{const ut=He(Qe,yt);return this.counter++,ut},this.hostLanguage=g,v(pe)},Ci(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:uh,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),T(Ce(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=vn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ma{load(f){return(0,u.Z)(function*(){return new ch(f)})()}clearedOneInstance(){}}const jl="recaptcha",lh={theme:"light",type:"image"};class hc{constructor(f,g=Object.assign({},lh),v){this.parameters=g,this.type=jl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tn(v),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;U(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ma:new Ao,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(P=>{const z=pe=>{!pe||(f.tokenChangeListeners.delete(z),P(pe))};f.tokenChangeListeners.add(z),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=vn()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){U(lt()&&!bs(),f.auth,"internal-error"),yield function dh(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function vi(_){return Cu.apply(this,arguments)}(f.auth);U(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class to{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=mi._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Iu(){return(Iu=(0,u.Z)(function*(_,f,g){const v=Tn(_),T=yield $l(v,f,(0,N.m9)(g));return new to(T,P=>On(v,P))})).apply(this,arguments)}function Du(){return(Du=(0,u.Z)(function*(_,f,g){const v=(0,N.m9)(_);yield zo(!1,v,"phone");const T=yield $l(v.auth,f,(0,N.m9)(g));return new to(T,P=>Ln(v,P))})).apply(this,arguments)}function hh(){return(hh=(0,u.Z)(function*(_,f,g){const v=(0,N.m9)(_),T=yield $l(v.auth,f,(0,N.m9)(g));return new to(T,P=>qo(v,P))})).apply(this,arguments)}function $l(_,f,g){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,u.Z)(function*(_,f,g){var v;const T=yield g.verify();try{let P;if(U("string"==typeof T,_,"argument-error"),U(g.type===jl,_,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const z=P.session;if("phoneNumber"in P)return U("enroll"===z.type,_,"internal-error"),(yield oh(_,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{U("signin"===z.type,_,"internal-error");const pe=(null===(v=P.multiFactorHint)||void 0===v?void 0:v.uid)||P.multiFactorUid;return U(pe,_,"missing-multi-factor-info"),(yield vu(_,{mfaPendingCredential:z.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Cl(_,{phoneNumber:P.phoneNumber,recaptchaToken:T});return z}}finally{g._reset()}})).apply(this,arguments)}function fh(){return(fh=(0,u.Z)(function*(_,f){yield za((0,N.m9)(_),f)})).apply(this,arguments)}let fc=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Tn(g)}verifyPhoneNumber(g,v){return $l(this.auth,g,(0,N.m9)(v))}static credential(g,v){return mi._fromVerification(g,v)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:T}=g;return v&&T?mi._fromTokenResponse(v,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function gn(_,f){return f?oe(f):(U(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class _a extends Nn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Fn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Fn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Fn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Ds(_){return Za(_.auth,new _a(_),_.bypassAuthState)}function ap(_){const{auth:f,user:g}=_;return U(g,f,"internal-error"),Wa(g,new _a(_),_.bypassAuthState)}function Hr(_){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,u.Z)(function*(_){const{auth:f,user:g}=_;return U(g,f,"internal-error"),za(g,new _a(_),_.bypassAuthState)})).apply(this,arguments)}class pc{constructor(f,g,v,T,P=!1){this.auth=f,this.resolver=v,this.user=T,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,u.Z)(function*(v,T){f.pendingPromise={resolve:v,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(v,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,u.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:P,tenantId:z,error:pe,type:He}=f;if(pe)return void g.reject(pe);const Qe={auth:g.auth,requestUri:v,sessionId:T,tenantId:z||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(He)(Qe))}catch(yt){g.reject(yt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ds;case"linkViaPopup":case"linkViaRedirect":return Hr;case"reauthViaPopup":case"reauthViaRedirect":return ap;default:Se(this.auth,"internal-error")}}resolve(f){q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ya=new Ft(2e3,1e4);function Yo(){return(Yo=(0,u.Z)(function*(_,f,g){const v=Tn(_);je(_,f,Qi);const T=gn(v,g);return new Ts(v,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Tu(){return(Tu=(0,u.Z)(function*(_,f,g){const v=(0,N.m9)(_);je(v.auth,f,Qi);const T=gn(v.auth,g);return new Ts(v.auth,"reauthViaPopup",f,T,v).executeNotNull()})).apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(_,f,g){const v=(0,N.m9)(_);je(v.auth,f,Qi);const T=gn(v.auth,g);return new Ts(v.auth,"linkViaPopup",f,T,v).executeNotNull()})).apply(this,arguments)}let Ts=(()=>{class _ extends pc{constructor(g,v,T,P,z){super(g,v,P,z),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const v=yield g.execute();return U(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,u.Z)(function*(){q(1===g.filter.length,"Popup operations only handle one event");const v=Do();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(Ce(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,T;this.pollId=null!==(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ya.get())};g()}}return _.currentPopupAction=null,_})();const Nr=new Map;class gc extends pc{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,u.Z)(function*(){let v=Nr.get(g.auth._key());if(!v){try{const P=(yield function cp(_,f){return Qo.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(P)}catch(T){v=()=>Promise.reject(T)}Nr.set(g.auth._key(),v)}return g.bypassAuthState||Nr.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const T=yield v.auth._redirectUserForId(f.eventId);if(T)return v.user=T,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Qo(){return(Qo=(0,u.Z)(function*(_,f){const g=Ca(f),v=ql(_);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(g));return yield v._remove(g),T})).apply(this,arguments)}function no(_,f){return As.apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(_,f){return ql(_)._set(Ca(f),"true")})).apply(this,arguments)}function So(_,f){Nr.set(_._key(),f)}function ql(_){return oe(_._redirectPersistence)}function Ca(_){return W("pendingRedirect",_.config.apiKey,_.name)}function Au(){return(Au=(0,u.Z)(function*(_,f,g){const v=Tn(_);je(_,f,Qi);const T=gn(v,g);return yield no(T,v),T._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function x(){return(x=(0,u.Z)(function*(_,f,g){const v=(0,N.m9)(_);je(v.auth,f,Qi);const T=gn(v.auth,g);yield no(T,v.auth);const P=yield $t(v);return T._openRedirect(v.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function ie(){return(ie=(0,u.Z)(function*(_,f,g){const v=(0,N.m9)(_);je(v.auth,f,Qi);const T=gn(v.auth,g);yield zo(!1,v,f.providerId),yield no(T,v.auth);const P=yield $t(v);return T._openRedirect(v.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)(function*(_,f){return yield Tn(_)._initializationPromise,et(_,f,!1)})).apply(this,arguments)}function et(_,f){return ot.apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(_,f,g=!1){const v=Tn(_),T=gn(v,f),z=yield new gc(v,T,g).execute();return z&&!g&&(delete z.user._redirectEventId,yield v._persistUserIfCurrent(z.user),yield v._setRedirectUser(null,f)),z})).apply(this,arguments)}function $t(_){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(_){const f=Do(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Xn{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function mc(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xu(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!xu(f)){const T=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(Ce(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Su(f))}saveEventToCache(f){this.cachedEventUids.add(Su(f)),this.lastProcessedEventTime=Date.now()}}function Su(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function xu({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function bi(_){return oi.apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(_,f={}){return yn(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Wl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sC=/^https?/;function wm(){return(wm=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield bi(_);for(const g of f)try{if(Im(g))return}catch{}Se(_,"unauthorized-domain")})).apply(this,arguments)}function Im(_){const f=ke(),{protocol:g,hostname:v}=new URL(f);if(_.startsWith("chrome-extension://")){const z=new URL(_);return""===z.hostname&&""===v?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&z.hostname===v}if(!sC.test(g))return!1;if(Wl.test(_))return v===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const Lw=new Ft(3e4,6e4);function Dm(){const _=vn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Ou=null;function Vw(_){return Ou=Ou||function aC(_){return new Promise((f,g)=>{var v,T,P;function z(){Dm(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Dm(),g(Ce(_,"network-request-failed"))},timeout:Lw.get()})}if(null!==(T=null===(v=vn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(P=vn().gapi)||void 0===P||!P.load){const pe=bu("iframefcb");return vn()[pe]=()=>{gapi.load?z():g(Ce(_,"network-request-failed"))},Ci(`https://apis.google.com/js/api.js?onload=${pe}`).catch(He=>g(He))}z()}}).catch(f=>{throw Ou=null,f})}(_),Ou}const Uw=new Ft(5e3,15e3),jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $w(_){const f=_.config;U(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?dt(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,v={apiKey:f.apiKey,appName:_.name,v:se.SDK_VERSION},T=Hw.get(_.config.apiHost);T&&(v.eid=T);const P=_._getFrameworks();return P.length&&(v.fw=P.join(",")),`${g}?${(0,N.xO)(v).slice(1)}`}function lp(){return lp=(0,u.Z)(function*(_){const f=yield Vw(_),g=vn().gapi;return U(g,_,"internal-error"),f.open({where:document.body,url:$w(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jw,dontclear:!0},v=>new Promise(function(){var T=(0,u.Z)(function*(P,z){yield v.restyle({setHideOnLeave:!1});const pe=Ce(_,"network-request-failed"),He=vn().setTimeout(()=>{z(pe)},Uw.get());function Qe(){vn().clearTimeout(He),P(v)}v.ping(Qe).then(Qe,()=>{z(pe)})});return function(P,z){return T.apply(this,arguments)}}()))}),lp.apply(this,arguments)}const Mm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xo{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zl(_,f,g,v,T,P){U(_.config.authDomain,_,"auth-domain-config-required"),U(_.config.apiKey,_,"invalid-api-key");const z={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:v,v:se.SDK_VERSION,eventId:T};if(f instanceof Qi){f.setDefaultLanguage(_.languageCode),z.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[He,Qe]of Object.entries(P||{}))z[He]=Qe}if(f instanceof Ho){const He=f.getScopes().filter(Qe=>""!==Qe);He.length>0&&(z.scopes=He.join(","))}_.tenantId&&(z.tid=_.tenantId);const pe=z;for(const He of Object.keys(pe))void 0===pe[He]&&delete pe[He];return`${function dC({config:_}){return _.emulator?dt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,N.xO)(pe).slice(1)}`}const hp="webStorageSupport",fp=class hC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Li,this._completeRedirectFn=et,this._overrideRedirectResult=So}_openPopup(f,g,v,T){var P=this;return(0,u.Z)(function*(){var z;q(null===(z=P.eventManagers[f._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const pe=Zl(f,g,v,ke(),T);return function cC(_,f,g,v=500,T=600){const P=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-v)/2,0).toString();let pe="";const He=Object.assign(Object.assign({},Mm),{width:v.toString(),height:T.toString(),top:P,left:z}),Qe=(0,N.z$)().toLowerCase();g&&(pe=Gt(Qe)?"_blank":g),nt(Qe)&&(f=f||"http://localhost",He.scrollbars="yes");const yt=Object.entries(He).reduce((Cn,[fn,Oo])=>`${Cn}${fn}=${Oo},`,"");if(function mr(_=(0,N.z$)()){var f;return zn(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Qe)&&"_self"!==pe)return function uC(_,f){const g=document.createElement("a");g.href=_,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",pe),new xo(null);const ut=window.open(f||"",pe,yt);U(ut,_,"popup-blocked");try{ut.focus()}catch{}return new xo(ut)}(f,pe,Do())})()}_openRedirect(f,g,v,T){var P=this;return(0,u.Z)(function*(){return yield P._originValidation(f),function Cs(_){vn().location.href=_}(Zl(f,g,v,ke(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:P}=this.eventManagers[g];return T?Promise.resolve(T):(q(P,"If manager is not set, promise should be"),P)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,u.Z)(function*(){const v=yield function Gw(_){return lp.apply(this,arguments)}(f),T=new Xn(f);return v.register("authEvent",P=>(U(P?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=v,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(hp,{type:hp},T=>{var P;const z=null===(P=T?.[0])||void 0===P?void 0:P[hp];void 0!==z&&g(!!z),Se(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Em(_){return wm.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Jd()||Nt()||zn()}};class fC{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return ve("unexpected MultiFactorSessionType")}}}class pp extends fC{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new pp(f)}_finalizeEnroll(f,g,v){return function sp(_,f){return yn(_,"POST","/v2/accounts/mfaEnrollment:finalize",ft(_,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function ah(_,f){return yn(_,"POST","/v2/accounts/mfaSignIn:finalize",ft(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ei=(()=>{class _{constructor(){}static assertion(g){return pp._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var ph="@firebase/auth";class mp{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{f(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wa(){return window}function yp(){return(yp=(0,u.Z)(function*(_,f,g){var v;const{BuildInfo:T}=wa();q(f.sessionId,"AuthEvent did not contain a session ID");const P=yield yC(f.sessionId),z={};return zn()?z.ibi=T.packageName:mt()?z.apn=T.packageName:Se(_,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=P,Zl(_,g,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,z)})).apply(this,arguments)}function Yl(){return(Yl=(0,u.Z)(function*(_){const{BuildInfo:f}=wa(),g={};zn()?g.iosBundleId=f.packageName:mt()?g.androidPackageName=f.packageName:Se(_,"operation-not-supported-in-this-environment"),yield bi(_,g)})).apply(this,arguments)}function _c(){return(_c=(0,u.Z)(function*(_,f,g){const{cordova:v}=wa();let T=()=>{};try{yield new Promise((P,z)=>{let pe=null;function He(){var ut;P();const Cn=null===(ut=v.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof Cn&&Cn(),"function"==typeof g?.close&&g.close()}function Qe(){pe||(pe=window.setTimeout(()=>{z(Ce(_,"redirect-cancelled-by-user"))},2e3))}function yt(){"visible"===document?.visibilityState&&Qe()}f.addPassiveListener(He),document.addEventListener("resume",Qe,!1),mt()&&document.addEventListener("visibilitychange",yt,!1),T=()=>{f.removePassiveListener(He),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",yt,!1),pe&&window.clearTimeout(pe)}})}finally{T()}})).apply(this,arguments)}function yC(_){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,u.Z)(function*(_){const f=Cp(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Cp(_){if(q(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let v=0;v<_.length;v++)g[v]=_.charCodeAt(v);return g}(0,N.Pz)("authIdTokenMaxAge"),function Kl(_){(0,se._registerComponent)(new me.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:P,authDomain:z}=v.options;return((pe,He)=>{U(P&&!P.includes(":"),"invalid-api-key",{appName:pe.name}),U(!z?.includes(":"),"argument-error",{appName:pe.name});const Qe={apiKey:P,authDomain:z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ja(_)},yt=new yl(pe,He,Qe);return function Ve(_,f){const g=f?.persistence||[],v=(Array.isArray(g)?g:[g]).map(oe);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(v,f?.popupRedirectResolver)}(yt,g),yt})(v,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new me.wA("auth-internal",f=>{const g=Tn(f.getProvider("auth").getImmediate());return new mp(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(ph,"0.21.0",function $r(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,se.registerVersion)(ph,"0.21.0","esm2017")}("Browser");class Pu extends Xn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function Lm(_){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,u.Z)(function*(_){const f=yield Ep()._get(wp(_));return f&&(yield Ep()._remove(wp(_))),f})).apply(this,arguments)}function CC(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*f.length);_.push(f.charAt(v))}return _.join("")}function Ep(){return oe(pu)}function wp(_){return W("authEvent",_.config.apiKey,_.name)}function Xl(_){if(!_?.includes("?"))return{};const[f,...g]=_.split("?");return(0,N.zd)(g.join("?"))}const Dp=class Vm{constructor(){this._redirectPersistence=Li,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=et,this._overrideRedirectResult=So}_initialize(f){var g=this;return(0,u.Z)(function*(){const v=f._key();let T=g.eventManagers.get(v);return T||(T=new Pu(f),g.eventManagers.set(v,T),g.attachCallbackListeners(f,T)),T})()}_openPopup(f){Se(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,v,T){var P=this;return(0,u.Z)(function*(){!function _C(_){var f,g,v,T,P,z,pe,He,Qe,yt;const ut=wa();U("function"==typeof(null===(f=ut?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(g=ut?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(P=null===(T=null===(v=ut?.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===P?void 0:P.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(He=null===(pe=null===(z=ut?.cordova)||void 0===z?void 0:z.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===He?void 0:He.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(yt=null===(Qe=ut?.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===yt?void 0:yt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const z=yield P._initialize(f);yield z.initialized(),z.resetRedirect(),function Bi(){Nr.clear()}(),yield P._originValidation(f);const pe=function bp(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:CC(),postBody:null,tenantId:_.tenantId,error:Ce(_,"no-auth-event")}}(f,v,T);yield function Fm(_,f){return Ep()._set(wp(_),f)}(f,pe);const He=yield function _p(_,f,g){return yp.apply(this,arguments)}(f,pe,g),Qe=yield function vp(_){const{cordova:f}=wa();return new Promise(g=>{f.plugins.browsertab.isAvailable(v=>{let T=null;v?f.plugins.browsertab.openUrl(_):T=f.InAppBrowser.open(_,function as(_=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(T)})})}(He);return function mC(_,f,g){return _c.apply(this,arguments)}(f,z,Qe)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function gC(_){return Yl.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:v,handleOpenURL:T,BuildInfo:P}=wa(),z=setTimeout((0,u.Z)(function*(){yield Lm(f),g.onEvent(Um())}),500),pe=function(){var yt=(0,u.Z)(function*(ut){clearTimeout(z);const Cn=yield Lm(f);let fn=null;Cn&&ut?.url&&(fn=function vC(_,f){var g,v;const T=function EC(_){const f=Xl(_),g=f.link?decodeURIComponent(f.link):void 0,v=Xl(g).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Xl(T).link||T||v||g||_}(f);if(T.includes("/__/auth/callback")){const P=Xl(T),z=P.firebaseError?function bC(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,pe=null===(v=null===(g=z?.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],He=pe?Ce(pe):null;return He?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(Cn,ut.url)),g.onEvent(fn||Um())});return function(Cn){return yt.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,pe);const He=T,Qe=`${P.packageName.toLowerCase()}://`;wa().handleOpenURL=function(){var yt=(0,u.Z)(function*(ut){if(ut.toLowerCase().startsWith(Qe)&&pe({url:ut}),"function"==typeof He)try{He(ut)}catch(Cn){console.error(Cn)}});return function(ut){return yt.apply(this,arguments)}}()}};function Um(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function Ru(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function $m(_=(0,N.z$)()){return!("file:"!==Ru()&&"ionic:"!==Ru()&&"capacitor:"!==Ru()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mp(){try{const _=self.localStorage,f=Do();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Gm(_=(0,N.z$)()){return function gh(){return(0,N.w1)()&&11===document?.documentMode}()||function IC(_=(0,N.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,N.hl)()}catch{return mh()&&(0,N.hl)()}return!1}function mh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ed(){return(function Hm(){return"http:"===Ru()||"https:"===Ru()}()||(0,N.ru)()||$m())&&!function qw(){return(0,N.b$)()||(0,N.UG)()}()&&Mp()&&!mh()}function Tp(){return $m()&&typeof document<"u"}function Nu(){return(Nu=(0,u.Z)(function*(){return!!Tp()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const si={LOCAL:"local",NONE:"none",SESSION:"session"},vc=U,yh="persistence";function Ap(_){return vh.apply(this,arguments)}function vh(){return(vh=(0,u.Z)(function*(_){yield _._initializationPromise;const f=qm(),g=W(yh,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function qm(){var _;try{return(null===(_=function zm(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Wm=U;class Ss{constructor(){this.browserResolver=oe(fp),this.cordovaResolver=oe(Dp),this.underlyingResolver=null,this._redirectPersistence=Li,this._completeRedirectFn=et,this._overrideRedirectResult=So}_initialize(f){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,v,T){var P=this;return(0,u.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(f,g,v,T)})()}_openRedirect(f,g,v,T){var P=this;return(0,u.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(f,g,v,T)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Tp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const g=yield function _h(){return Nu.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Ch(_){return _.unwrap()}function Eh(_){return Zm(_)}function Zm(_){const{_tokenResponse:f}=_ instanceof N.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof N.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return fc.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=th;break;case"facebook.com":v=El;break;case"github.com":v=Xc;break;case"twitter.com":v=Il;break;default:const{oauthIdToken:T,oauthAccessToken:P,oauthTokenSecret:z,pendingToken:pe,nonce:He}=f;return P||z||T||pe?pe?g.startsWith("saml.")?$a._create(g,pe):Jr._fromParams({providerId:g,signInMethod:g,pendingToken:pe,idToken:T,accessToken:P}):new na(g).credential({idToken:T,accessToken:P,rawNonce:He}):null}return _ instanceof N.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function Gr(_,f){return f.catch(g=>{throw g instanceof N.ZR&&function xs(_,f){var g;const v=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new ji(_,function ur(_,f){var g;const v=(0,N.m9)(_),T=f;return U(f.customData.operationType,v,"argument-error"),U(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),hu._fromError(v,T)}(_,f));else if(v){const T=Zm(f),P=f;T&&(P.credential=T,P.tenantId=v.tenantId||void 0,P.email=v.email||void 0,P.phoneNumber=v.phoneNumber||void 0)}}(_,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:Eh(g),additionalUserInfo:ih(g),user:Jo.getOrCreate(T)}})}function Km(_,f){return ro.apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:v=>Gr(_,g.confirm(v))}})).apply(this,arguments)}class ji{constructor(f,g){this.resolver=g,this.auth=function bh(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Gr(Ch(this.auth),this.resolver.resolveSignIn(f))}}class Jo{constructor(f){this._delegate=f,this.multiFactor=function rc(_){const f=(0,N.m9)(_);return ti.has(f)||ti.set(f,Io._fromUser(f)),ti.get(f)}(f)}static getOrCreate(f){return Jo.USER_MAP.has(f)||Jo.USER_MAP.set(f,new Jo(f)),Jo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,u.Z)(function*(){return Gr(g.auth,Ln(g._delegate,f))})()}linkWithPhoneNumber(f,g){var v=this;return(0,u.Z)(function*(){return Km(v.auth,function Hl(_,f,g){return Du.apply(this,arguments)}(v._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,u.Z)(function*(){return Gr(g.auth,function oC(_,f,g){return lr.apply(this,arguments)}(g._delegate,f,Ss))})()}linkWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield Ap(Tn(g.auth)),function L(_,f,g){return function Y(_,f,g){return ie.apply(this,arguments)}(_,f,g)}(g._delegate,f,Ss)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,u.Z)(function*(){return Gr(g.auth,qo(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Km(this.auth,function bm(_,f,g){return hh.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Gr(this.auth,function zl(_,f,g){return Tu.apply(this,arguments)}(this._delegate,f,Ss))}reauthenticateWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield Ap(Tn(g.auth)),function w(_,f,g){return function D(_,f,g){return x.apply(this,arguments)}(_,f,g)}(g._delegate,f,Ss)})()}sendEmailVerification(f){return function su(_,f){return Ol.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,u.Z)(function*(){return yield function ra(_,f){return Go.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function rp(_,f){return uu((0,N.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function cu(_,f){return uu((0,N.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Mu(_,f){return fh.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ji(_,f){return ei.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function _s(_,f,g){return An.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jo.USER_MAP=new WeakMap;const Cc=U;let ku=(()=>{class _{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;Cc(T,"invalid-api-key",{appName:g.name}),Cc(T,"invalid-api-key",{appName:g.name});const P=typeof window<"u"?Ss:void 0;this._delegate=v.initialize({options:{persistence:wh(T,g.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function Yc(_,f,g){const v=Tn(_);U(v._canInitEmulator,v,"emulator-config-failed"),U(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const T=!!g?.disableWarnings,P=Js(f),{host:z,port:pe}=function Xs(_){const f=Js(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const P=T[1];return{host:P,port:Wt(v.substr(P.length+1))}}{const[P,z]=v.split(":");return{host:P,port:Wt(z)}}}(f);v.config.emulator={url:`${P}//${z}${null===pe?"":`:${pe}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:z,port:pe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function qn(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,v)}applyActionCode(g){return function Ya(_,f){return ru.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Qa(this._delegate,g)}confirmPasswordReset(g,v){return function ua(_,f,g){return It.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var T=this;return(0,u.Z)(function*(){return Gr(T._delegate,function Vn(_,f,g){return Sl.apply(this,arguments)}(T._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ec(_,f){return ms.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function xl(_,f){return"EMAIL_SIGNIN"===ta.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){Cc(ed(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function Pe(_,f){return Xe.apply(this,arguments)}(g._delegate,Ss);return v?Gr(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function wC(_,f){Tn(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,v,T){const{next:P,error:z,complete:pe}=nd(g,v,T);return this._delegate.onAuthStateChanged(P,z,pe)}onIdTokenChanged(g,v,T){const{next:P,error:z,complete:pe}=nd(g,v,T);return this._delegate.onIdTokenChanged(P,z,pe)}sendSignInLinkToEmail(g,v){return function Zt(_,f,g){return ou.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function ki(_,f,g){return ca.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,u.Z)(function*(){let T;switch(function td(_,f){vc(Object.values(si).includes(f),_,"invalid-persistence-type"),(0,N.b$)()?vc(f!==si.SESSION,_,"unsupported-persistence-type"):(0,N.UG)()?vc(f===si.NONE,_,"unsupported-persistence-type"):mh()?vc(f===si.NONE||f===si.LOCAL&&(0,N.hl)(),_,"unsupported-persistence-type"):vc(f===si.NONE||Mp(),_,"unsupported-persistence-type")}(v._delegate,g),g){case si.SESSION:T=Li;break;case si.LOCAL:T=(yield oe(eo)._isAvailable())?eo:pu;break;case si.NONE:T=V;break;default:return Se("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Gr(this._delegate,function nu(_){return nh.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Gr(this._delegate,On(this._delegate,g))}signInWithCustomToken(g){return Gr(this._delegate,function wo(_,f){return Jn.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return Gr(this._delegate,function Me(_,f,g){return On((0,N.m9)(_),Jc.credential(f,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return Gr(this._delegate,function cr(_,f,g){return gs.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return Km(this._delegate,function an(_,f,g){return Iu.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,u.Z)(function*(){return Cc(ed(),v._delegate,"operation-not-supported-in-this-environment"),Gr(v._delegate,function Ms(_,f,g){return Yo.apply(this,arguments)}(v._delegate,g,Ss))})()}signInWithRedirect(g){var v=this;return(0,u.Z)(function*(){return Cc(ed(),v._delegate,"operation-not-supported-in-this-environment"),yield Ap(v._delegate),function ba(_,f,g){return function Ea(_,f,g){return Au.apply(this,arguments)}(_,f,g)}(v._delegate,g,Ss)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Al(_,f){return Ja.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=si,_})();function nd(_,f,g){let v=_;"function"!=typeof _&&({next:v,error:f,complete:g}=_);const T=v;return{next:z=>T(z&&Jo.getOrCreate(z)),error:f,complete:g}}function wh(_,f){const g=function DC(_,f){const g=qm();if(!g)return[];const v=W(yh,_,f);switch(g.getItem(v)){case si.NONE:return[V];case si.LOCAL:return[eo,Li];case si.SESSION:return[Li];default:return[]}}(_,f);if(typeof self<"u"&&!g.includes(eo)&&g.push(eo),typeof window<"u")for(const v of[pu,Li])g.includes(v)||g.push(v);return g.includes(V)||g.push(V),g}class rd{constructor(){this.providerId="phone",this._delegate=new fc(Ch(X.Z.auth()))}static credential(f,g){return fc.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}rd.PHONE_SIGN_IN_METHOD=fc.PHONE_SIGN_IN_METHOD,rd.PROVIDER_ID=fc.PROVIDER_ID;const mn=U;class io{constructor(f,g,v=X.Z.app()){var T;mn(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new hc(f,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ym(_){_.INTERNAL.registerComponent(new me.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new ku(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Jc,FacebookAuthProvider:El,GithubAuthProvider:Xc,GoogleAuthProvider:th,OAuthProvider:na,SAMLAuthProvider:_i,PhoneAuthProvider:rd,PhoneMultiFactorGenerator:Ei,RecaptchaVerifier:io,TwitterAuthProvider:Il,Auth:ku,AuthCredential:Nn,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.3.0")}(X.Z)},8766:(ct,Ee,k)=>{k.d(Ee,{Lj:()=>Se,X3:()=>Fe});var u=k(5861);let N,se;const me=new WeakMap,he=new WeakMap,de=new WeakMap,B=new WeakMap,j=new WeakMap;let Ie={get(U,ve,q){if(U instanceof IDBTransaction){if("done"===ve)return he.get(U);if("objectStoreNames"===ve)return U.objectStoreNames||de.get(U);if("store"===ve)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return De(U[ve])},set:(U,ve,q)=>(U[ve]=q,!0),has:(U,ve)=>U instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in U};function ge(U){return"function"==typeof U?function rt(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...ve){return U.apply(we(this),ve),De(me.get(this))}:function(...ve){return De(U.apply(we(this),ve))}:function(ve,...q){const Q=U.call(we(this),ve,...q);return de.set(Q,ve.sort?ve.sort():[ve]),De(Q)}}(U):(U instanceof IDBTransaction&&function Le(U){if(he.has(U))return;const ve=new Promise((q,Q)=>{const oe=()=>{U.removeEventListener("complete",re),U.removeEventListener("error",Ve),U.removeEventListener("abort",Ve)},re=()=>{q(),oe()},Ve=()=>{Q(U.error||new DOMException("AbortError","AbortError")),oe()};U.addEventListener("complete",re),U.addEventListener("error",Ve),U.addEventListener("abort",Ve)});he.set(U,ve)}(U),((U,ve)=>ve.some(q=>U instanceof q))(U,function ae(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Ie):U)}function De(U){if(U instanceof IDBRequest)return function K(U){const ve=new Promise((q,Q)=>{const oe=()=>{U.removeEventListener("success",re),U.removeEventListener("error",Ve)},re=()=>{q(De(U.result)),oe()},Ve=()=>{Q(U.error),oe()};U.addEventListener("success",re),U.addEventListener("error",Ve)});return ve.then(q=>{q instanceof IDBCursor&&me.set(q,U)}).catch(()=>{}),j.set(ve,U),ve}(U);if(B.has(U))return B.get(U);const ve=ge(U);return ve!==U&&(B.set(U,ve),j.set(ve,U)),ve}const we=U=>j.get(U);function Fe(U,ve,{blocked:q,upgrade:Q,blocking:oe,terminated:re}={}){const Ve=indexedDB.open(U,ve),ke=De(Ve);return Q&&Ve.addEventListener("upgradeneeded",lt=>{Q(De(Ve.result),lt.oldVersion,lt.newVersion,De(Ve.transaction))}),q&&Ve.addEventListener("blocked",()=>q()),ke.then(lt=>{re&&lt.addEventListener("close",()=>re()),oe&&lt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),ke}function Se(U,{blocked:ve}={}){const q=indexedDB.deleteDatabase(U);return ve&&q.addEventListener("blocked",()=>ve()),De(q).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],je=new Map;function Ne(U,ve){if(!(U instanceof IDBDatabase)||ve in U||"string"!=typeof ve)return;if(je.get(ve))return je.get(ve);const q=ve.replace(/FromIndex$/,""),Q=ve!==q,oe=Te.includes(q);if(!(q in(Q?IDBIndex:IDBObjectStore).prototype)||!oe&&!Ce.includes(q))return;const re=function(){var Ve=(0,u.Z)(function*(ke,...lt){const en=this.transaction(ke,oe?"readwrite":"readonly");let un=en.store;return Q&&(un=un.index(lt.shift())),(yield Promise.all([un[q](...lt),oe&&en.done]))[0]});return function(lt){return Ve.apply(this,arguments)}}();return je.set(ve,re),re}!function ze(U){Ie=U(Ie)}(U=>({...U,get:(ve,q,Q)=>Ne(ve,q)||U.get(ve,q,Q),has:(ve,q)=>!!Ne(ve,q)||U.has(ve,q)}))},5861:(ct,Ee,k)=>{function u(N,se,ae,ne,me,he,de){try{var B=N[he](de),j=B.value}catch(K){return void ae(K)}B.done?se(j):Promise.resolve(j).then(ne,me)}function X(N){return function(){var se=this,ae=arguments;return new Promise(function(ne,me){var he=N.apply(se,ae);function de(j){u(he,ne,me,de,B,"next",j)}function B(j){u(he,ne,me,de,B,"throw",j)}de(void 0)})}}k.d(Ee,{Z:()=>X})}},ct=>{ct(ct.s=5847)}]);